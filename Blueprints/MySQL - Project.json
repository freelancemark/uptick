{"status": {"state": "ACTIVE", "message_list": [], "description": "Accessibility:\n* sudo mysql -u root -p[PASSWORD]  \n* default password [ nutanix/4u ]", "resources": {"service_definition_list": [{"singleton": false, "uuid": "cca134c1-b826-4a29-86b2-c723c237253d", "action_list": [{"description": "System action for creating an application", "type": "system", "uuid": "791de67a-613a-4780-8b06-8eaea10ca0b2", "state": "ACTIVE", "critical": false, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Master", "uuid": "cca134c1-b826-4a29-86b2-c723c237253d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "ConfigureMaster", "uuid": "4a10a99b-c339-43ae-98be-3c38ba5a7c03"}, {"kind": "app_task", "name": "GetDBState", "uuid": "b13e6cc0-96c8-426b-8728-c40bf68bb3ff"}], "name": "a6df9f70_dag", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "ConfigureMaster", "uuid": "4a10a99b-c339-43ae-98be-3c38ba5a7c03"}, "edge_type": "user_defined", "type": "", "uuid": "d4185f00-48f0-469e-9572-21eb7abed26e", "to_task_reference": {"kind": "app_task", "name": "GetDBState", "uuid": "b13e6cc0-96c8-426b-8728-c40bf68bb3ff"}}], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "a775883d-b341-44bd-b43b-87c441509dce"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Master", "uuid": "cca134c1-b826-4a29-86b2-c723c237253d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "ConfigureMaster", "state": "ACTIVE", "attrs": {"exit_status": [], "script": "#!/bin/bash\nset -ex\n\n### Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\n\nserver_id=`sudo cat /etc/my.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat /etc/my.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\n#Run only on master\nif [ ${is_master} -eq 0 ]\nthen\nsudo sed -i \"/\\[mysqld\\]/a innodb_flush_log_at_trx_commit=1\" /etc/my.cnf\nsudo sed -i \"/\\[mysqld\\]/a sync_binlog=1\" /etc/my.cnf\n\nsudo mysql -u root -p${mysql_password}<<EOF\nGRANT REPLICATION SLAVE ON *.* to replica@'%' IDENTIFIED BY \"${mysql_password}\";\nFLUSH PRIVILEGES;\nEOF\n\nfi\n\nsudo touch /var/run/mysqld/mysqld.sock\nsudo chown mysql:mysql /var/run/mysqld/mysqld.sock\nsudo systemctl restart mysqld\n\nsleep 5", "script_type": "sh", "type": "", "command_line_args": "", "login_credential_local_reference": {"kind": "app_credential", "name": "CENTOS", "uuid": "59a0a37b-50a9-4d49-9ade-f4a9098df745"}}, "timeout_secs": "", "type": "EXEC", "variable_list": [], "uuid": "4a10a99b-c339-43ae-98be-3c38ba5a7c03"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Master", "uuid": "cca134c1-b826-4a29-86b2-c723c237253d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "GetDBState", "state": "ACTIVE", "attrs": {"exit_status": [], "script": "#!/bin/bash\n\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\nmaster_ip=\"@@{address}@@\"\n\nserver_id=`sudo cat /etc/my.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat /etc/my.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\n\nif [ ${is_master} -eq 0 ]\nthen\n    while true\n    do\n      status=`sudo systemctl status mysql | grep Active: | awk ' { print $3 }' | sed 's#[(|)]##g'`\n  \t  [ $status = \"running\" ] && break\n      echo $status\n  \t  sleep 2\n    done\n    \n    MYSQL_BIN=$(sudo mysql -u root -p${mysql_password} -e 'show master status;' | grep mysql-bin | awk '{print $1}')\n\tMYSQL_POSITION=$(sudo mysql -u root -p${mysql_password} -e 'show master status;' | grep mysql-bin | awk '{print $2}')\n    \n    echo \"MYSQL_BIN=$MYSQL_BIN\"\n\techo \"MYSQL_POSITION=$MYSQL_POSITION\"\n    echo \"MYSQL_MASTER_IP=$master_ip\"\nfi\n", "eval_variables": ["MYSQL_BIN", "MYSQL_POSITION", "MYSQL_MASTER_IP"], "eval_scope": "local", "script_type": "sh", "type": "", "login_credential_local_reference": {"kind": "app_credential", "name": "CENTOS", "uuid": "59a0a37b-50a9-4d49-9ade-f4a9098df745"}}, "timeout_secs": "", "type": "SET_VARIABLE", "variable_list": [], "uuid": "b13e6cc0-96c8-426b-8728-c40bf68bb3ff"}], "description": "", "name": "0a970522_runbook", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "a6df9f70_dag", "uuid": "a775883d-b341-44bd-b43b-87c441509dce"}, "message_list": [], "variable_list": [], "uuid": "7a358965-611d-4cfa-820b-97f097841617"}, "message_list": [], "name": "action_create"}, {"description": "System action for deleting an application. Deletes physical machines as well", "type": "system", "uuid": "9deb16e3-7358-4b94-916a-887e5d5fb3e2", "state": "ACTIVE", "critical": false, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Master", "uuid": "cca134c1-b826-4a29-86b2-c723c237253d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "3f9277cd_dag", "state": "ACTIVE", "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "5599386a-c680-4700-84de-cc84f24a1135"}], "description": "", "name": "5fd47ec3_runbook", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "3f9277cd_dag", "uuid": "5599386a-c680-4700-84de-cc84f24a1135"}, "message_list": [], "variable_list": [], "uuid": "d51a0752-03fa-42c7-8338-f0cf594666c2"}, "message_list": [], "name": "action_delete"}, {"description": "System action for starting an application", "type": "system", "uuid": "6d4baf80-a1e4-419f-bdc5-8c1d43b22859", "state": "ACTIVE", "critical": false, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Master", "uuid": "cca134c1-b826-4a29-86b2-c723c237253d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "32e9c292_dag", "state": "ACTIVE", "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "c39b0377-b51a-4426-b865-f330dc01589d"}], "description": "", "name": "5ddb28d1_runbook", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "32e9c292_dag", "uuid": "c39b0377-b51a-4426-b865-f330dc01589d"}, "message_list": [], "variable_list": [], "uuid": "bd4efbf3-b76f-4aab-90cb-0e572d360742"}, "message_list": [], "name": "action_start"}, {"description": "System action for stopping an application", "type": "system", "uuid": "dab9ef5c-d259-4708-b148-c58a9e2d10c4", "state": "ACTIVE", "critical": false, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Master", "uuid": "cca134c1-b826-4a29-86b2-c723c237253d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "ce63573f_dag", "state": "ACTIVE", "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "884c1f05-57bc-490e-beeb-b7133b15351f"}], "description": "", "name": "0aefbca3_runbook", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "ce63573f_dag", "uuid": "884c1f05-57bc-490e-beeb-b7133b15351f"}, "message_list": [], "variable_list": [], "uuid": "6ba0d524-a652-4f98-8f92-6ec865842a9b"}, "message_list": [], "name": "action_stop"}, {"description": "System action for restarting an application", "type": "system", "uuid": "421a5987-e888-4ed9-a5a8-08821b29bb07", "state": "ACTIVE", "critical": false, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Master", "uuid": "cca134c1-b826-4a29-86b2-c723c237253d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "c4afa1a6_dag", "state": "ACTIVE", "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "efe00592-7a7c-4533-8a7d-d27a61a16e55"}], "description": "", "name": "7e709238_runbook", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "c4afa1a6_dag", "uuid": "efe00592-7a7c-4533-8a7d-d27a61a16e55"}, "message_list": [], "variable_list": [], "uuid": "846b1b85-5920-4e9f-b012-bbcd162ce37f"}, "message_list": [], "name": "action_restart"}, {"description": "System action for deleting an application. Does not delete physical machines", "type": "system", "uuid": "9b53d0d0-6609-410e-847d-4d931775dcf9", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Master", "uuid": "cca134c1-b826-4a29-86b2-c723c237253d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__Service_Element_Delete_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "bb8ca98a-d5fd-498f-a2ef-59cfddfd480f"}], "name": "SYS_GEN__DAG_Service_cca134c1_b826_4a29_86b2_c723c237253d", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "33df0ad4-793b-45d5-b6c8-75806fb36cbc"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Master", "uuid": "cca134c1-b826-4a29-86b2-c723c237253d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Service_Element_Delete_cca134c1_b826_4a29_86b2_c723c237253d", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "", "type": "SOFT_DELETE_ELEMENT", "variable_list": [], "uuid": "bb8ca98a-d5fd-498f-a2ef-59cfddfd480f"}], "description": "", "name": "SYS_GEN__Runbook_Service_cca134c1_b826_4a29_86b2_c723c237253d", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "33df0ad4-793b-45d5-b6c8-75806fb36cbc"}, "message_list": [], "variable_list": [], "uuid": "2ee79c4f-1b76-45fe-a054-5539ff69b85d"}, "message_list": [], "name": "action_soft_delete"}], "depends_on_list": [], "name": "MySQL_Master", "state": "ACTIVE", "port_list": [], "editables": {}, "tier": "", "message_list": [], "variable_list": [], "description": ""}, {"singleton": false, "uuid": "e96a9978-1ad8-4ae2-b7a3-cf9b174f864a", "action_list": [{"description": "System action for creating an application", "type": "system", "uuid": "89962e93-ed9b-4ce6-ad09-2b7823251b42", "state": "ACTIVE", "critical": false, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Slave", "uuid": "e96a9978-1ad8-4ae2-b7a3-cf9b174f864a"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "ConfigureSlaves", "uuid": "e35c4c7c-1a50-4a76-85a7-7d562baad3f9"}], "name": "93f99bda_dag", "state": "ACTIVE", "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "08d678f7-27b9-44c4-966f-9b0eaa055d90"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Slave", "uuid": "e96a9978-1ad8-4ae2-b7a3-cf9b174f864a"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "ConfigureSlaves", "state": "ACTIVE", "attrs": {"exit_status": [], "script": "#!/bin/bash\n\n\n### Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\nmaster_ip=\"@@{MySQL_Master.MYSQL_MASTER_IP}@@\"\nmaster_bin=\"@@{MySQL_Master.MYSQL_BIN}@@\"\nmaster_position=\"@@{MySQL_Master.MYSQL_POSITION}@@\"\n\nserver_id=`sudo cat /etc/my.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat /etc/my.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\n### Runs on slaves\nif [ ${is_master} -ne 0 ]\nthen\n  sudo mysql -u root -p${mysql_password} -e \"change master to master_host='${master_ip}',master_user='replica',master_password='${mysql_password}',master_log_file='${master_bin}',master_log_pos=${master_position};\"\n  sudo mysql -u root -p${mysql_password} -e 'start slave;'\n  sudo mysql -u root -p${mysql_password} -e 'show slave status\\G' | grep -A11 Slave_IO_State\nfi", "script_type": "sh", "type": "", "command_line_args": "", "login_credential_local_reference": {"kind": "app_credential", "name": "CENTOS", "uuid": "59a0a37b-50a9-4d49-9ade-f4a9098df745"}}, "timeout_secs": "", "type": "EXEC", "variable_list": [], "uuid": "e35c4c7c-1a50-4a76-85a7-7d562baad3f9"}], "description": "", "name": "d54168c9_runbook", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "93f99bda_dag", "uuid": "08d678f7-27b9-44c4-966f-9b0eaa055d90"}, "message_list": [], "variable_list": [], "uuid": "674d1ef9-2649-4c20-9cc6-29c73880dfa0"}, "message_list": [], "name": "action_create"}, {"description": "System action for deleting an application. Deletes physical machines as well", "type": "system", "uuid": "caa3860a-5cc3-41ac-8a8e-e701fb45d1b3", "state": "ACTIVE", "critical": false, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Slave", "uuid": "e96a9978-1ad8-4ae2-b7a3-cf9b174f864a"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "5066b603_dag", "state": "ACTIVE", "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "59831d4e-cf88-403b-8846-c34ab54b2d8f"}], "description": "", "name": "92247e35_runbook", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "5066b603_dag", "uuid": "59831d4e-cf88-403b-8846-c34ab54b2d8f"}, "message_list": [], "variable_list": [], "uuid": "8313c934-78a4-457c-8403-d1223a46c2c3"}, "message_list": [], "name": "action_delete"}, {"description": "System action for starting an application", "type": "system", "uuid": "94599d57-6a66-4f38-8553-aa0bd1ffccf0", "state": "ACTIVE", "critical": false, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Slave", "uuid": "e96a9978-1ad8-4ae2-b7a3-cf9b174f864a"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "abefdcaf_dag", "state": "ACTIVE", "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "21341dcf-7b1d-45ae-b28a-c751854ad490"}], "description": "", "name": "a027cde0_runbook", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "abefdcaf_dag", "uuid": "21341dcf-7b1d-45ae-b28a-c751854ad490"}, "message_list": [], "variable_list": [], "uuid": "be7edeb3-8796-455e-ae89-aecebe6bf01d"}, "message_list": [], "name": "action_start"}, {"description": "System action for stopping an application", "type": "system", "uuid": "de4b480a-2b3f-43b5-b285-4695084e6272", "state": "ACTIVE", "critical": false, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Slave", "uuid": "e96a9978-1ad8-4ae2-b7a3-cf9b174f864a"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "097fa65d_dag", "state": "ACTIVE", "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "ecce1979-dbf9-441a-82d2-d8721dc1bb94"}], "description": "", "name": "4a2ad0be_runbook", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "097fa65d_dag", "uuid": "ecce1979-dbf9-441a-82d2-d8721dc1bb94"}, "message_list": [], "variable_list": [], "uuid": "769af1fb-afad-4878-be4f-500f9bdc8b7f"}, "message_list": [], "name": "action_stop"}, {"description": "System action for restarting an application", "type": "system", "uuid": "2a85e14e-7c02-4fd4-80ae-602305c6f1ad", "state": "ACTIVE", "critical": false, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Slave", "uuid": "e96a9978-1ad8-4ae2-b7a3-cf9b174f864a"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "e1f94389_dag", "state": "ACTIVE", "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "3642183a-e911-4a39-9e7e-44390e2c055f"}], "description": "", "name": "f2b2a076_runbook", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "e1f94389_dag", "uuid": "3642183a-e911-4a39-9e7e-44390e2c055f"}, "message_list": [], "variable_list": [], "uuid": "1e44d351-4796-4eef-b672-e1825c7bd3c9"}, "message_list": [], "name": "action_restart"}, {"description": "System action for deleting an application. Does not delete physical machines", "type": "system", "uuid": "e7b0cfdd-4c77-47be-a99e-c47329628fb9", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Slave", "uuid": "e96a9978-1ad8-4ae2-b7a3-cf9b174f864a"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__Service_Element_Delete_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "c5faa47d-2402-464e-8272-0400c9f06c69"}], "name": "SYS_GEN__DAG_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "afb66ebb-3155-43f2-84fb-3f3359c03999"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Slave", "uuid": "e96a9978-1ad8-4ae2-b7a3-cf9b174f864a"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Service_Element_Delete_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "", "type": "SOFT_DELETE_ELEMENT", "variable_list": [], "uuid": "c5faa47d-2402-464e-8272-0400c9f06c69"}], "description": "", "name": "SYS_GEN__Runbook_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "afb66ebb-3155-43f2-84fb-3f3359c03999"}, "message_list": [], "variable_list": [], "uuid": "689520c6-6efb-4d4a-a874-74418185d66d"}, "message_list": [], "name": "action_soft_delete"}], "depends_on_list": [{"kind": "app_service", "uuid": "cca134c1-b826-4a29-86b2-c723c237253d", "name": "MySQL_Master"}], "name": "MySQL_Slave", "state": "ACTIVE", "port_list": [], "editables": {}, "tier": "", "message_list": [], "variable_list": [], "description": ""}], "substrate_definition_list": [{"description": "", "action_list": [{"description": "System action for creating an application", "type": "system", "uuid": "5dfe2f90-66d0-41a0-ab50-9a01aa9f2ab5", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_substrate", "name": "AHVMaster", "uuid": "e1058034-e16a-4e60-9ce6-4a66d9818700"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__Nutanix_Provision_e1058034_e16a_4e60_9ce6_4a66d9818700", "uuid": "8d07cd10-504c-465b-80d6-afbba109b2ec"}, {"kind": "app_task", "name": "SYS_GEN__check_login_for_AHVMaster_e1058034_e16a_4e60_9ce6_4a66d9818700", "uuid": "63b73e4f-e708-4949-a52e-9eb290e757ed"}], "name": "SYS_GEN__DAG_Substrate_e1058034_e16a_4e60_9ce6_4a66d9818700", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__Nutanix_Provision_e1058034_e16a_4e60_9ce6_4a66d9818700", "uuid": "8d07cd10-504c-465b-80d6-afbba109b2ec"}, "edge_type": "inherent", "type": "", "uuid": "c6c14f38-e96b-4b63-b955-d64c63d74a76", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__check_login_for_AHVMaster_e1058034_e16a_4e60_9ce6_4a66d9818700", "uuid": "63b73e4f-e708-4949-a52e-9eb290e757ed"}}], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "b3c5282d-6a0b-4ddc-8390-7382dc272cbd"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AHVMaster", "uuid": "e1058034-e16a-4e60-9ce6-4a66d9818700"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Nutanix_Provision_e1058034_e16a_4e60_9ce6_4a66d9818700", "state": "ACTIVE", "attrs": {"name": "MySQLMaster", "availability_zone_reference": null, "backup_policy": null, "type": "", "cluster_reference": null, "resources": {"nic_list": [{"nic_type": "NORMAL_NIC", "ip_endpoint_list": [], "network_function_chain_reference": null, "network_function_nic_type": "INGRESS", "mac_address": "", "subnet_reference": {"kind": "subnet", "type": "", "name": "", "uuid": "1aa99997-98f7-4cad-b3e6-558ca5a37e33"}, "type": ""}], "power_state": "ON", "guest_tools": null, "num_vcpus_per_socket": 1, "num_sockets": 2, "gpu_list": [], "memory_size_mib": 4096, "parent_reference": null, "hardware_clock_timezone": "", "guest_customization": {"cloud_init": {"meta_data": "", "type": "", "user_data": "#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{INSTANCE_PUBLIC_KEY}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']"}, "type": "", "sysprep": null}, "type": "", "boot_config": {"boot_device": {"type": "", "disk_address": {"type": "", "device_index": 0, "adapter_type": "SCSI"}}, "type": "", "mac_address": ""}, "disk_list": [{"data_source_reference": {"kind": "image", "type": "", "name": "CentOS", "uuid": "c14140d0-7fc6-4ff2-98ef-4c40c5fd0b8f"}, "type": "", "disk_size_mib": 0, "device_properties": {"type": "", "disk_address": {"type": "", "device_index": 0, "adapter_type": "SCSI"}, "device_type": "DISK"}}]}}, "timeout_secs": "", "type": "PROVISION_NUTANIX", "variable_list": [], "uuid": "8d07cd10-504c-465b-80d6-afbba109b2ec"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AHVMaster", "uuid": "e1058034-e16a-4e60-9ce6-4a66d9818700"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__check_login_for_AHVMaster_e1058034_e16a_4e60_9ce6_4a66d9818700", "state": "ACTIVE", "attrs": {"type": "CHECK_LOGIN", "timeout": "60", "address": "@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@"}, "timeout_secs": "", "type": "CHECK_LOGIN", "variable_list": [], "uuid": "63b73e4f-e708-4949-a52e-9eb290e757ed"}], "description": "", "name": "SYS_GEN__Runbook_Substrate_e1058034_e16a_4e60_9ce6_4a66d9818700", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Substrate_e1058034_e16a_4e60_9ce6_4a66d9818700", "uuid": "b3c5282d-6a0b-4ddc-8390-7382dc272cbd"}, "message_list": [], "variable_list": [], "uuid": "0a7c93cd-f426-463a-b311-72110dea88d3"}, "message_list": [], "name": "action_create"}, {"description": "System action for powering on an application", "type": "system", "uuid": "347203f2-17e4-4631-bba3-22b2445b7b86", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_substrate", "name": "AHVMaster", "uuid": "e1058034-e16a-4e60-9ce6-4a66d9818700"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__Nutanix_Operation_PowerOn_e1058034_e16a_4e60_9ce6_4a66d9818700", "uuid": "88d583cf-75ba-4cd0-aba6-906d6422fe07"}, {"kind": "app_task", "name": "check_login_for_AHVMaster_e1058034_e16a_4e60_9ce6_4a66d9818700", "uuid": "e75dced9-6c58-420d-8dd9-5af4d1096927"}], "name": "SYS_GEN__DAG_Substrate_e1058034_e16a_4e60_9ce6_4a66d9818700", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__Nutanix_Operation_PowerOn_e1058034_e16a_4e60_9ce6_4a66d9818700", "uuid": "88d583cf-75ba-4cd0-aba6-906d6422fe07"}, "edge_type": "inherent", "type": "", "uuid": "96fdfee3-48e7-49c8-bd0d-98d6a8d0f94e", "to_task_reference": {"kind": "app_task", "name": "check_login_for_AHVMaster_e1058034_e16a_4e60_9ce6_4a66d9818700", "uuid": "e75dced9-6c58-420d-8dd9-5af4d1096927"}}], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "b6168c09-1e8f-4174-970e-daab02712530"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AHVMaster", "uuid": "e1058034-e16a-4e60-9ce6-4a66d9818700"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Nutanix_Operation_PowerOn_e1058034_e16a_4e60_9ce6_4a66d9818700", "state": "ACTIVE", "attrs": {"type": "GENERIC_OPERATION"}, "timeout_secs": "", "type": "VMOPERATION_NUTANIX", "variable_list": [], "uuid": "88d583cf-75ba-4cd0-aba6-906d6422fe07"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AHVMaster", "uuid": "e1058034-e16a-4e60-9ce6-4a66d9818700"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "check_login_for_AHVMaster_e1058034_e16a_4e60_9ce6_4a66d9818700", "state": "ACTIVE", "attrs": {"type": "CHECK_LOGIN", "timeout": "60", "address": "@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@"}, "timeout_secs": "", "type": "CHECK_LOGIN", "variable_list": [], "uuid": "e75dced9-6c58-420d-8dd9-5af4d1096927"}], "description": "", "name": "SYS_GEN__Runbook_Substrate_e1058034_e16a_4e60_9ce6_4a66d9818700", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Substrate_e1058034_e16a_4e60_9ce6_4a66d9818700", "uuid": "b6168c09-1e8f-4174-970e-daab02712530"}, "message_list": [], "variable_list": [], "uuid": "5968b101-b044-42ad-84a5-fdb6522ab115"}, "message_list": [], "name": "action_poweron"}, {"description": "System action for suspending an application", "type": "system", "uuid": "4302433a-be5d-404a-a69f-6cd19d516cbe", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_substrate", "name": "AHVMaster", "uuid": "e1058034-e16a-4e60-9ce6-4a66d9818700"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__DAG_Substrate_e1058034_e16a_4e60_9ce6_4a66d9818700", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "b9ee44bf-5e77-499e-8a57-b4782c72d85e"}], "description": "", "name": "SYS_GEN__Runbook_Substrate_e1058034_e16a_4e60_9ce6_4a66d9818700", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Substrate_e1058034_e16a_4e60_9ce6_4a66d9818700", "uuid": "b9ee44bf-5e77-499e-8a57-b4782c72d85e"}, "message_list": [], "variable_list": [], "uuid": "588a49eb-bba6-419d-b081-6c7461ea9e46"}, "message_list": [], "name": "action_suspend"}, {"description": "System action for modifying an application", "type": "system", "uuid": "bda84b49-f30d-4a25-8d79-ceaeaf5e7bd0", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_substrate", "name": "AHVMaster", "uuid": "e1058034-e16a-4e60-9ce6-4a66d9818700"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__DAG_Substrate_e1058034_e16a_4e60_9ce6_4a66d9818700", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "d967f512-44de-4534-a314-d67ed80bc746"}], "description": "", "name": "SYS_GEN__Runbook_Substrate_e1058034_e16a_4e60_9ce6_4a66d9818700", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Substrate_e1058034_e16a_4e60_9ce6_4a66d9818700", "uuid": "d967f512-44de-4534-a314-d67ed80bc746"}, "message_list": [], "variable_list": [], "uuid": "3c7035e3-2540-4637-b2bc-537bc647ba3a"}, "message_list": [], "name": "action_modify"}, {"description": "System action for powering off an application", "type": "system", "uuid": "dbdfd9b9-b556-4f6b-954c-16399898d5e0", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_substrate", "name": "AHVMaster", "uuid": "e1058034-e16a-4e60-9ce6-4a66d9818700"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__Nutanix_Operation_PowerOff_e1058034_e16a_4e60_9ce6_4a66d9818700", "uuid": "6e0f3edd-92e6-4772-ab2e-7e1b033e3efd"}], "name": "SYS_GEN__DAG_Substrate_e1058034_e16a_4e60_9ce6_4a66d9818700", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "0f3b3ba6-5504-4f69-9133-e4da0d0d6970"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AHVMaster", "uuid": "e1058034-e16a-4e60-9ce6-4a66d9818700"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Nutanix_Operation_PowerOff_e1058034_e16a_4e60_9ce6_4a66d9818700", "state": "ACTIVE", "attrs": {"type": "GENERIC_OPERATION"}, "timeout_secs": "", "type": "VMOPERATION_NUTANIX", "variable_list": [], "uuid": "6e0f3edd-92e6-4772-ab2e-7e1b033e3efd"}], "description": "", "name": "SYS_GEN__Runbook_Substrate_e1058034_e16a_4e60_9ce6_4a66d9818700", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Substrate_e1058034_e16a_4e60_9ce6_4a66d9818700", "uuid": "0f3b3ba6-5504-4f69-9133-e4da0d0d6970"}, "message_list": [], "variable_list": [], "uuid": "279bab7d-c728-417c-859d-5e823935fce5"}, "message_list": [], "name": "action_poweroff"}, {"description": "System action for deleting an application. Deletes physical machines as well", "type": "system", "uuid": "d56171e5-4df4-49ba-ac36-08eb5ca0a02d", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_substrate", "name": "AHVMaster", "uuid": "e1058034-e16a-4e60-9ce6-4a66d9818700"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__Nutanix_Delete_e1058034_e16a_4e60_9ce6_4a66d9818700", "uuid": "dbf0f3f2-5b6e-45cd-8917-9f6d4ddb1f47"}], "name": "SYS_GEN__DAG_Substrate_e1058034_e16a_4e60_9ce6_4a66d9818700", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "268f16ac-adb9-4c83-8e14-5fefabad39d2"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AHVMaster", "uuid": "e1058034-e16a-4e60-9ce6-4a66d9818700"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Nutanix_Delete_e1058034_e16a_4e60_9ce6_4a66d9818700", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "", "type": "DELETE_NUTANIX", "variable_list": [], "uuid": "dbf0f3f2-5b6e-45cd-8917-9f6d4ddb1f47"}], "description": "", "name": "SYS_GEN__Runbook_Substrate_e1058034_e16a_4e60_9ce6_4a66d9818700", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Substrate_e1058034_e16a_4e60_9ce6_4a66d9818700", "uuid": "268f16ac-adb9-4c83-8e14-5fefabad39d2"}, "message_list": [], "variable_list": [], "uuid": "df191e41-0aae-4422-92e9-c259bf5f04eb"}, "message_list": [], "name": "action_delete"}, {"description": "System action for deleting an application. Does not delete physical machines", "type": "system", "uuid": "89bbb01f-137b-49e2-8893-7e45a8b5636b", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_substrate", "name": "AHVMaster", "uuid": "e1058034-e16a-4e60-9ce6-4a66d9818700"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__Substrate_Element_Delete_e1058034_e16a_4e60_9ce6_4a66d9818700", "uuid": "99f3d640-4904-4aba-a8d9-a0ceb1c75848"}], "name": "SYS_GEN__DAG_Substrate_e1058034_e16a_4e60_9ce6_4a66d9818700", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "666014f6-20b8-48a2-a213-da468c9131f8"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AHVMaster", "uuid": "e1058034-e16a-4e60-9ce6-4a66d9818700"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Substrate_Element_Delete_e1058034_e16a_4e60_9ce6_4a66d9818700", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "", "type": "SOFT_DELETE_ELEMENT", "variable_list": [], "uuid": "99f3d640-4904-4aba-a8d9-a0ceb1c75848"}], "description": "", "name": "SYS_GEN__Runbook_Substrate_e1058034_e16a_4e60_9ce6_4a66d9818700", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Substrate_e1058034_e16a_4e60_9ce6_4a66d9818700", "uuid": "666014f6-20b8-48a2-a213-da468c9131f8"}, "message_list": [], "variable_list": [], "uuid": "8f178de0-ab0a-4fe9-8caa-060312b7f1fe"}, "message_list": [], "name": "action_soft_delete"}], "type": "AHV_VM", "name": "AHVMaster", "state": "ACTIVE", "readiness_probe": {"connection_type": "SSH", "disable_readiness_probe": false, "timeout_secs": "60", "address": "@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@", "connection_port": 22, "login_credential_local_reference": {"kind": "app_credential", "name": "CENTOS", "uuid": "59a0a37b-50a9-4d49-9ade-f4a9098df745"}}, "editables": {"readiness_probe": {"connection_port": true, "timeout_secs": true}, "create_spec": {"name": true, "resources": {"nic_list": {"0": {"subnet_reference": true}}, "num_vcpus_per_socket": true, "num_sockets": true, "memory_size_mib": true, "guest_customization": true, "disk_list": {"0": {"device_properties": {"disk_address": {}}}}}}}, "os_type": "Linux", "message_list": [], "create_spec": {"name": "MySQLMaster", "availability_zone_reference": null, "backup_policy": null, "type": "", "cluster_reference": null, "resources": {"nic_list": [{"nic_type": "NORMAL_NIC", "ip_endpoint_list": [], "network_function_chain_reference": null, "network_function_nic_type": "INGRESS", "mac_address": "", "subnet_reference": {"kind": "subnet", "type": "", "name": "", "uuid": "1aa99997-98f7-4cad-b3e6-558ca5a37e33"}, "type": ""}], "power_state": "ON", "guest_tools": null, "num_vcpus_per_socket": 1, "num_sockets": 2, "gpu_list": [], "memory_size_mib": 4096, "parent_reference": null, "hardware_clock_timezone": "", "guest_customization": {"cloud_init": {"meta_data": "", "type": "", "user_data": "#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{INSTANCE_PUBLIC_KEY}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']"}, "type": "", "sysprep": null}, "type": "", "boot_config": {"boot_device": {"type": "", "disk_address": {"type": "", "device_index": 0, "adapter_type": "SCSI"}}, "type": "", "mac_address": ""}, "disk_list": [{"data_source_reference": {"kind": "image", "type": "", "name": "CentOS", "uuid": "c14140d0-7fc6-4ff2-98ef-4c40c5fd0b8f"}, "type": "", "disk_size_mib": 0, "device_properties": {"type": "", "disk_address": {"type": "", "device_index": 0, "adapter_type": "SCSI"}, "device_type": "DISK"}}]}}, "variable_list": [], "uuid": "e1058034-e16a-4e60-9ce6-4a66d9818700"}, {"description": "", "action_list": [{"description": "System action for creating an application", "type": "system", "uuid": "261b7ba1-347f-4a6b-a792-f4fe04fe9f19", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_substrate", "name": "AHVSlave", "uuid": "8da052f5-54f7-436e-b65a-a492ffb8bfd1"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__Nutanix_Provision_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "uuid": "a4369696-d2b2-4a04-99a4-ff1c10e3cd07"}, {"kind": "app_task", "name": "SYS_GEN__check_login_for_AHVSlave_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "uuid": "eafe7fbd-3389-4ca6-a81e-1a2c41cf67cb"}], "name": "SYS_GEN__DAG_Substrate_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__Nutanix_Provision_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "uuid": "a4369696-d2b2-4a04-99a4-ff1c10e3cd07"}, "edge_type": "inherent", "type": "", "uuid": "4d24ee2e-80a3-4be9-af21-d35cdadab818", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__check_login_for_AHVSlave_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "uuid": "eafe7fbd-3389-4ca6-a81e-1a2c41cf67cb"}}], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "6d105770-9c85-45c6-aa92-9930a2ba260c"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AHVSlave", "uuid": "8da052f5-54f7-436e-b65a-a492ffb8bfd1"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Nutanix_Provision_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "state": "ACTIVE", "attrs": {"name": "MySQLSlaveVM", "availability_zone_reference": null, "backup_policy": null, "type": "", "cluster_reference": null, "resources": {"nic_list": [{"nic_type": "NORMAL_NIC", "ip_endpoint_list": [], "network_function_chain_reference": null, "network_function_nic_type": "INGRESS", "mac_address": "", "subnet_reference": {"kind": "subnet", "type": "", "name": "", "uuid": "1aa99997-98f7-4cad-b3e6-558ca5a37e33"}, "type": ""}], "power_state": "ON", "guest_tools": null, "num_vcpus_per_socket": 1, "num_sockets": 2, "gpu_list": [], "memory_size_mib": 4096, "parent_reference": null, "hardware_clock_timezone": "", "guest_customization": {"cloud_init": {"meta_data": "", "type": "", "user_data": "#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{INSTANCE_PUBLIC_KEY}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']"}, "type": "", "sysprep": null}, "type": "", "boot_config": null, "disk_list": [{"data_source_reference": {"kind": "image", "type": "", "name": "CentOS", "uuid": "c14140d0-7fc6-4ff2-98ef-4c40c5fd0b8f"}, "type": "", "disk_size_mib": 0, "device_properties": {"type": "", "disk_address": {"type": "", "device_index": 0, "adapter_type": "SCSI"}, "device_type": "DISK"}}]}}, "timeout_secs": "", "type": "PROVISION_NUTANIX", "variable_list": [], "uuid": "a4369696-d2b2-4a04-99a4-ff1c10e3cd07"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AHVSlave", "uuid": "8da052f5-54f7-436e-b65a-a492ffb8bfd1"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__check_login_for_AHVSlave_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "state": "ACTIVE", "attrs": {"type": "CHECK_LOGIN", "timeout": "60", "address": "@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@"}, "timeout_secs": "", "type": "CHECK_LOGIN", "variable_list": [], "uuid": "eafe7fbd-3389-4ca6-a81e-1a2c41cf67cb"}], "description": "", "name": "SYS_GEN__Runbook_Substrate_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Substrate_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "uuid": "6d105770-9c85-45c6-aa92-9930a2ba260c"}, "message_list": [], "variable_list": [], "uuid": "8e8be8e8-d57d-4362-bebb-d55c838f7216"}, "message_list": [], "name": "action_create"}, {"description": "System action for powering on an application", "type": "system", "uuid": "d9da8545-7c2c-4c7a-8777-d0d08f393363", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_substrate", "name": "AHVSlave", "uuid": "8da052f5-54f7-436e-b65a-a492ffb8bfd1"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__Nutanix_Operation_PowerOn_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "uuid": "d769ceea-73d8-427e-a3c1-1848954b9500"}, {"kind": "app_task", "name": "check_login_for_AHVSlave_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "uuid": "ef51be22-4866-4a42-82ed-f2c4ee2e41e1"}], "name": "SYS_GEN__DAG_Substrate_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__Nutanix_Operation_PowerOn_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "uuid": "d769ceea-73d8-427e-a3c1-1848954b9500"}, "edge_type": "inherent", "type": "", "uuid": "97900f8a-146e-46d6-8679-b515e011b617", "to_task_reference": {"kind": "app_task", "name": "check_login_for_AHVSlave_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "uuid": "ef51be22-4866-4a42-82ed-f2c4ee2e41e1"}}], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "b48f1934-1c7e-4dfc-8add-f8d4c74eb144"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AHVSlave", "uuid": "8da052f5-54f7-436e-b65a-a492ffb8bfd1"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Nutanix_Operation_PowerOn_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "state": "ACTIVE", "attrs": {"type": "GENERIC_OPERATION"}, "timeout_secs": "", "type": "VMOPERATION_NUTANIX", "variable_list": [], "uuid": "d769ceea-73d8-427e-a3c1-1848954b9500"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AHVSlave", "uuid": "8da052f5-54f7-436e-b65a-a492ffb8bfd1"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "check_login_for_AHVSlave_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "state": "ACTIVE", "attrs": {"type": "CHECK_LOGIN", "timeout": "60", "address": "@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@"}, "timeout_secs": "", "type": "CHECK_LOGIN", "variable_list": [], "uuid": "ef51be22-4866-4a42-82ed-f2c4ee2e41e1"}], "description": "", "name": "SYS_GEN__Runbook_Substrate_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Substrate_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "uuid": "b48f1934-1c7e-4dfc-8add-f8d4c74eb144"}, "message_list": [], "variable_list": [], "uuid": "7a09b507-d522-4702-9fc2-59301bc36b56"}, "message_list": [], "name": "action_poweron"}, {"description": "System action for suspending an application", "type": "system", "uuid": "e84c23e7-0cea-467e-9134-b07e080b0b91", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_substrate", "name": "AHVSlave", "uuid": "8da052f5-54f7-436e-b65a-a492ffb8bfd1"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__DAG_Substrate_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "864ae276-2116-461b-82bc-90a0c6d990d1"}], "description": "", "name": "SYS_GEN__Runbook_Substrate_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Substrate_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "uuid": "864ae276-2116-461b-82bc-90a0c6d990d1"}, "message_list": [], "variable_list": [], "uuid": "272fe8d7-1506-448f-aa8d-da591db19369"}, "message_list": [], "name": "action_suspend"}, {"description": "System action for modifying an application", "type": "system", "uuid": "41fe187f-b40d-43d2-a7dd-7562768ed78c", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_substrate", "name": "AHVSlave", "uuid": "8da052f5-54f7-436e-b65a-a492ffb8bfd1"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__DAG_Substrate_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "b16957ee-de5f-4118-93f2-726fe8234ae8"}], "description": "", "name": "SYS_GEN__Runbook_Substrate_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Substrate_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "uuid": "b16957ee-de5f-4118-93f2-726fe8234ae8"}, "message_list": [], "variable_list": [], "uuid": "72ece59c-3a68-4aaf-ae19-f0555247d9a2"}, "message_list": [], "name": "action_modify"}, {"description": "System action for powering off an application", "type": "system", "uuid": "8228d316-5abb-4ecf-b3c3-6a31e57749ef", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_substrate", "name": "AHVSlave", "uuid": "8da052f5-54f7-436e-b65a-a492ffb8bfd1"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__Nutanix_Operation_PowerOff_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "uuid": "ba03d35e-2f82-4867-8301-8ae2dcc009c1"}], "name": "SYS_GEN__DAG_Substrate_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "5eb7fa77-9c43-4068-a463-1c20f8bcba42"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AHVSlave", "uuid": "8da052f5-54f7-436e-b65a-a492ffb8bfd1"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Nutanix_Operation_PowerOff_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "state": "ACTIVE", "attrs": {"type": "GENERIC_OPERATION"}, "timeout_secs": "", "type": "VMOPERATION_NUTANIX", "variable_list": [], "uuid": "ba03d35e-2f82-4867-8301-8ae2dcc009c1"}], "description": "", "name": "SYS_GEN__Runbook_Substrate_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Substrate_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "uuid": "5eb7fa77-9c43-4068-a463-1c20f8bcba42"}, "message_list": [], "variable_list": [], "uuid": "edb872a0-b777-4fe6-a5bb-732874eed28a"}, "message_list": [], "name": "action_poweroff"}, {"description": "System action for deleting an application. Deletes physical machines as well", "type": "system", "uuid": "b58fb980-902e-4348-942b-a4ce1d9fc0a2", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_substrate", "name": "AHVSlave", "uuid": "8da052f5-54f7-436e-b65a-a492ffb8bfd1"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__Nutanix_Delete_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "uuid": "c8bd4d20-41b1-4961-afde-034b971e5749"}], "name": "SYS_GEN__DAG_Substrate_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "e06512fa-2aa1-4b08-a6ed-4b8c79810b44"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AHVSlave", "uuid": "8da052f5-54f7-436e-b65a-a492ffb8bfd1"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Nutanix_Delete_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "", "type": "DELETE_NUTANIX", "variable_list": [], "uuid": "c8bd4d20-41b1-4961-afde-034b971e5749"}], "description": "", "name": "SYS_GEN__Runbook_Substrate_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Substrate_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "uuid": "e06512fa-2aa1-4b08-a6ed-4b8c79810b44"}, "message_list": [], "variable_list": [], "uuid": "ea3ef488-3e39-4130-b292-f45f107ebd99"}, "message_list": [], "name": "action_delete"}, {"description": "System action for deleting an application. Does not delete physical machines", "type": "system", "uuid": "cab6902d-ab61-44ba-9931-3f3af49630b9", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_substrate", "name": "AHVSlave", "uuid": "8da052f5-54f7-436e-b65a-a492ffb8bfd1"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__Substrate_Element_Delete_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "uuid": "bdebdd94-38ee-4ef6-8a36-e13c6bb4262f"}], "name": "SYS_GEN__DAG_Substrate_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "e5193653-3914-41b2-aa50-69d6279654b2"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AHVSlave", "uuid": "8da052f5-54f7-436e-b65a-a492ffb8bfd1"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Substrate_Element_Delete_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "", "type": "SOFT_DELETE_ELEMENT", "variable_list": [], "uuid": "bdebdd94-38ee-4ef6-8a36-e13c6bb4262f"}], "description": "", "name": "SYS_GEN__Runbook_Substrate_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Substrate_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "uuid": "e5193653-3914-41b2-aa50-69d6279654b2"}, "message_list": [], "variable_list": [], "uuid": "4d5a9e3a-87d2-4ef4-8d2c-0adb19071966"}, "message_list": [], "name": "action_soft_delete"}], "type": "AHV_VM", "name": "AHVSlave", "state": "ACTIVE", "readiness_probe": {"connection_type": "SSH", "disable_readiness_probe": false, "timeout_secs": "60", "address": "@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@", "connection_port": 22, "login_credential_local_reference": {"kind": "app_credential", "name": "CENTOS", "uuid": "59a0a37b-50a9-4d49-9ade-f4a9098df745"}}, "editables": {"readiness_probe": {"connection_port": true, "timeout_secs": true}, "create_spec": {"name": true, "resources": {"nic_list": {"0": {"subnet_reference": true}}, "num_vcpus_per_socket": true, "num_sockets": true, "memory_size_mib": true, "guest_customization": true, "disk_list": {"0": {"device_properties": {"disk_address": {}}}}}}}, "os_type": "Linux", "message_list": [], "create_spec": {"name": "MySQLSlaveVM", "availability_zone_reference": null, "backup_policy": null, "type": "", "cluster_reference": null, "resources": {"nic_list": [{"nic_type": "NORMAL_NIC", "ip_endpoint_list": [], "network_function_chain_reference": null, "network_function_nic_type": "INGRESS", "mac_address": "", "subnet_reference": {"kind": "subnet", "type": "", "name": "", "uuid": "1aa99997-98f7-4cad-b3e6-558ca5a37e33"}, "type": ""}], "power_state": "ON", "guest_tools": null, "num_vcpus_per_socket": 1, "num_sockets": 2, "gpu_list": [], "memory_size_mib": 4096, "parent_reference": null, "hardware_clock_timezone": "", "guest_customization": {"cloud_init": {"meta_data": "", "type": "", "user_data": "#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{INSTANCE_PUBLIC_KEY}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']"}, "type": "", "sysprep": null}, "type": "", "boot_config": null, "disk_list": [{"data_source_reference": {"kind": "image", "type": "", "name": "CentOS", "uuid": "c14140d0-7fc6-4ff2-98ef-4c40c5fd0b8f"}, "type": "", "disk_size_mib": 0, "device_properties": {"type": "", "disk_address": {"type": "", "device_index": 0, "adapter_type": "SCSI"}, "device_type": "DISK"}}]}}, "variable_list": [], "uuid": "8da052f5-54f7-436e-b65a-a492ffb8bfd1"}, {"description": "", "action_list": [{"description": "System action for creating an application", "type": "system", "uuid": "83f3ce00-cc24-4d46-9b64-11bc34eb98cd", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_substrate", "name": "AWSMaster", "uuid": "f15fdd94-a074-4a8c-8161-51f46db87183"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__Aws_Provision_f15fdd94_a074_4a8c_8161_51f46db87183", "uuid": "16372b72-28b5-4a64-aa4b-4a1c5571ba3f"}, {"kind": "app_task", "name": "SYS_GEN__check_login_for_AWSMaster_f15fdd94_a074_4a8c_8161_51f46db87183", "uuid": "07a08ea8-aa22-4ae4-b3e2-9be8149acf79"}], "name": "SYS_GEN__DAG_Substrate_f15fdd94_a074_4a8c_8161_51f46db87183", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__Aws_Provision_f15fdd94_a074_4a8c_8161_51f46db87183", "uuid": "16372b72-28b5-4a64-aa4b-4a1c5571ba3f"}, "edge_type": "inherent", "type": "", "uuid": "c29efaab-674a-4e9d-855f-7a2820527b67", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__check_login_for_AWSMaster_f15fdd94_a074_4a8c_8161_51f46db87183", "uuid": "07a08ea8-aa22-4ae4-b3e2-9be8149acf79"}}], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "31b6a7af-f9b5-42b6-9cc5-08daab9481f4"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AWSMaster", "uuid": "f15fdd94-a074-4a8c-8161-51f46db87183"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Aws_Provision_f15fdd94_a074_4a8c_8161_51f46db87183", "state": "ACTIVE", "attrs": {"name": "MySQLMasterVM", "availability_zone_reference": null, "backup_policy": null, "type": "PROVISION_AWS_VM", "cluster_reference": null, "resources": {"instance_profile_name": "ecsInstanceRole", "availability_zone": "us-east-1a", "subnet_id": "subnet-9d1085b1", "key_name": "calm-blueprints", "region": "us-east-1", "instance_initiated_shutdown_behavior": "TERMINATE", "user_data": "", "image_id": "ami-1a69ed60", "instance_type": "t2.large", "state": "RUNNING", "security_group_list": [{"type": "", "security_group_id": "sg-12a3f662"}], "block_device_map": {"data_disk_list": [], "type": "", "root_disk": {"size_gb": 8, "volume_type": "GP2", "device_name": "/dev/sdb", "iops": 1, "snapshot_id": "", "type": "", "delete_on_termination": true}}, "private_ip_address": "", "vpc_id": "vpc-ffd54d98", "tag_list": [], "type": "", "account_uuid": "ff4c8e79-e0a7-4ea4-b8f0-5d3aec8eff4d", "associate_public_ip_address": true}}, "timeout_secs": "", "type": "PROVISION_AWS_VM", "variable_list": [], "uuid": "16372b72-28b5-4a64-aa4b-4a1c5571ba3f"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AWSMaster", "uuid": "f15fdd94-a074-4a8c-8161-51f46db87183"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__check_login_for_AWSMaster_f15fdd94_a074_4a8c_8161_51f46db87183", "state": "ACTIVE", "attrs": {"type": "CHECK_LOGIN", "timeout": "300", "address": "@@{public_ip_address}@@"}, "timeout_secs": "", "type": "CHECK_LOGIN", "variable_list": [], "uuid": "07a08ea8-aa22-4ae4-b3e2-9be8149acf79"}], "description": "", "name": "SYS_GEN__Runbook_Substrate_f15fdd94_a074_4a8c_8161_51f46db87183", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Substrate_f15fdd94_a074_4a8c_8161_51f46db87183", "uuid": "31b6a7af-f9b5-42b6-9cc5-08daab9481f4"}, "message_list": [], "variable_list": [], "uuid": "57c3b009-b439-4130-ab1a-34575a89b925"}, "message_list": [], "name": "action_create"}, {"description": "System action for powering on an application", "type": "system", "uuid": "2bcfed64-d364-4f4e-8eae-e5571a272431", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_substrate", "name": "AWSMaster", "uuid": "f15fdd94-a074-4a8c-8161-51f46db87183"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__Aws_Operation_PowerOn_f15fdd94_a074_4a8c_8161_51f46db87183", "uuid": "3652e649-0f90-49be-b1ef-ec6948377b0f"}, {"kind": "app_task", "name": "check_login_for_AWSMaster_f15fdd94_a074_4a8c_8161_51f46db87183", "uuid": "f70fd9f8-771e-482c-bb61-50f8a4fe2f5c"}], "name": "SYS_GEN__DAG_Substrate_f15fdd94_a074_4a8c_8161_51f46db87183", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__Aws_Operation_PowerOn_f15fdd94_a074_4a8c_8161_51f46db87183", "uuid": "3652e649-0f90-49be-b1ef-ec6948377b0f"}, "edge_type": "inherent", "type": "", "uuid": "24bef731-83c7-4bb8-b6dc-4c27d7217b24", "to_task_reference": {"kind": "app_task", "name": "check_login_for_AWSMaster_f15fdd94_a074_4a8c_8161_51f46db87183", "uuid": "f70fd9f8-771e-482c-bb61-50f8a4fe2f5c"}}], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "a866194d-a2cf-478d-ac21-6bc7c8b67a4f"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AWSMaster", "uuid": "f15fdd94-a074-4a8c-8161-51f46db87183"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Aws_Operation_PowerOn_f15fdd94_a074_4a8c_8161_51f46db87183", "state": "ACTIVE", "attrs": {"type": "GENERIC_OPERATION"}, "timeout_secs": "", "type": "VMOPERATION_AWS_VM", "variable_list": [], "uuid": "3652e649-0f90-49be-b1ef-ec6948377b0f"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AWSMaster", "uuid": "f15fdd94-a074-4a8c-8161-51f46db87183"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "check_login_for_AWSMaster_f15fdd94_a074_4a8c_8161_51f46db87183", "state": "ACTIVE", "attrs": {"type": "CHECK_LOGIN", "timeout": "300", "address": "@@{public_ip_address}@@"}, "timeout_secs": "", "type": "CHECK_LOGIN", "variable_list": [], "uuid": "f70fd9f8-771e-482c-bb61-50f8a4fe2f5c"}], "description": "", "name": "SYS_GEN__Runbook_Substrate_f15fdd94_a074_4a8c_8161_51f46db87183", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Substrate_f15fdd94_a074_4a8c_8161_51f46db87183", "uuid": "a866194d-a2cf-478d-ac21-6bc7c8b67a4f"}, "message_list": [], "variable_list": [], "uuid": "f1c65028-6627-4e35-8323-177e74e7afb1"}, "message_list": [], "name": "action_poweron"}, {"description": "System action for suspending an application", "type": "system", "uuid": "1880cd68-6723-4dd7-a00d-4b8d475be8b1", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_substrate", "name": "AWSMaster", "uuid": "f15fdd94-a074-4a8c-8161-51f46db87183"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__DAG_Substrate_f15fdd94_a074_4a8c_8161_51f46db87183", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "4ee8b450-269f-46b2-bc7a-ab82a7da8c66"}], "description": "", "name": "SYS_GEN__Runbook_Substrate_f15fdd94_a074_4a8c_8161_51f46db87183", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Substrate_f15fdd94_a074_4a8c_8161_51f46db87183", "uuid": "4ee8b450-269f-46b2-bc7a-ab82a7da8c66"}, "message_list": [], "variable_list": [], "uuid": "9ef66f2a-f1a8-4ad5-bcfb-d8ce9d75c67e"}, "message_list": [], "name": "action_suspend"}, {"description": "System action for modifying an application", "type": "system", "uuid": "c018ba2b-f965-434c-a031-40c5371943c5", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_substrate", "name": "AWSMaster", "uuid": "f15fdd94-a074-4a8c-8161-51f46db87183"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__DAG_Substrate_f15fdd94_a074_4a8c_8161_51f46db87183", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "2309d0a8-7dac-4cdf-847f-e0ecd48ca30d"}], "description": "", "name": "SYS_GEN__Runbook_Substrate_f15fdd94_a074_4a8c_8161_51f46db87183", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Substrate_f15fdd94_a074_4a8c_8161_51f46db87183", "uuid": "2309d0a8-7dac-4cdf-847f-e0ecd48ca30d"}, "message_list": [], "variable_list": [], "uuid": "1700f97a-86e7-4cd4-b711-dd3a0a2fbbfd"}, "message_list": [], "name": "action_modify"}, {"description": "System action for powering off an application", "type": "system", "uuid": "4be0294c-7811-43fe-9667-5a821cf04f80", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_substrate", "name": "AWSMaster", "uuid": "f15fdd94-a074-4a8c-8161-51f46db87183"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__Aws_Operation_PowerOff_f15fdd94_a074_4a8c_8161_51f46db87183", "uuid": "f1a69c2f-48c4-44de-a535-9b6b9d24cb8d"}], "name": "SYS_GEN__DAG_Substrate_f15fdd94_a074_4a8c_8161_51f46db87183", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "31fbb22b-69c4-4c00-acd1-9a1b663e59d4"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AWSMaster", "uuid": "f15fdd94-a074-4a8c-8161-51f46db87183"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Aws_Operation_PowerOff_f15fdd94_a074_4a8c_8161_51f46db87183", "state": "ACTIVE", "attrs": {"type": "GENERIC_OPERATION"}, "timeout_secs": "", "type": "VMOPERATION_AWS_VM", "variable_list": [], "uuid": "f1a69c2f-48c4-44de-a535-9b6b9d24cb8d"}], "description": "", "name": "SYS_GEN__Runbook_Substrate_f15fdd94_a074_4a8c_8161_51f46db87183", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Substrate_f15fdd94_a074_4a8c_8161_51f46db87183", "uuid": "31fbb22b-69c4-4c00-acd1-9a1b663e59d4"}, "message_list": [], "variable_list": [], "uuid": "5ab78c73-89cb-49c7-9f32-eda55c732a02"}, "message_list": [], "name": "action_poweroff"}, {"description": "System action for deleting an application. Deletes physical machines as well", "type": "system", "uuid": "3b25c8a8-442a-4a21-b046-38beb8949205", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_substrate", "name": "AWSMaster", "uuid": "f15fdd94-a074-4a8c-8161-51f46db87183"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__Aws_Delete_f15fdd94_a074_4a8c_8161_51f46db87183", "uuid": "d9437d41-fc32-42e0-9bba-11dda2b0b162"}], "name": "SYS_GEN__DAG_Substrate_f15fdd94_a074_4a8c_8161_51f46db87183", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "59a85c0f-7862-4335-8c7f-d78a37b92d4d"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AWSMaster", "uuid": "f15fdd94-a074-4a8c-8161-51f46db87183"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Aws_Delete_f15fdd94_a074_4a8c_8161_51f46db87183", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "", "type": "DELETE_AWS_VM", "variable_list": [], "uuid": "d9437d41-fc32-42e0-9bba-11dda2b0b162"}], "description": "", "name": "SYS_GEN__Runbook_Substrate_f15fdd94_a074_4a8c_8161_51f46db87183", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Substrate_f15fdd94_a074_4a8c_8161_51f46db87183", "uuid": "59a85c0f-7862-4335-8c7f-d78a37b92d4d"}, "message_list": [], "variable_list": [], "uuid": "df96bdd1-cdfa-447b-b11b-d89542c10a6b"}, "message_list": [], "name": "action_delete"}, {"description": "System action for deleting an application. Does not delete physical machines", "type": "system", "uuid": "ef48cb32-a995-4572-9e39-4a62eae95e50", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_substrate", "name": "AWSMaster", "uuid": "f15fdd94-a074-4a8c-8161-51f46db87183"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__Substrate_Element_Delete_f15fdd94_a074_4a8c_8161_51f46db87183", "uuid": "79c1ebbb-7198-4c78-9f9d-910ac65ffbc1"}], "name": "SYS_GEN__DAG_Substrate_f15fdd94_a074_4a8c_8161_51f46db87183", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "206cf91f-69d7-4978-8077-236ede2c8a79"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AWSMaster", "uuid": "f15fdd94-a074-4a8c-8161-51f46db87183"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Substrate_Element_Delete_f15fdd94_a074_4a8c_8161_51f46db87183", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "", "type": "SOFT_DELETE_ELEMENT", "variable_list": [], "uuid": "79c1ebbb-7198-4c78-9f9d-910ac65ffbc1"}], "description": "", "name": "SYS_GEN__Runbook_Substrate_f15fdd94_a074_4a8c_8161_51f46db87183", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Substrate_f15fdd94_a074_4a8c_8161_51f46db87183", "uuid": "206cf91f-69d7-4978-8077-236ede2c8a79"}, "message_list": [], "variable_list": [], "uuid": "7dec8a64-b667-40f4-a71b-89acbde61b0e"}, "message_list": [], "name": "action_soft_delete"}], "type": "AWS_VM", "name": "AWSMaster", "state": "ACTIVE", "readiness_probe": {"connection_type": "SSH", "disable_readiness_probe": false, "timeout_secs": "300", "address": "@@{public_ip_address}@@", "connection_port": 22, "login_credential_local_reference": {"kind": "app_credential", "name": "CENTOS", "uuid": "59a0a37b-50a9-4d49-9ade-f4a9098df745"}}, "editables": {"readiness_probe": {"connection_port": true, "timeout_secs": true}, "create_spec": {"name": true, "resources": {"instance_type": true, "instance_profile_name": true, "availability_zone": true, "subnet_id": true, "key_name": true, "region": true, "instance_initiated_shutdown_behavior": true, "image_id": true, "security_group_list": true, "block_device_map": {"root_disk": {"size_gb": true}}, "associate_public_ip_address": true, "vpc_id": true, "tag_list": true}}}, "os_type": "Linux", "message_list": [], "create_spec": {"name": "MySQLMasterVM", "availability_zone_reference": null, "backup_policy": null, "type": "PROVISION_AWS_VM", "cluster_reference": null, "resources": {"instance_profile_name": "ecsInstanceRole", "availability_zone": "us-east-1a", "subnet_id": "subnet-9d1085b1", "key_name": "calm-blueprints", "region": "us-east-1", "instance_initiated_shutdown_behavior": "TERMINATE", "user_data": "", "image_id": "ami-1a69ed60", "instance_type": "t2.large", "state": "RUNNING", "security_group_list": [{"type": "", "security_group_id": "sg-12a3f662"}], "block_device_map": {"data_disk_list": [], "type": "", "root_disk": {"size_gb": 8, "volume_type": "GP2", "device_name": "/dev/sdb", "iops": 1, "snapshot_id": "", "type": "", "delete_on_termination": true}}, "private_ip_address": "", "vpc_id": "vpc-ffd54d98", "tag_list": [], "type": "", "account_uuid": "ff4c8e79-e0a7-4ea4-b8f0-5d3aec8eff4d", "associate_public_ip_address": true}}, "variable_list": [], "uuid": "f15fdd94-a074-4a8c-8161-51f46db87183"}, {"description": "", "action_list": [{"description": "System action for creating an application", "type": "system", "uuid": "807e82e4-e83b-41a5-bdd3-1de4afa55547", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_substrate", "name": "AWSSlave", "uuid": "e8f1ded2-4387-41d9-9ce5-3d5b75fe064f"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__Aws_Provision_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "uuid": "b386cb6d-6ec8-47a7-9a31-0fe21140d9c1"}, {"kind": "app_task", "name": "SYS_GEN__check_login_for_AWSSlave_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "uuid": "87c9fce7-e19b-4d7b-b348-fe1fa75b3ddd"}], "name": "SYS_GEN__DAG_Substrate_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__Aws_Provision_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "uuid": "b386cb6d-6ec8-47a7-9a31-0fe21140d9c1"}, "edge_type": "inherent", "type": "", "uuid": "100eccdb-ccb8-43fc-88ad-6f1731f56e1a", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__check_login_for_AWSSlave_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "uuid": "87c9fce7-e19b-4d7b-b348-fe1fa75b3ddd"}}], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "6ca4656c-468c-43da-ba43-5525232cb8ec"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AWSSlave", "uuid": "e8f1ded2-4387-41d9-9ce5-3d5b75fe064f"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Aws_Provision_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "state": "ACTIVE", "attrs": {"name": "MySQLSlaveVM", "availability_zone_reference": null, "backup_policy": null, "type": "PROVISION_AWS_VM", "cluster_reference": null, "resources": {"instance_profile_name": "ecsInstanceRole", "availability_zone": "us-east-1a", "subnet_id": "subnet-9d1085b1", "key_name": "calm-blueprints", "region": "us-east-1", "instance_initiated_shutdown_behavior": "TERMINATE", "user_data": "", "image_id": "ami-1a69ed60", "instance_type": "t2.large", "state": "RUNNING", "security_group_list": [{"type": "", "security_group_id": "sg-12a3f662"}], "block_device_map": {"data_disk_list": [], "type": "", "root_disk": {"size_gb": 8, "volume_type": "GP2", "device_name": "/dev/sdb", "iops": 1, "snapshot_id": "", "type": "", "delete_on_termination": true}}, "private_ip_address": "", "vpc_id": "vpc-ffd54d98", "tag_list": [], "type": "", "account_uuid": "70552340-6642-46e5-8ed9-66b59aa05f0a", "associate_public_ip_address": true}}, "timeout_secs": "", "type": "PROVISION_AWS_VM", "variable_list": [], "uuid": "b386cb6d-6ec8-47a7-9a31-0fe21140d9c1"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AWSSlave", "uuid": "e8f1ded2-4387-41d9-9ce5-3d5b75fe064f"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__check_login_for_AWSSlave_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "state": "ACTIVE", "attrs": {"type": "CHECK_LOGIN", "timeout": "300", "address": "@@{public_ip_address}@@"}, "timeout_secs": "", "type": "CHECK_LOGIN", "variable_list": [], "uuid": "87c9fce7-e19b-4d7b-b348-fe1fa75b3ddd"}], "description": "", "name": "SYS_GEN__Runbook_Substrate_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Substrate_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "uuid": "6ca4656c-468c-43da-ba43-5525232cb8ec"}, "message_list": [], "variable_list": [], "uuid": "3478e5ce-ce4f-4ee2-879f-71f9db7061b8"}, "message_list": [], "name": "action_create"}, {"description": "System action for powering on an application", "type": "system", "uuid": "9a0f0141-44ff-4aa0-8d9e-b42542056d21", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_substrate", "name": "AWSSlave", "uuid": "e8f1ded2-4387-41d9-9ce5-3d5b75fe064f"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__Aws_Operation_PowerOn_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "uuid": "021a23ad-d9c5-4722-81f7-34272979a0ea"}, {"kind": "app_task", "name": "check_login_for_AWSSlave_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "uuid": "70e6b9a0-32b9-46a0-bcfb-b1b66edd1fa6"}], "name": "SYS_GEN__DAG_Substrate_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__Aws_Operation_PowerOn_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "uuid": "021a23ad-d9c5-4722-81f7-34272979a0ea"}, "edge_type": "inherent", "type": "", "uuid": "7c917828-a7d5-41b8-bc7a-7cf3bebf275f", "to_task_reference": {"kind": "app_task", "name": "check_login_for_AWSSlave_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "uuid": "70e6b9a0-32b9-46a0-bcfb-b1b66edd1fa6"}}], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "242272ca-20c2-41fc-a408-08af5c2fc970"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AWSSlave", "uuid": "e8f1ded2-4387-41d9-9ce5-3d5b75fe064f"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Aws_Operation_PowerOn_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "state": "ACTIVE", "attrs": {"type": "GENERIC_OPERATION"}, "timeout_secs": "", "type": "VMOPERATION_AWS_VM", "variable_list": [], "uuid": "021a23ad-d9c5-4722-81f7-34272979a0ea"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AWSSlave", "uuid": "e8f1ded2-4387-41d9-9ce5-3d5b75fe064f"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "check_login_for_AWSSlave_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "state": "ACTIVE", "attrs": {"type": "CHECK_LOGIN", "timeout": "300", "address": "@@{public_ip_address}@@"}, "timeout_secs": "", "type": "CHECK_LOGIN", "variable_list": [], "uuid": "70e6b9a0-32b9-46a0-bcfb-b1b66edd1fa6"}], "description": "", "name": "SYS_GEN__Runbook_Substrate_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Substrate_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "uuid": "242272ca-20c2-41fc-a408-08af5c2fc970"}, "message_list": [], "variable_list": [], "uuid": "dffaa7a5-8f8c-4da5-90e7-bbc714564b3c"}, "message_list": [], "name": "action_poweron"}, {"description": "System action for suspending an application", "type": "system", "uuid": "b604a815-c884-4918-8596-5819dc27a6eb", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_substrate", "name": "AWSSlave", "uuid": "e8f1ded2-4387-41d9-9ce5-3d5b75fe064f"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__DAG_Substrate_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "cc5250e2-ca7d-46e2-b52f-b04749ac6ebe"}], "description": "", "name": "SYS_GEN__Runbook_Substrate_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Substrate_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "uuid": "cc5250e2-ca7d-46e2-b52f-b04749ac6ebe"}, "message_list": [], "variable_list": [], "uuid": "050fa271-5339-4a2d-80ed-e4de0ca3d7f9"}, "message_list": [], "name": "action_suspend"}, {"description": "System action for modifying an application", "type": "system", "uuid": "af3cfda0-3b58-41bf-9d41-f875e72ab8d2", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_substrate", "name": "AWSSlave", "uuid": "e8f1ded2-4387-41d9-9ce5-3d5b75fe064f"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__DAG_Substrate_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "86eb9a01-0295-4d0e-a198-22273e69d7c7"}], "description": "", "name": "SYS_GEN__Runbook_Substrate_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Substrate_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "uuid": "86eb9a01-0295-4d0e-a198-22273e69d7c7"}, "message_list": [], "variable_list": [], "uuid": "68ea388c-79a0-48b2-bf37-3248ab171f6b"}, "message_list": [], "name": "action_modify"}, {"description": "System action for powering off an application", "type": "system", "uuid": "fa3cad97-6c95-43df-84d8-5b55968c8402", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_substrate", "name": "AWSSlave", "uuid": "e8f1ded2-4387-41d9-9ce5-3d5b75fe064f"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__Aws_Operation_PowerOff_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "uuid": "3aaabb12-83fe-4d3b-a18d-a63badac2387"}], "name": "SYS_GEN__DAG_Substrate_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "b3b74323-b849-47fe-abb6-59cda2527802"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AWSSlave", "uuid": "e8f1ded2-4387-41d9-9ce5-3d5b75fe064f"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Aws_Operation_PowerOff_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "state": "ACTIVE", "attrs": {"type": "GENERIC_OPERATION"}, "timeout_secs": "", "type": "VMOPERATION_AWS_VM", "variable_list": [], "uuid": "3aaabb12-83fe-4d3b-a18d-a63badac2387"}], "description": "", "name": "SYS_GEN__Runbook_Substrate_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Substrate_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "uuid": "b3b74323-b849-47fe-abb6-59cda2527802"}, "message_list": [], "variable_list": [], "uuid": "aa5a92ef-8408-4c35-84df-68e1575752f9"}, "message_list": [], "name": "action_poweroff"}, {"description": "System action for deleting an application. Deletes physical machines as well", "type": "system", "uuid": "aa0cb319-7e14-4450-887e-6ce9e2fc836f", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_substrate", "name": "AWSSlave", "uuid": "e8f1ded2-4387-41d9-9ce5-3d5b75fe064f"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__Aws_Delete_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "uuid": "8bf9923b-2eed-488b-b25b-713e8eaff351"}], "name": "SYS_GEN__DAG_Substrate_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "b6ebfb40-3504-4475-ba9d-c7985ea3406e"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AWSSlave", "uuid": "e8f1ded2-4387-41d9-9ce5-3d5b75fe064f"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Aws_Delete_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "", "type": "DELETE_AWS_VM", "variable_list": [], "uuid": "8bf9923b-2eed-488b-b25b-713e8eaff351"}], "description": "", "name": "SYS_GEN__Runbook_Substrate_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Substrate_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "uuid": "b6ebfb40-3504-4475-ba9d-c7985ea3406e"}, "message_list": [], "variable_list": [], "uuid": "78b1adf5-ca99-4db5-8963-bc3da1f9150c"}, "message_list": [], "name": "action_delete"}, {"description": "System action for deleting an application. Does not delete physical machines", "type": "system", "uuid": "1195d79c-0387-4efc-be33-8fd769c94ad9", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_substrate", "name": "AWSSlave", "uuid": "e8f1ded2-4387-41d9-9ce5-3d5b75fe064f"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__Substrate_Element_Delete_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "uuid": "fe44d65b-7c0e-4055-8003-e7d17a4a96a1"}], "name": "SYS_GEN__DAG_Substrate_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "8605f2b2-d763-4a63-8e37-33ece8b0efa3"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AWSSlave", "uuid": "e8f1ded2-4387-41d9-9ce5-3d5b75fe064f"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Substrate_Element_Delete_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "", "type": "SOFT_DELETE_ELEMENT", "variable_list": [], "uuid": "fe44d65b-7c0e-4055-8003-e7d17a4a96a1"}], "description": "", "name": "SYS_GEN__Runbook_Substrate_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Substrate_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "uuid": "8605f2b2-d763-4a63-8e37-33ece8b0efa3"}, "message_list": [], "variable_list": [], "uuid": "9fbb8ec2-cf11-4a6f-9a4d-12ff68408bc5"}, "message_list": [], "name": "action_soft_delete"}], "type": "AWS_VM", "name": "AWSSlave", "state": "ACTIVE", "readiness_probe": {"connection_type": "SSH", "disable_readiness_probe": false, "timeout_secs": "300", "address": "@@{public_ip_address}@@", "connection_port": 22, "login_credential_local_reference": {"kind": "app_credential", "name": "CENTOS", "uuid": "59a0a37b-50a9-4d49-9ade-f4a9098df745"}}, "editables": {"readiness_probe": {"connection_port": true, "timeout_secs": true}, "create_spec": {"name": true, "resources": {"instance_type": true, "instance_profile_name": true, "availability_zone": true, "subnet_id": true, "key_name": true, "region": true, "instance_initiated_shutdown_behavior": true, "image_id": true, "security_group_list": true, "block_device_map": {"root_disk": {"size_gb": true}}, "associate_public_ip_address": true, "vpc_id": true, "tag_list": true}}}, "os_type": "Linux", "message_list": [], "create_spec": {"name": "MySQLSlaveVM", "availability_zone_reference": null, "backup_policy": null, "type": "PROVISION_AWS_VM", "cluster_reference": null, "resources": {"instance_profile_name": "ecsInstanceRole", "availability_zone": "us-east-1a", "subnet_id": "subnet-9d1085b1", "key_name": "calm-blueprints", "region": "us-east-1", "instance_initiated_shutdown_behavior": "TERMINATE", "user_data": "", "image_id": "ami-1a69ed60", "instance_type": "t2.large", "state": "RUNNING", "security_group_list": [{"type": "", "security_group_id": "sg-12a3f662"}], "block_device_map": {"data_disk_list": [], "type": "", "root_disk": {"size_gb": 8, "volume_type": "GP2", "device_name": "/dev/sdb", "iops": 1, "snapshot_id": "", "type": "", "delete_on_termination": true}}, "private_ip_address": "", "vpc_id": "vpc-ffd54d98", "tag_list": [], "type": "", "account_uuid": "70552340-6642-46e5-8ed9-66b59aa05f0a", "associate_public_ip_address": true}}, "variable_list": [], "uuid": "e8f1ded2-4387-41d9-9ce5-3d5b75fe064f"}], "credential_definition_list": [{"username": "root", "description": "", "secret": {"attrs": {"is_secret_modified": false, "secret_reference": {}}}, "name": "CENTOS", "state": "ACTIVE", "editables": {"username": true, "secret": true}, "type": "PASSWORD", "uuid": "59a0a37b-50a9-4d49-9ade-f4a9098df745"}], "app_profile_list": [{"deployment_create_list": [{"description": "", "action_list": [{"description": "System action for creating an application", "type": "system", "uuid": "c810b349-3dc5-4c96-9f28-666552df9377", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "9098b02b_deployment", "uuid": "4eb2ec01-4b56-4658-84f4-802d52122fe9"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__DE_Provision_4eb2ec01_4b56_4658_84f4_802d52122fe9", "uuid": "81fa259a-c74f-4df0-8bc2-097cc7f61f88"}, {"kind": "app_task", "name": "SYS_GEN__create_CRb_Substrate_e1058034_e16a_4e60_9ce6_4a66d9818700", "uuid": "80318525-ef86-4067-94f6-c8d7ba0e76ff"}, {"kind": "app_task", "name": "SYS_GEN__install_CRb_Package_1a813ff4_dffc_4ddb_b68d_5ff32c685d8d", "uuid": "27d720f7-b152-4c91-a4e3-47153b732199"}, {"kind": "app_task", "name": "SYS_GEN__create_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "23c553b5-7a7d-4371-ab2a-4a403faf923b"}, {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "00622918-9b23-4933-869b-01cb823502f8"}], "name": "SYS_GEN__Composite_DAG_Deployment_4eb2ec01_4b56_4658_84f4_802d52122fe9", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "23c553b5-7a7d-4371-ab2a-4a403faf923b"}, "edge_type": "inherent", "type": "", "uuid": "6a914d99-8896-4f10-84fb-87c21b3ff485", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "00622918-9b23-4933-869b-01cb823502f8"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__install_CRb_Package_1a813ff4_dffc_4ddb_b68d_5ff32c685d8d", "uuid": "27d720f7-b152-4c91-a4e3-47153b732199"}, "edge_type": "inherent", "type": "", "uuid": "3fbaddf5-5a61-49cd-998b-781babefc089", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "23c553b5-7a7d-4371-ab2a-4a403faf923b"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__DE_Provision_4eb2ec01_4b56_4658_84f4_802d52122fe9", "uuid": "81fa259a-c74f-4df0-8bc2-097cc7f61f88"}, "edge_type": "inherent", "type": "", "uuid": "f034a159-a71f-4e75-9345-685fca0416b7", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Substrate_e1058034_e16a_4e60_9ce6_4a66d9818700", "uuid": "80318525-ef86-4067-94f6-c8d7ba0e76ff"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Substrate_e1058034_e16a_4e60_9ce6_4a66d9818700", "uuid": "80318525-ef86-4067-94f6-c8d7ba0e76ff"}, "edge_type": "inherent", "type": "", "uuid": "d655c630-b7c6-4b3d-a43f-5fcdba02313a", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__install_CRb_Package_1a813ff4_dffc_4ddb_b68d_5ff32c685d8d", "uuid": "27d720f7-b152-4c91-a4e3-47153b732199"}}], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "8431a4a7-e805-4010-b104-c0efb54c72a3"}, {"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "9098b02b_deployment", "uuid": "4eb2ec01-4b56-4658-84f4-802d52122fe9"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__DE_Provision_4eb2ec01_4b56_4658_84f4_802d52122fe9", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "", "type": "CREATE_DEPLOYMENT_ELEMENT", "variable_list": [], "uuid": "81fa259a-c74f-4df0-8bc2-097cc7f61f88"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AHVMaster", "uuid": "e1058034-e16a-4e60-9ce6-4a66d9818700"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__create_CRb_Substrate_e1058034_e16a_4e60_9ce6_4a66d9818700", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_e1058034_e16a_4e60_9ce6_4a66d9818700", "uuid": "0a7c93cd-f426-463a-b311-72110dea88d3"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "80318525-ef86-4067-94f6-c8d7ba0e76ff"}, {"target_any_local_reference": {"kind": "app_package", "name": "AHVMasterPackage", "uuid": "1a813ff4-dffc-4ddb-b68d-5ff32c685d8d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__install_CRb_Package_1a813ff4_dffc_4ddb_b68d_5ff32c685d8d", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "9098b02b_deployment", "uuid": "4eb2ec01-4b56-4658-84f4-802d52122fe9"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Package_1a813ff4_dffc_4ddb_b68d_5ff32c685d8d", "uuid": "4f213441-9554-4e89-901a-7edc4ca01892"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "27d720f7-b152-4c91-a4e3-47153b732199"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Master", "uuid": "cca134c1-b826-4a29-86b2-c723c237253d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__create_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "9098b02b_deployment", "uuid": "4eb2ec01-4b56-4658-84f4-802d52122fe9"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "0a970522_runbook", "uuid": "7a358965-611d-4cfa-820b-97f097841617"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "23c553b5-7a7d-4371-ab2a-4a403faf923b"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Master", "uuid": "cca134c1-b826-4a29-86b2-c723c237253d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__start_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "9098b02b_deployment", "uuid": "4eb2ec01-4b56-4658-84f4-802d52122fe9"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "5ddb28d1_runbook", "uuid": "bd4efbf3-b76f-4aab-90cb-0e572d360742"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "00622918-9b23-4933-869b-01cb823502f8"}], "description": "", "name": "SYS_GEN__Runbook_Deployment_4eb2ec01_4b56_4658_84f4_802d52122fe9", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Deployment_4eb2ec01_4b56_4658_84f4_802d52122fe9", "uuid": "8431a4a7-e805-4010-b104-c0efb54c72a3"}, "message_list": [], "variable_list": [], "uuid": "3d0f9378-b167-40fe-b9ec-3056863fae42"}, "message_list": [], "name": "action_create"}, {"description": "System action for starting an application", "type": "system", "uuid": "c59db76a-2720-4592-a2f4-fef8f052c543", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "9098b02b_deployment", "uuid": "4eb2ec01-4b56-4658-84f4-802d52122fe9"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__start_CRb_Substrate_e1058034_e16a_4e60_9ce6_4a66d9818700", "uuid": "033ec9d5-c28a-4aac-9c96-69df72bbcf60"}, {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "9574e262-fa50-4e4a-9fb7-caafadc9b63f"}], "name": "SYS_GEN__Composite_DAG_Deployment_4eb2ec01_4b56_4658_84f4_802d52122fe9", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__start_CRb_Substrate_e1058034_e16a_4e60_9ce6_4a66d9818700", "uuid": "033ec9d5-c28a-4aac-9c96-69df72bbcf60"}, "edge_type": "inherent", "type": "", "uuid": "2cdeb50b-ca6b-45c0-8ed2-a9f5b8968c69", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "9574e262-fa50-4e4a-9fb7-caafadc9b63f"}}], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "a24bebed-669f-425e-b6e5-2c9a5def08ba"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AHVMaster", "uuid": "e1058034-e16a-4e60-9ce6-4a66d9818700"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__start_CRb_Substrate_e1058034_e16a_4e60_9ce6_4a66d9818700", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_e1058034_e16a_4e60_9ce6_4a66d9818700", "uuid": "5968b101-b044-42ad-84a5-fdb6522ab115"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "033ec9d5-c28a-4aac-9c96-69df72bbcf60"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Master", "uuid": "cca134c1-b826-4a29-86b2-c723c237253d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__start_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "9098b02b_deployment", "uuid": "4eb2ec01-4b56-4658-84f4-802d52122fe9"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "5ddb28d1_runbook", "uuid": "bd4efbf3-b76f-4aab-90cb-0e572d360742"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "9574e262-fa50-4e4a-9fb7-caafadc9b63f"}], "description": "", "name": "SYS_GEN__Runbook_Deployment_4eb2ec01_4b56_4658_84f4_802d52122fe9", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Deployment_4eb2ec01_4b56_4658_84f4_802d52122fe9", "uuid": "a24bebed-669f-425e-b6e5-2c9a5def08ba"}, "message_list": [], "variable_list": [], "uuid": "29a91bb8-08f8-4682-981a-0f7bc76f5674"}, "message_list": [], "name": "action_start"}, {"description": "System action for stopping an application", "type": "system", "uuid": "b0ad4952-3e5c-413a-99c2-325c9132c673", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "9098b02b_deployment", "uuid": "4eb2ec01-4b56-4658-84f4-802d52122fe9"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "f201a4f0-dd1a-4b2c-99f0-7ebc943da91e"}, {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Substrate_e1058034_e16a_4e60_9ce6_4a66d9818700", "uuid": "358f79b6-64c3-48d7-980c-6c8532830778"}], "name": "SYS_GEN__Composite_DAG_Deployment_4eb2ec01_4b56_4658_84f4_802d52122fe9", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "f201a4f0-dd1a-4b2c-99f0-7ebc943da91e"}, "edge_type": "inherent", "type": "", "uuid": "a1dddaf2-1fca-4626-a4fc-a1ca124c377d", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Substrate_e1058034_e16a_4e60_9ce6_4a66d9818700", "uuid": "358f79b6-64c3-48d7-980c-6c8532830778"}}], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "976acfa0-e46a-421b-ab5a-7546e8b83cba"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Master", "uuid": "cca134c1-b826-4a29-86b2-c723c237253d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__stop_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "9098b02b_deployment", "uuid": "4eb2ec01-4b56-4658-84f4-802d52122fe9"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "0aefbca3_runbook", "uuid": "6ba0d524-a652-4f98-8f92-6ec865842a9b"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "f201a4f0-dd1a-4b2c-99f0-7ebc943da91e"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AHVMaster", "uuid": "e1058034-e16a-4e60-9ce6-4a66d9818700"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__stop_CRb_Substrate_e1058034_e16a_4e60_9ce6_4a66d9818700", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_e1058034_e16a_4e60_9ce6_4a66d9818700", "uuid": "279bab7d-c728-417c-859d-5e823935fce5"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "358f79b6-64c3-48d7-980c-6c8532830778"}], "description": "", "name": "SYS_GEN__Runbook_Deployment_4eb2ec01_4b56_4658_84f4_802d52122fe9", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Deployment_4eb2ec01_4b56_4658_84f4_802d52122fe9", "uuid": "976acfa0-e46a-421b-ab5a-7546e8b83cba"}, "message_list": [], "variable_list": [], "uuid": "e50066e7-e002-4b47-b6c6-60dbbcdfdddf"}, "message_list": [], "name": "action_stop"}, {"description": "System action for deleting an application. Deletes physical machines as well", "type": "system", "uuid": "965562a1-2ec8-4bc8-b250-40e358eb9789", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "9098b02b_deployment", "uuid": "4eb2ec01-4b56-4658-84f4-802d52122fe9"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "8317a121-3450-4938-8814-000a8d483c2c"}, {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "2c28ca4e-4cf9-4975-ab4f-ee45de56c6c9"}, {"kind": "app_task", "name": "SYS_GEN__uninstall_CRb_Package_1a813ff4_dffc_4ddb_b68d_5ff32c685d8d", "uuid": "5f83a691-3b8f-43eb-825c-34acf13fa9ca"}, {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Substrate_e1058034_e16a_4e60_9ce6_4a66d9818700", "uuid": "08ac88f9-12c6-4705-92c8-56848d4fa0e9"}, {"kind": "app_task", "name": "SYS_GEN__DE_Delete_4eb2ec01_4b56_4658_84f4_802d52122fe9", "uuid": "96a4d087-293c-4b42-ad5b-563bdf797a84"}], "name": "SYS_GEN__Composite_DAG_Deployment_4eb2ec01_4b56_4658_84f4_802d52122fe9", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "8317a121-3450-4938-8814-000a8d483c2c"}, "edge_type": "inherent", "type": "", "uuid": "f7f65eb5-b7b3-4d1a-91a9-d58a9bab0013", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "2c28ca4e-4cf9-4975-ab4f-ee45de56c6c9"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "2c28ca4e-4cf9-4975-ab4f-ee45de56c6c9"}, "edge_type": "inherent", "type": "", "uuid": "b4d035cb-370f-4f45-a868-d4f6a19bb1b1", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__uninstall_CRb_Package_1a813ff4_dffc_4ddb_b68d_5ff32c685d8d", "uuid": "5f83a691-3b8f-43eb-825c-34acf13fa9ca"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__uninstall_CRb_Package_1a813ff4_dffc_4ddb_b68d_5ff32c685d8d", "uuid": "5f83a691-3b8f-43eb-825c-34acf13fa9ca"}, "edge_type": "inherent", "type": "", "uuid": "2c26df5f-467d-405b-b60a-ec7d3e83141b", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Substrate_e1058034_e16a_4e60_9ce6_4a66d9818700", "uuid": "08ac88f9-12c6-4705-92c8-56848d4fa0e9"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Substrate_e1058034_e16a_4e60_9ce6_4a66d9818700", "uuid": "08ac88f9-12c6-4705-92c8-56848d4fa0e9"}, "edge_type": "inherent", "type": "", "uuid": "f74a42b9-8d0d-4726-b6ef-dced81e5c4de", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__DE_Delete_4eb2ec01_4b56_4658_84f4_802d52122fe9", "uuid": "96a4d087-293c-4b42-ad5b-563bdf797a84"}}], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "5c8b95dd-b172-4fe7-ad56-c14aff4e1a07"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Master", "uuid": "cca134c1-b826-4a29-86b2-c723c237253d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__stop_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "9098b02b_deployment", "uuid": "4eb2ec01-4b56-4658-84f4-802d52122fe9"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "0aefbca3_runbook", "uuid": "6ba0d524-a652-4f98-8f92-6ec865842a9b"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "8317a121-3450-4938-8814-000a8d483c2c"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Master", "uuid": "cca134c1-b826-4a29-86b2-c723c237253d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__delete_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "9098b02b_deployment", "uuid": "4eb2ec01-4b56-4658-84f4-802d52122fe9"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "5fd47ec3_runbook", "uuid": "d51a0752-03fa-42c7-8338-f0cf594666c2"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "2c28ca4e-4cf9-4975-ab4f-ee45de56c6c9"}, {"target_any_local_reference": {"kind": "app_package", "name": "AHVMasterPackage", "uuid": "1a813ff4-dffc-4ddb-b68d-5ff32c685d8d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__uninstall_CRb_Package_1a813ff4_dffc_4ddb_b68d_5ff32c685d8d", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "9098b02b_deployment", "uuid": "4eb2ec01-4b56-4658-84f4-802d52122fe9"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Package_1a813ff4_dffc_4ddb_b68d_5ff32c685d8d", "uuid": "6c1f1a14-9c5d-4571-a362-055cf3d2c86f"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "5f83a691-3b8f-43eb-825c-34acf13fa9ca"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AHVMaster", "uuid": "e1058034-e16a-4e60-9ce6-4a66d9818700"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__delete_CRb_Substrate_e1058034_e16a_4e60_9ce6_4a66d9818700", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_e1058034_e16a_4e60_9ce6_4a66d9818700", "uuid": "df191e41-0aae-4422-92e9-c259bf5f04eb"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "08ac88f9-12c6-4705-92c8-56848d4fa0e9"}, {"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "9098b02b_deployment", "uuid": "4eb2ec01-4b56-4658-84f4-802d52122fe9"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__DE_Delete_4eb2ec01_4b56_4658_84f4_802d52122fe9", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "", "type": "DELETE_DEPLOYMENT_ELEMENT", "variable_list": [], "uuid": "96a4d087-293c-4b42-ad5b-563bdf797a84"}], "description": "", "name": "SYS_GEN__Runbook_Deployment_4eb2ec01_4b56_4658_84f4_802d52122fe9", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Deployment_4eb2ec01_4b56_4658_84f4_802d52122fe9", "uuid": "5c8b95dd-b172-4fe7-ad56-c14aff4e1a07"}, "message_list": [], "variable_list": [], "uuid": "eb729d8b-b6aa-4dc0-ae29-28aa381dcc4b"}, "message_list": [], "name": "action_delete"}, {"description": "System action for scaleout", "type": "system", "uuid": "996e5269-ee43-47f5-8f42-4a03c233da27", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "9098b02b_deployment", "uuid": "4eb2ec01-4b56-4658-84f4-802d52122fe9"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__Deployment_Scaleout_4eb2ec01_4b56_4658_84f4_802d52122fe9", "uuid": "c072d17a-d1e0-449a-9144-81d328555426"}], "name": "SYS_GEN__Composite_DAG_Deployment_4eb2ec01_4b56_4658_84f4_802d52122fe9", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "2e0a49dc-ee31-4475-be12-f35bd3f1b680"}, {"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "9098b02b_deployment", "uuid": "4eb2ec01-4b56-4658-84f4-802d52122fe9"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Deployment_Scaleout_4eb2ec01_4b56_4658_84f4_802d52122fe9", "state": "ACTIVE", "attrs": {"scaling_count": "@@{scaling_count}@@", "type": "", "scaling_type": "SCALEOUT"}, "timeout_secs": "", "type": "SCALING", "variable_list": [], "uuid": "c072d17a-d1e0-449a-9144-81d328555426"}], "description": "", "name": "SYS_GEN__Runbook_Deployment_4eb2ec01_4b56_4658_84f4_802d52122fe9", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Deployment_4eb2ec01_4b56_4658_84f4_802d52122fe9", "uuid": "2e0a49dc-ee31-4475-be12-f35bd3f1b680"}, "message_list": [], "variable_list": [], "uuid": "03ab51af-7257-4055-9046-2a8822f05ade"}, "message_list": [], "name": "action_scaleout"}, {"description": "System action for scalein", "type": "system", "uuid": "bff9cebf-44be-4c98-92a4-12aaee0eb55e", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "9098b02b_deployment", "uuid": "4eb2ec01-4b56-4658-84f4-802d52122fe9"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__Deployment_Scalein_4eb2ec01_4b56_4658_84f4_802d52122fe9", "uuid": "ea6e28aa-5c7c-49ba-bff3-399e5e26d67d"}], "name": "SYS_GEN__Composite_DAG_Deployment_4eb2ec01_4b56_4658_84f4_802d52122fe9", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "60bd444b-0abb-4855-9112-092d364abcc3"}, {"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "9098b02b_deployment", "uuid": "4eb2ec01-4b56-4658-84f4-802d52122fe9"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Deployment_Scalein_4eb2ec01_4b56_4658_84f4_802d52122fe9", "state": "ACTIVE", "attrs": {"scaling_count": "@@{scaling_count}@@", "type": "", "scaling_type": "SCALEIN"}, "timeout_secs": "", "type": "SCALING", "variable_list": [], "uuid": "ea6e28aa-5c7c-49ba-bff3-399e5e26d67d"}], "description": "", "name": "SYS_GEN__Runbook_Deployment_4eb2ec01_4b56_4658_84f4_802d52122fe9", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Deployment_4eb2ec01_4b56_4658_84f4_802d52122fe9", "uuid": "60bd444b-0abb-4855-9112-092d364abcc3"}, "message_list": [], "variable_list": [], "uuid": "0a2dec33-34fd-4165-8905-19e7ae54f1aa"}, "message_list": [], "name": "action_scalein"}, {"description": "System action for deleting an application. Does not delete physical machines", "type": "system", "uuid": "86ba17b2-6fa4-4696-bed8-4847475ddffb", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "9098b02b_deployment", "uuid": "4eb2ec01-4b56-4658-84f4-802d52122fe9"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "30089f88-c1ff-4c4d-ab5a-9a5543cf2688"}, {"kind": "app_task", "name": "SYS_GEN__Package_Element_Delete_1a813ff4_dffc_4ddb_b68d_5ff32c685d8d", "uuid": "e80acc8e-fcd9-4b9d-a201-c4ca025f78f8"}, {"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Substrate_e1058034_e16a_4e60_9ce6_4a66d9818700", "uuid": "2dff37a3-2416-4186-bd13-58eef962476b"}, {"kind": "app_task", "name": "SYS_GEN__DE_Soft_Delete_4eb2ec01_4b56_4658_84f4_802d52122fe9", "uuid": "9e031b21-9e65-4ff9-93b9-c13fb7d0ef67"}], "name": "SYS_GEN__Composite_DAG_Deployment_4eb2ec01_4b56_4658_84f4_802d52122fe9", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "30089f88-c1ff-4c4d-ab5a-9a5543cf2688"}, "edge_type": "inherent", "type": "", "uuid": "c87b10f5-7707-4cb3-b142-161d93ef4dee", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__Package_Element_Delete_1a813ff4_dffc_4ddb_b68d_5ff32c685d8d", "uuid": "e80acc8e-fcd9-4b9d-a201-c4ca025f78f8"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Substrate_e1058034_e16a_4e60_9ce6_4a66d9818700", "uuid": "2dff37a3-2416-4186-bd13-58eef962476b"}, "edge_type": "inherent", "type": "", "uuid": "c67d77cd-6279-4f42-825b-1c077708f3a3", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__DE_Soft_Delete_4eb2ec01_4b56_4658_84f4_802d52122fe9", "uuid": "9e031b21-9e65-4ff9-93b9-c13fb7d0ef67"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__Package_Element_Delete_1a813ff4_dffc_4ddb_b68d_5ff32c685d8d", "uuid": "e80acc8e-fcd9-4b9d-a201-c4ca025f78f8"}, "edge_type": "inherent", "type": "", "uuid": "f0735676-84fd-4b48-873a-87d1977b981a", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Substrate_e1058034_e16a_4e60_9ce6_4a66d9818700", "uuid": "2dff37a3-2416-4186-bd13-58eef962476b"}}], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "061fa7bf-edc1-4876-a7e1-06befd8b13c9"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Master", "uuid": "cca134c1-b826-4a29-86b2-c723c237253d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__soft_delete_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "9098b02b_deployment", "uuid": "4eb2ec01-4b56-4658-84f4-802d52122fe9"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "2ee79c4f-1b76-45fe-a054-5539ff69b85d"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "30089f88-c1ff-4c4d-ab5a-9a5543cf2688"}, {"target_any_local_reference": {"kind": "app_package", "name": "AHVMasterPackage", "uuid": "1a813ff4-dffc-4ddb-b68d-5ff32c685d8d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Package_Element_Delete_1a813ff4_dffc_4ddb_b68d_5ff32c685d8d", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "", "type": "SOFT_DELETE_ELEMENT", "variable_list": [], "uuid": "e80acc8e-fcd9-4b9d-a201-c4ca025f78f8"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AHVMaster", "uuid": "e1058034-e16a-4e60-9ce6-4a66d9818700"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__soft_delete_CRb_Substrate_e1058034_e16a_4e60_9ce6_4a66d9818700", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_e1058034_e16a_4e60_9ce6_4a66d9818700", "uuid": "8f178de0-ab0a-4fe9-8caa-060312b7f1fe"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "2dff37a3-2416-4186-bd13-58eef962476b"}, {"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "9098b02b_deployment", "uuid": "4eb2ec01-4b56-4658-84f4-802d52122fe9"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__DE_Soft_Delete_4eb2ec01_4b56_4658_84f4_802d52122fe9", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "", "type": "SOFT_DELETE_DEPLOYMENT_ELEMENT", "variable_list": [], "uuid": "9e031b21-9e65-4ff9-93b9-c13fb7d0ef67"}], "description": "", "name": "SYS_GEN__Runbook_Deployment_4eb2ec01_4b56_4658_84f4_802d52122fe9", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Deployment_4eb2ec01_4b56_4658_84f4_802d52122fe9", "uuid": "061fa7bf-edc1-4876-a7e1-06befd8b13c9"}, "message_list": [], "variable_list": [], "uuid": "a9d814b3-b909-4ad1-887f-1d64fa442bae"}, "message_list": [], "name": "action_soft_delete"}], "message_list": [], "editables": {}, "name": "9098b02b_deployment", "state": "ACTIVE", "max_replicas": "1", "package_local_reference_list": [{"kind": "app_package", "name": "AHVMasterPackage", "uuid": "1a813ff4-dffc-4ddb-b68d-5ff32c685d8d"}], "substrate_local_reference": {"kind": "app_substrate", "name": "AHVMaster", "uuid": "e1058034-e16a-4e60-9ce6-4a66d9818700"}, "min_replicas": "1", "variable_list": [], "uuid": "4eb2ec01-4b56-4658-84f4-802d52122fe9"}, {"description": "", "action_list": [{"description": "System action for creating an application", "type": "system", "uuid": "c568682d-beba-48a0-ab0d-293a2c8581c3", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "de329770_deployment", "uuid": "d6d4ee0e-1fc1-439f-aa88-62a4436c26b6"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__DE_Provision_d6d4ee0e_1fc1_439f_aa88_62a4436c26b6", "uuid": "b609ac93-68a1-4545-8123-25b344d88b4f"}, {"kind": "app_task", "name": "SYS_GEN__create_CRb_Substrate_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "uuid": "7cc59682-09b4-4845-b82c-70af9bdfaf75"}, {"kind": "app_task", "name": "SYS_GEN__install_CRb_Package_d24e573c_09de_4603_b9a9_ff8d92739072", "uuid": "7813bc0b-3b4f-4491-ad43-68cb38e79611"}, {"kind": "app_task", "name": "SYS_GEN__create_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "1c7a76d7-153e-4119-b5b2-ae5e7c3b59c9"}, {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "55dfb184-773c-4243-9f9f-5e6e76a42dd8"}], "name": "SYS_GEN__Composite_DAG_Deployment_d6d4ee0e_1fc1_439f_aa88_62a4436c26b6", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "1c7a76d7-153e-4119-b5b2-ae5e7c3b59c9"}, "edge_type": "inherent", "type": "", "uuid": "bc6e50ea-738b-4ff8-b65f-6ebee2395d07", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "55dfb184-773c-4243-9f9f-5e6e76a42dd8"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__install_CRb_Package_d24e573c_09de_4603_b9a9_ff8d92739072", "uuid": "7813bc0b-3b4f-4491-ad43-68cb38e79611"}, "edge_type": "inherent", "type": "", "uuid": "86677523-23a4-4e30-996c-a6f99c7a2d72", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "1c7a76d7-153e-4119-b5b2-ae5e7c3b59c9"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__DE_Provision_d6d4ee0e_1fc1_439f_aa88_62a4436c26b6", "uuid": "b609ac93-68a1-4545-8123-25b344d88b4f"}, "edge_type": "inherent", "type": "", "uuid": "f481f1fc-ed8f-4f2a-bd0d-672b29bcd1f7", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Substrate_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "uuid": "7cc59682-09b4-4845-b82c-70af9bdfaf75"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Substrate_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "uuid": "7cc59682-09b4-4845-b82c-70af9bdfaf75"}, "edge_type": "inherent", "type": "", "uuid": "ee8154d0-090c-4340-bc5c-56f643b4b496", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__install_CRb_Package_d24e573c_09de_4603_b9a9_ff8d92739072", "uuid": "7813bc0b-3b4f-4491-ad43-68cb38e79611"}}], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "4902d6cc-ea38-415a-8f10-5de0d13b66a6"}, {"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "de329770_deployment", "uuid": "d6d4ee0e-1fc1-439f-aa88-62a4436c26b6"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__DE_Provision_d6d4ee0e_1fc1_439f_aa88_62a4436c26b6", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "", "type": "CREATE_DEPLOYMENT_ELEMENT", "variable_list": [], "uuid": "b609ac93-68a1-4545-8123-25b344d88b4f"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AHVSlave", "uuid": "8da052f5-54f7-436e-b65a-a492ffb8bfd1"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__create_CRb_Substrate_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "uuid": "8e8be8e8-d57d-4362-bebb-d55c838f7216"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "7cc59682-09b4-4845-b82c-70af9bdfaf75"}, {"target_any_local_reference": {"kind": "app_package", "name": "AHVSlavePackage", "uuid": "d24e573c-09de-4603-b9a9-ff8d92739072"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__install_CRb_Package_d24e573c_09de_4603_b9a9_ff8d92739072", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "de329770_deployment", "uuid": "d6d4ee0e-1fc1-439f-aa88-62a4436c26b6"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Package_d24e573c_09de_4603_b9a9_ff8d92739072", "uuid": "b96a344d-3686-46db-907b-50f628bca2c3"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "7813bc0b-3b4f-4491-ad43-68cb38e79611"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Slave", "uuid": "e96a9978-1ad8-4ae2-b7a3-cf9b174f864a"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__create_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "de329770_deployment", "uuid": "d6d4ee0e-1fc1-439f-aa88-62a4436c26b6"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "d54168c9_runbook", "uuid": "674d1ef9-2649-4c20-9cc6-29c73880dfa0"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "1c7a76d7-153e-4119-b5b2-ae5e7c3b59c9"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Slave", "uuid": "e96a9978-1ad8-4ae2-b7a3-cf9b174f864a"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__start_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "de329770_deployment", "uuid": "d6d4ee0e-1fc1-439f-aa88-62a4436c26b6"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "a027cde0_runbook", "uuid": "be7edeb3-8796-455e-ae89-aecebe6bf01d"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "55dfb184-773c-4243-9f9f-5e6e76a42dd8"}], "description": "", "name": "SYS_GEN__Runbook_Deployment_d6d4ee0e_1fc1_439f_aa88_62a4436c26b6", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Deployment_d6d4ee0e_1fc1_439f_aa88_62a4436c26b6", "uuid": "4902d6cc-ea38-415a-8f10-5de0d13b66a6"}, "message_list": [], "variable_list": [], "uuid": "6f56dedb-e26d-47e5-8d02-93dffd7f4f55"}, "message_list": [], "name": "action_create"}, {"description": "System action for starting an application", "type": "system", "uuid": "67a86953-2864-4f80-a160-292b6a4a1ddf", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "de329770_deployment", "uuid": "d6d4ee0e-1fc1-439f-aa88-62a4436c26b6"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__start_CRb_Substrate_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "uuid": "786e04fa-8ec9-404b-bb93-dd411ee248f2"}, {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "e819c512-7027-4302-afea-d066df2df2ce"}], "name": "SYS_GEN__Composite_DAG_Deployment_d6d4ee0e_1fc1_439f_aa88_62a4436c26b6", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__start_CRb_Substrate_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "uuid": "786e04fa-8ec9-404b-bb93-dd411ee248f2"}, "edge_type": "inherent", "type": "", "uuid": "aa78d5f2-4aab-4613-85f4-b2a72b37042c", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "e819c512-7027-4302-afea-d066df2df2ce"}}], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "5d58658b-ad0a-46a0-a461-95cea956c038"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AHVSlave", "uuid": "8da052f5-54f7-436e-b65a-a492ffb8bfd1"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__start_CRb_Substrate_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "uuid": "7a09b507-d522-4702-9fc2-59301bc36b56"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "786e04fa-8ec9-404b-bb93-dd411ee248f2"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Slave", "uuid": "e96a9978-1ad8-4ae2-b7a3-cf9b174f864a"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__start_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "de329770_deployment", "uuid": "d6d4ee0e-1fc1-439f-aa88-62a4436c26b6"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "a027cde0_runbook", "uuid": "be7edeb3-8796-455e-ae89-aecebe6bf01d"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "e819c512-7027-4302-afea-d066df2df2ce"}], "description": "", "name": "SYS_GEN__Runbook_Deployment_d6d4ee0e_1fc1_439f_aa88_62a4436c26b6", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Deployment_d6d4ee0e_1fc1_439f_aa88_62a4436c26b6", "uuid": "5d58658b-ad0a-46a0-a461-95cea956c038"}, "message_list": [], "variable_list": [], "uuid": "6247f55a-cc4f-46de-a690-69440afc3064"}, "message_list": [], "name": "action_start"}, {"description": "System action for stopping an application", "type": "system", "uuid": "443bd738-ca1a-40f6-9144-8cc7f9efd439", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "de329770_deployment", "uuid": "d6d4ee0e-1fc1-439f-aa88-62a4436c26b6"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "922c8970-8c66-4617-b172-c71327d0cf2a"}, {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Substrate_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "uuid": "a15b8ff0-17fe-4e94-bc9e-91dd79febade"}], "name": "SYS_GEN__Composite_DAG_Deployment_d6d4ee0e_1fc1_439f_aa88_62a4436c26b6", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "922c8970-8c66-4617-b172-c71327d0cf2a"}, "edge_type": "inherent", "type": "", "uuid": "8b5ad225-7d8b-44b7-bd6d-bd19d26226e9", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Substrate_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "uuid": "a15b8ff0-17fe-4e94-bc9e-91dd79febade"}}], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "b8783ff7-820e-418a-b484-7c3ae857ed0c"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Slave", "uuid": "e96a9978-1ad8-4ae2-b7a3-cf9b174f864a"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__stop_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "de329770_deployment", "uuid": "d6d4ee0e-1fc1-439f-aa88-62a4436c26b6"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "4a2ad0be_runbook", "uuid": "769af1fb-afad-4878-be4f-500f9bdc8b7f"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "922c8970-8c66-4617-b172-c71327d0cf2a"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AHVSlave", "uuid": "8da052f5-54f7-436e-b65a-a492ffb8bfd1"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__stop_CRb_Substrate_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "uuid": "edb872a0-b777-4fe6-a5bb-732874eed28a"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "a15b8ff0-17fe-4e94-bc9e-91dd79febade"}], "description": "", "name": "SYS_GEN__Runbook_Deployment_d6d4ee0e_1fc1_439f_aa88_62a4436c26b6", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Deployment_d6d4ee0e_1fc1_439f_aa88_62a4436c26b6", "uuid": "b8783ff7-820e-418a-b484-7c3ae857ed0c"}, "message_list": [], "variable_list": [], "uuid": "03f4bd7c-b763-416f-b4b1-3453946b5466"}, "message_list": [], "name": "action_stop"}, {"description": "System action for deleting an application. Deletes physical machines as well", "type": "system", "uuid": "ba6a3d9b-2edd-4707-959b-788737b375c7", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "de329770_deployment", "uuid": "d6d4ee0e-1fc1-439f-aa88-62a4436c26b6"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "a0ed72bd-8ac4-466e-a53a-9a4aadf7167c"}, {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "0583d7a0-862f-4668-9012-62fbe0d4d625"}, {"kind": "app_task", "name": "SYS_GEN__uninstall_CRb_Package_d24e573c_09de_4603_b9a9_ff8d92739072", "uuid": "acb92ab7-03a9-41b4-8d77-ec937cceb80d"}, {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Substrate_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "uuid": "ff29002a-1517-4441-83a8-c40d673e9c0b"}, {"kind": "app_task", "name": "SYS_GEN__DE_Delete_d6d4ee0e_1fc1_439f_aa88_62a4436c26b6", "uuid": "295e797d-3462-4d95-bb1b-dc93a855dc7a"}], "name": "SYS_GEN__Composite_DAG_Deployment_d6d4ee0e_1fc1_439f_aa88_62a4436c26b6", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "a0ed72bd-8ac4-466e-a53a-9a4aadf7167c"}, "edge_type": "inherent", "type": "", "uuid": "ff108ca8-516e-46bb-b151-b6642ed5a11b", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "0583d7a0-862f-4668-9012-62fbe0d4d625"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "0583d7a0-862f-4668-9012-62fbe0d4d625"}, "edge_type": "inherent", "type": "", "uuid": "9b788e7c-5c86-4f0d-853d-1898d9441a03", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__uninstall_CRb_Package_d24e573c_09de_4603_b9a9_ff8d92739072", "uuid": "acb92ab7-03a9-41b4-8d77-ec937cceb80d"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__uninstall_CRb_Package_d24e573c_09de_4603_b9a9_ff8d92739072", "uuid": "acb92ab7-03a9-41b4-8d77-ec937cceb80d"}, "edge_type": "inherent", "type": "", "uuid": "67d98cbe-210a-4440-bc27-913295971601", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Substrate_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "uuid": "ff29002a-1517-4441-83a8-c40d673e9c0b"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Substrate_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "uuid": "ff29002a-1517-4441-83a8-c40d673e9c0b"}, "edge_type": "inherent", "type": "", "uuid": "a3117470-1be4-4af7-85b4-7440eb489970", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__DE_Delete_d6d4ee0e_1fc1_439f_aa88_62a4436c26b6", "uuid": "295e797d-3462-4d95-bb1b-dc93a855dc7a"}}], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "af61b32f-0afe-4002-8197-55413175bcbf"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Slave", "uuid": "e96a9978-1ad8-4ae2-b7a3-cf9b174f864a"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__stop_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "de329770_deployment", "uuid": "d6d4ee0e-1fc1-439f-aa88-62a4436c26b6"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "4a2ad0be_runbook", "uuid": "769af1fb-afad-4878-be4f-500f9bdc8b7f"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "a0ed72bd-8ac4-466e-a53a-9a4aadf7167c"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Slave", "uuid": "e96a9978-1ad8-4ae2-b7a3-cf9b174f864a"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__delete_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "de329770_deployment", "uuid": "d6d4ee0e-1fc1-439f-aa88-62a4436c26b6"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "92247e35_runbook", "uuid": "8313c934-78a4-457c-8403-d1223a46c2c3"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "0583d7a0-862f-4668-9012-62fbe0d4d625"}, {"target_any_local_reference": {"kind": "app_package", "name": "AHVSlavePackage", "uuid": "d24e573c-09de-4603-b9a9-ff8d92739072"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__uninstall_CRb_Package_d24e573c_09de_4603_b9a9_ff8d92739072", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "de329770_deployment", "uuid": "d6d4ee0e-1fc1-439f-aa88-62a4436c26b6"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Package_d24e573c_09de_4603_b9a9_ff8d92739072", "uuid": "2c142b17-8e21-4ae9-ba90-c5469a434c22"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "acb92ab7-03a9-41b4-8d77-ec937cceb80d"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AHVSlave", "uuid": "8da052f5-54f7-436e-b65a-a492ffb8bfd1"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__delete_CRb_Substrate_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "uuid": "ea3ef488-3e39-4130-b292-f45f107ebd99"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "ff29002a-1517-4441-83a8-c40d673e9c0b"}, {"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "de329770_deployment", "uuid": "d6d4ee0e-1fc1-439f-aa88-62a4436c26b6"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__DE_Delete_d6d4ee0e_1fc1_439f_aa88_62a4436c26b6", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "", "type": "DELETE_DEPLOYMENT_ELEMENT", "variable_list": [], "uuid": "295e797d-3462-4d95-bb1b-dc93a855dc7a"}], "description": "", "name": "SYS_GEN__Runbook_Deployment_d6d4ee0e_1fc1_439f_aa88_62a4436c26b6", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Deployment_d6d4ee0e_1fc1_439f_aa88_62a4436c26b6", "uuid": "af61b32f-0afe-4002-8197-55413175bcbf"}, "message_list": [], "variable_list": [], "uuid": "e5516dc8-476d-4db6-b1ca-cf6af95d2a81"}, "message_list": [], "name": "action_delete"}, {"description": "System action for scaleout", "type": "system", "uuid": "412a7c8c-2073-4e51-8c1d-62eb2a760ff3", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "de329770_deployment", "uuid": "d6d4ee0e-1fc1-439f-aa88-62a4436c26b6"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__Deployment_Scaleout_d6d4ee0e_1fc1_439f_aa88_62a4436c26b6", "uuid": "252bc4a5-787a-4200-8b1d-e7b9f8832f92"}], "name": "SYS_GEN__Composite_DAG_Deployment_d6d4ee0e_1fc1_439f_aa88_62a4436c26b6", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "311e20af-1412-4df8-b8e3-9b0ab3bd23a1"}, {"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "de329770_deployment", "uuid": "d6d4ee0e-1fc1-439f-aa88-62a4436c26b6"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Deployment_Scaleout_d6d4ee0e_1fc1_439f_aa88_62a4436c26b6", "state": "ACTIVE", "attrs": {"scaling_count": "@@{scaling_count}@@", "type": "", "scaling_type": "SCALEOUT"}, "timeout_secs": "", "type": "SCALING", "variable_list": [], "uuid": "252bc4a5-787a-4200-8b1d-e7b9f8832f92"}], "description": "", "name": "SYS_GEN__Runbook_Deployment_d6d4ee0e_1fc1_439f_aa88_62a4436c26b6", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Deployment_d6d4ee0e_1fc1_439f_aa88_62a4436c26b6", "uuid": "311e20af-1412-4df8-b8e3-9b0ab3bd23a1"}, "message_list": [], "variable_list": [], "uuid": "25fff2a7-4a0c-41a9-b4c9-6116177df035"}, "message_list": [], "name": "action_scaleout"}, {"description": "System action for scalein", "type": "system", "uuid": "555fcc48-9e63-4a62-b858-ef7235594491", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "de329770_deployment", "uuid": "d6d4ee0e-1fc1-439f-aa88-62a4436c26b6"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__Deployment_Scalein_d6d4ee0e_1fc1_439f_aa88_62a4436c26b6", "uuid": "182d29a4-2306-4e6b-ac9a-e51db05fe0c7"}], "name": "SYS_GEN__Composite_DAG_Deployment_d6d4ee0e_1fc1_439f_aa88_62a4436c26b6", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "f0a33778-af52-4660-a634-1364b9ffaaf2"}, {"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "de329770_deployment", "uuid": "d6d4ee0e-1fc1-439f-aa88-62a4436c26b6"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Deployment_Scalein_d6d4ee0e_1fc1_439f_aa88_62a4436c26b6", "state": "ACTIVE", "attrs": {"scaling_count": "@@{scaling_count}@@", "type": "", "scaling_type": "SCALEIN"}, "timeout_secs": "", "type": "SCALING", "variable_list": [], "uuid": "182d29a4-2306-4e6b-ac9a-e51db05fe0c7"}], "description": "", "name": "SYS_GEN__Runbook_Deployment_d6d4ee0e_1fc1_439f_aa88_62a4436c26b6", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Deployment_d6d4ee0e_1fc1_439f_aa88_62a4436c26b6", "uuid": "f0a33778-af52-4660-a634-1364b9ffaaf2"}, "message_list": [], "variable_list": [], "uuid": "c53e426e-4d23-4d02-8b46-1588bc80e773"}, "message_list": [], "name": "action_scalein"}, {"description": "System action for deleting an application. Does not delete physical machines", "type": "system", "uuid": "867f65cf-db16-492f-96ac-c407ccbade89", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "de329770_deployment", "uuid": "d6d4ee0e-1fc1-439f-aa88-62a4436c26b6"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "5ba8668f-1385-4b92-84bc-0beae0c1a351"}, {"kind": "app_task", "name": "SYS_GEN__Package_Element_Delete_d24e573c_09de_4603_b9a9_ff8d92739072", "uuid": "7843d326-a8a9-4567-816b-0293b7d05a29"}, {"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Substrate_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "uuid": "f773e730-32c2-43bc-938d-04ca788a7142"}, {"kind": "app_task", "name": "SYS_GEN__DE_Soft_Delete_d6d4ee0e_1fc1_439f_aa88_62a4436c26b6", "uuid": "fca0b390-36fd-460f-abed-a3f35b1d2a54"}], "name": "SYS_GEN__Composite_DAG_Deployment_d6d4ee0e_1fc1_439f_aa88_62a4436c26b6", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "5ba8668f-1385-4b92-84bc-0beae0c1a351"}, "edge_type": "inherent", "type": "", "uuid": "e564c197-4929-4138-bb14-dd8ec5d0e9da", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__Package_Element_Delete_d24e573c_09de_4603_b9a9_ff8d92739072", "uuid": "7843d326-a8a9-4567-816b-0293b7d05a29"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__Package_Element_Delete_d24e573c_09de_4603_b9a9_ff8d92739072", "uuid": "7843d326-a8a9-4567-816b-0293b7d05a29"}, "edge_type": "inherent", "type": "", "uuid": "903bfbb2-6aa4-4667-9c8c-b4c3ab66b461", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Substrate_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "uuid": "f773e730-32c2-43bc-938d-04ca788a7142"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Substrate_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "uuid": "f773e730-32c2-43bc-938d-04ca788a7142"}, "edge_type": "inherent", "type": "", "uuid": "3ce5d28d-15a7-44b0-bc79-c68f63024ea9", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__DE_Soft_Delete_d6d4ee0e_1fc1_439f_aa88_62a4436c26b6", "uuid": "fca0b390-36fd-460f-abed-a3f35b1d2a54"}}], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "78123fe9-e49a-4e68-86ce-3f26f7e1291d"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Slave", "uuid": "e96a9978-1ad8-4ae2-b7a3-cf9b174f864a"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__soft_delete_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "de329770_deployment", "uuid": "d6d4ee0e-1fc1-439f-aa88-62a4436c26b6"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "689520c6-6efb-4d4a-a874-74418185d66d"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "5ba8668f-1385-4b92-84bc-0beae0c1a351"}, {"target_any_local_reference": {"kind": "app_package", "name": "AHVSlavePackage", "uuid": "d24e573c-09de-4603-b9a9-ff8d92739072"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Package_Element_Delete_d24e573c_09de_4603_b9a9_ff8d92739072", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "", "type": "SOFT_DELETE_ELEMENT", "variable_list": [], "uuid": "7843d326-a8a9-4567-816b-0293b7d05a29"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AHVSlave", "uuid": "8da052f5-54f7-436e-b65a-a492ffb8bfd1"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__soft_delete_CRb_Substrate_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "uuid": "4d5a9e3a-87d2-4ef4-8d2c-0adb19071966"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "f773e730-32c2-43bc-938d-04ca788a7142"}, {"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "de329770_deployment", "uuid": "d6d4ee0e-1fc1-439f-aa88-62a4436c26b6"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__DE_Soft_Delete_d6d4ee0e_1fc1_439f_aa88_62a4436c26b6", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "", "type": "SOFT_DELETE_DEPLOYMENT_ELEMENT", "variable_list": [], "uuid": "fca0b390-36fd-460f-abed-a3f35b1d2a54"}], "description": "", "name": "SYS_GEN__Runbook_Deployment_d6d4ee0e_1fc1_439f_aa88_62a4436c26b6", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Deployment_d6d4ee0e_1fc1_439f_aa88_62a4436c26b6", "uuid": "78123fe9-e49a-4e68-86ce-3f26f7e1291d"}, "message_list": [], "variable_list": [], "uuid": "dc277ba8-2c00-48a6-b51c-5911186f256c"}, "message_list": [], "name": "action_soft_delete"}], "message_list": [], "editables": {"min_replicas": true}, "name": "de329770_deployment", "state": "ACTIVE", "max_replicas": "2", "package_local_reference_list": [{"kind": "app_package", "name": "AHVSlavePackage", "uuid": "d24e573c-09de-4603-b9a9-ff8d92739072"}], "substrate_local_reference": {"kind": "app_substrate", "name": "AHVSlave", "uuid": "8da052f5-54f7-436e-b65a-a492ffb8bfd1"}, "min_replicas": "2", "variable_list": [], "uuid": "d6d4ee0e-1fc1-439f-aa88-62a4436c26b6"}], "description": "", "action_list": [{"description": "Take DB Backup. Specify absolute directory path for BACKUP_FILE_PATH", "type": "user", "uuid": "befe1b6e-e984-460a-a58d-a21221dc19f9", "state": "ACTIVE", "critical": false, "attrs": {}, "runbook": {"task_definition_list": [{"description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "DoDBBackup", "uuid": "27b3ad54-b266-46f2-af4f-4c2080e9da1b"}], "name": "3e7d744d_dag", "state": "ACTIVE", "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "e0793179-4eb7-4309-b0f0-083f7a22be2d"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Master", "uuid": "cca134c1-b826-4a29-86b2-c723c237253d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "DoDBBackup", "state": "ACTIVE", "attrs": {"exit_status": [], "script": "#!/bin/bash\n\n### Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\ndate_part=`date +%F`\nmkdir -p @@{BACKUP_FILE_PATH}@@\nsudo mysqldump -u root -p${mysql_password} --all-databases | sudo gzip -9 > @@{BACKUP_FILE_PATH}@@/db_dump_$date_part.sql.gz", "script_type": "sh", "type": "", "command_line_args": "", "login_credential_local_reference": {"kind": "app_credential", "name": "CENTOS", "uuid": "59a0a37b-50a9-4d49-9ade-f4a9098df745"}}, "timeout_secs": "", "type": "EXEC", "variable_list": [], "uuid": "27b3ad54-b266-46f2-af4f-4c2080e9da1b"}], "description": "", "name": "c6cd4595_runbook", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "3e7d744d_dag", "uuid": "e0793179-4eb7-4309-b0f0-083f7a22be2d"}, "message_list": [], "variable_list": [{"val_type": "STRING", "description": "", "name": "BACKUP_FILE_PATH", "type": "LOCAL", "value": "", "label": "", "state": "NOT_VALIDATED", "attrs": {"type": ""}, "editables": {"value": true}, "message_list": [], "uuid": "0c2b5105-0646-4f4d-88fb-b4539d37de46"}], "uuid": "851b5516-1f80-4770-bdc6-cd6fc0008627"}, "message_list": [], "name": "Backup"}, {"description": "To restore DB from dump file. Specify absolute directory path for RESTORE_FILE_PATH", "type": "user", "uuid": "d28e1bc4-67f6-4d62-aabe-5989aee6785b", "state": "ACTIVE", "critical": false, "attrs": {}, "runbook": {"task_definition_list": [{"description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "DoDBRestore", "uuid": "b9c1c4a5-4331-45a2-a944-5c6d0389e48d"}], "name": "458965d2_dag", "state": "ACTIVE", "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "395b8a4d-bd24-41ea-b3a9-fc993c5f852b"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Master", "uuid": "cca134c1-b826-4a29-86b2-c723c237253d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "DoDBRestore", "state": "ACTIVE", "attrs": {"exit_status": [], "script": "#!/bin/bash\n\n### Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\ndb_file=@@{RESTORE_FILE_PATH}@@\n\nsudo gunzip < $db_file | sudo mysql -u root -p${mysql_password} ", "script_type": "sh", "type": "", "command_line_args": "", "login_credential_local_reference": {"kind": "app_credential", "name": "CENTOS", "uuid": "59a0a37b-50a9-4d49-9ade-f4a9098df745"}}, "timeout_secs": "", "type": "EXEC", "variable_list": [], "uuid": "b9c1c4a5-4331-45a2-a944-5c6d0389e48d"}], "description": "", "name": "412d41ad_runbook", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "458965d2_dag", "uuid": "395b8a4d-bd24-41ea-b3a9-fc993c5f852b"}, "message_list": [], "variable_list": [{"val_type": "STRING", "description": "", "name": "RESTORE_FILE_PATH", "type": "LOCAL", "value": "", "label": "", "state": "NOT_VALIDATED", "attrs": {"type": ""}, "editables": {"value": true}, "message_list": [], "uuid": "4e08171f-9d10-4c86-ac2e-c9ff4503ed0a"}], "uuid": "f0788204-4d56-40fd-877d-1041613e5130"}, "message_list": [], "name": "Restore"}, {"description": "System action for creating an application", "type": "system", "uuid": "cd9be95a-ea9b-4f7e-ad17-225e87c8050c", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_profile", "name": "Nutanix", "uuid": "c8ce463f-87b3-4781-8653-12261b76bf26"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__DE_Provision_d6d4ee0e_1fc1_439f_aa88_62a4436c26b6", "uuid": "79ffb679-d7ad-402f-87e5-b7b90973db00"}, {"kind": "app_task", "name": "SYS_GEN__DE_Provision_4eb2ec01_4b56_4658_84f4_802d52122fe9", "uuid": "34eb1836-1691-45f8-be75-dd76fda9013a"}, {"kind": "app_task", "name": "SYS_GEN__create_CRb_Substrate_e1058034_e16a_4e60_9ce6_4a66d9818700", "uuid": "23c326d4-4dab-40c6-927d-aeeb556943b1"}, {"kind": "app_task", "name": "SYS_GEN__create_CRb_Substrate_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "uuid": "d030c413-b74d-47e1-af39-b8a1f75317af"}, {"kind": "app_task", "name": "SYS_GEN__install_CRb_Package_d24e573c_09de_4603_b9a9_ff8d92739072", "uuid": "4b5afacf-82d7-49e7-8d2d-03eb8562f402"}, {"kind": "app_task", "name": "SYS_GEN__install_CRb_Package_1a813ff4_dffc_4ddb_b68d_5ff32c685d8d", "uuid": "93700d2a-bc9a-409c-81d3-d859b3a76b8b"}, {"kind": "app_task", "name": "SYS_GEN__create_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "a4556524-df6e-4b56-b3f7-bd1e5f87c4bf"}, {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "11e8c899-5c37-4fb3-8675-275fe985ba1f"}, {"kind": "app_task", "name": "SYS_GEN__create_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "df33c949-a85e-418f-825f-fea14b0654bf"}, {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "8686a876-5180-4804-a6c5-b269545331de"}], "name": "SYS_GEN__Composite_DAG_Application_c8ce463f_87b3_4781_8653_12261b76bf26", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "a4556524-df6e-4b56-b3f7-bd1e5f87c4bf"}, "edge_type": "inherent", "type": "", "uuid": "cc26b3e9-e8aa-4f1d-a1c2-6eb0779d6b5f", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "11e8c899-5c37-4fb3-8675-275fe985ba1f"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__install_CRb_Package_1a813ff4_dffc_4ddb_b68d_5ff32c685d8d", "uuid": "93700d2a-bc9a-409c-81d3-d859b3a76b8b"}, "edge_type": "inherent", "type": "", "uuid": "a3e2f19e-d606-4133-9481-da3d62480e73", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "a4556524-df6e-4b56-b3f7-bd1e5f87c4bf"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__DE_Provision_4eb2ec01_4b56_4658_84f4_802d52122fe9", "uuid": "34eb1836-1691-45f8-be75-dd76fda9013a"}, "edge_type": "inherent", "type": "", "uuid": "9cce6d78-8697-4bd7-9358-613a4d5eaf30", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Substrate_e1058034_e16a_4e60_9ce6_4a66d9818700", "uuid": "23c326d4-4dab-40c6-927d-aeeb556943b1"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Substrate_e1058034_e16a_4e60_9ce6_4a66d9818700", "uuid": "23c326d4-4dab-40c6-927d-aeeb556943b1"}, "edge_type": "inherent", "type": "", "uuid": "d7a12c1a-4159-46fc-91d6-6b05f8887a6b", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__install_CRb_Package_1a813ff4_dffc_4ddb_b68d_5ff32c685d8d", "uuid": "93700d2a-bc9a-409c-81d3-d859b3a76b8b"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "df33c949-a85e-418f-825f-fea14b0654bf"}, "edge_type": "inherent", "type": "", "uuid": "48ae5332-9c9f-4994-8f1e-a330e9cde45d", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "8686a876-5180-4804-a6c5-b269545331de"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__install_CRb_Package_d24e573c_09de_4603_b9a9_ff8d92739072", "uuid": "4b5afacf-82d7-49e7-8d2d-03eb8562f402"}, "edge_type": "inherent", "type": "", "uuid": "31472e14-993e-4582-bebb-8bb24c182c23", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "df33c949-a85e-418f-825f-fea14b0654bf"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__DE_Provision_d6d4ee0e_1fc1_439f_aa88_62a4436c26b6", "uuid": "79ffb679-d7ad-402f-87e5-b7b90973db00"}, "edge_type": "inherent", "type": "", "uuid": "23fe5191-518f-46fc-8083-a9d859d9100c", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Substrate_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "uuid": "d030c413-b74d-47e1-af39-b8a1f75317af"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Substrate_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "uuid": "d030c413-b74d-47e1-af39-b8a1f75317af"}, "edge_type": "inherent", "type": "", "uuid": "d6f49de1-c109-4890-a524-931802a73684", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__install_CRb_Package_d24e573c_09de_4603_b9a9_ff8d92739072", "uuid": "4b5afacf-82d7-49e7-8d2d-03eb8562f402"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "11e8c899-5c37-4fb3-8675-275fe985ba1f"}, "edge_type": "depends_on", "type": "", "uuid": "9f2d0ae6-ac8a-4d75-9ad9-fc06ec583e6a", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "df33c949-a85e-418f-825f-fea14b0654bf"}}], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "f35c7b23-93fd-4da0-a05c-42e29b56d23b"}, {"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "de329770_deployment", "uuid": "d6d4ee0e-1fc1-439f-aa88-62a4436c26b6"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__DE_Provision_d6d4ee0e_1fc1_439f_aa88_62a4436c26b6", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "", "type": "CREATE_DEPLOYMENT_ELEMENT", "variable_list": [], "uuid": "79ffb679-d7ad-402f-87e5-b7b90973db00"}, {"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "9098b02b_deployment", "uuid": "4eb2ec01-4b56-4658-84f4-802d52122fe9"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__DE_Provision_4eb2ec01_4b56_4658_84f4_802d52122fe9", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "", "type": "CREATE_DEPLOYMENT_ELEMENT", "variable_list": [], "uuid": "34eb1836-1691-45f8-be75-dd76fda9013a"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AHVMaster", "uuid": "e1058034-e16a-4e60-9ce6-4a66d9818700"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__create_CRb_Substrate_e1058034_e16a_4e60_9ce6_4a66d9818700", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_e1058034_e16a_4e60_9ce6_4a66d9818700", "uuid": "0a7c93cd-f426-463a-b311-72110dea88d3"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "23c326d4-4dab-40c6-927d-aeeb556943b1"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AHVSlave", "uuid": "8da052f5-54f7-436e-b65a-a492ffb8bfd1"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__create_CRb_Substrate_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "uuid": "8e8be8e8-d57d-4362-bebb-d55c838f7216"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "d030c413-b74d-47e1-af39-b8a1f75317af"}, {"target_any_local_reference": {"kind": "app_package", "name": "AHVSlavePackage", "uuid": "d24e573c-09de-4603-b9a9-ff8d92739072"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__install_CRb_Package_d24e573c_09de_4603_b9a9_ff8d92739072", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "de329770_deployment", "uuid": "d6d4ee0e-1fc1-439f-aa88-62a4436c26b6"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Package_d24e573c_09de_4603_b9a9_ff8d92739072", "uuid": "b96a344d-3686-46db-907b-50f628bca2c3"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "4b5afacf-82d7-49e7-8d2d-03eb8562f402"}, {"target_any_local_reference": {"kind": "app_package", "name": "AHVMasterPackage", "uuid": "1a813ff4-dffc-4ddb-b68d-5ff32c685d8d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__install_CRb_Package_1a813ff4_dffc_4ddb_b68d_5ff32c685d8d", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "9098b02b_deployment", "uuid": "4eb2ec01-4b56-4658-84f4-802d52122fe9"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Package_1a813ff4_dffc_4ddb_b68d_5ff32c685d8d", "uuid": "4f213441-9554-4e89-901a-7edc4ca01892"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "93700d2a-bc9a-409c-81d3-d859b3a76b8b"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Master", "uuid": "cca134c1-b826-4a29-86b2-c723c237253d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__create_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "9098b02b_deployment", "uuid": "4eb2ec01-4b56-4658-84f4-802d52122fe9"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "0a970522_runbook", "uuid": "7a358965-611d-4cfa-820b-97f097841617"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "a4556524-df6e-4b56-b3f7-bd1e5f87c4bf"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Master", "uuid": "cca134c1-b826-4a29-86b2-c723c237253d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__start_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "9098b02b_deployment", "uuid": "4eb2ec01-4b56-4658-84f4-802d52122fe9"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "5ddb28d1_runbook", "uuid": "bd4efbf3-b76f-4aab-90cb-0e572d360742"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "11e8c899-5c37-4fb3-8675-275fe985ba1f"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Slave", "uuid": "e96a9978-1ad8-4ae2-b7a3-cf9b174f864a"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__create_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "de329770_deployment", "uuid": "d6d4ee0e-1fc1-439f-aa88-62a4436c26b6"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "d54168c9_runbook", "uuid": "674d1ef9-2649-4c20-9cc6-29c73880dfa0"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "df33c949-a85e-418f-825f-fea14b0654bf"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Slave", "uuid": "e96a9978-1ad8-4ae2-b7a3-cf9b174f864a"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__start_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "de329770_deployment", "uuid": "d6d4ee0e-1fc1-439f-aa88-62a4436c26b6"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "a027cde0_runbook", "uuid": "be7edeb3-8796-455e-ae89-aecebe6bf01d"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "8686a876-5180-4804-a6c5-b269545331de"}], "description": "", "name": "SYS_GEN__Runbook_Application_c8ce463f_87b3_4781_8653_12261b76bf26", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Application_c8ce463f_87b3_4781_8653_12261b76bf26", "uuid": "f35c7b23-93fd-4da0-a05c-42e29b56d23b"}, "message_list": [], "variable_list": [], "uuid": "a4aa2697-2c30-43b7-83b2-fc3d5bd63868"}, "message_list": [], "name": "action_create"}, {"description": "System action for starting an application", "type": "system", "uuid": "4e36a249-7222-49da-9e60-f277490bb00d", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_profile", "name": "Nutanix", "uuid": "c8ce463f-87b3-4781-8653-12261b76bf26"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__start_CRb_Substrate_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "uuid": "f903e4bd-45cb-4463-8361-683b0007d0be"}, {"kind": "app_task", "name": "SYS_GEN__start_CRb_Substrate_e1058034_e16a_4e60_9ce6_4a66d9818700", "uuid": "8c4cff2b-51e0-402e-ba36-eeac08295073"}, {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "751a5e05-f7b8-4895-8239-f4e5cca73956"}, {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "449573dd-3311-4d52-bf66-81a9fa515d08"}], "name": "SYS_GEN__Composite_DAG_Application_c8ce463f_87b3_4781_8653_12261b76bf26", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__start_CRb_Substrate_e1058034_e16a_4e60_9ce6_4a66d9818700", "uuid": "8c4cff2b-51e0-402e-ba36-eeac08295073"}, "edge_type": "inherent", "type": "", "uuid": "7ed549d2-7cd6-44d0-9f04-29307166f73b", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "751a5e05-f7b8-4895-8239-f4e5cca73956"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__start_CRb_Substrate_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "uuid": "f903e4bd-45cb-4463-8361-683b0007d0be"}, "edge_type": "inherent", "type": "", "uuid": "b421faed-daa3-491c-83f5-e393fe762e06", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "449573dd-3311-4d52-bf66-81a9fa515d08"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "751a5e05-f7b8-4895-8239-f4e5cca73956"}, "edge_type": "depends_on", "type": "", "uuid": "b104e90f-a452-4ddc-8604-07d7c3c3bc3d", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "449573dd-3311-4d52-bf66-81a9fa515d08"}}], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "e1eb2b29-9533-44ea-96c0-7eb60749b88a"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AHVSlave", "uuid": "8da052f5-54f7-436e-b65a-a492ffb8bfd1"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__start_CRb_Substrate_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "uuid": "7a09b507-d522-4702-9fc2-59301bc36b56"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "f903e4bd-45cb-4463-8361-683b0007d0be"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AHVMaster", "uuid": "e1058034-e16a-4e60-9ce6-4a66d9818700"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__start_CRb_Substrate_e1058034_e16a_4e60_9ce6_4a66d9818700", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_e1058034_e16a_4e60_9ce6_4a66d9818700", "uuid": "5968b101-b044-42ad-84a5-fdb6522ab115"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "8c4cff2b-51e0-402e-ba36-eeac08295073"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Master", "uuid": "cca134c1-b826-4a29-86b2-c723c237253d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__start_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "9098b02b_deployment", "uuid": "4eb2ec01-4b56-4658-84f4-802d52122fe9"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "5ddb28d1_runbook", "uuid": "bd4efbf3-b76f-4aab-90cb-0e572d360742"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "751a5e05-f7b8-4895-8239-f4e5cca73956"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Slave", "uuid": "e96a9978-1ad8-4ae2-b7a3-cf9b174f864a"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__start_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "de329770_deployment", "uuid": "d6d4ee0e-1fc1-439f-aa88-62a4436c26b6"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "a027cde0_runbook", "uuid": "be7edeb3-8796-455e-ae89-aecebe6bf01d"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "449573dd-3311-4d52-bf66-81a9fa515d08"}], "description": "", "name": "SYS_GEN__Runbook_Application_c8ce463f_87b3_4781_8653_12261b76bf26", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Application_c8ce463f_87b3_4781_8653_12261b76bf26", "uuid": "e1eb2b29-9533-44ea-96c0-7eb60749b88a"}, "message_list": [], "variable_list": [], "uuid": "2fcff788-d70f-453e-ab0c-b3f8eff00a49"}, "message_list": [], "name": "action_start"}, {"description": "System action for stopping an application", "type": "system", "uuid": "913a20db-3c7a-422f-96a3-9b67eea11ab8", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_profile", "name": "Nutanix", "uuid": "c8ce463f-87b3-4781-8653-12261b76bf26"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "b66c3db1-843a-4d61-a04d-96e70201bca3"}, {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Substrate_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "uuid": "a98a0d57-9101-4462-9613-6596f84faea6"}, {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "8512b4d9-fc1e-4763-8fcd-bd40e5576897"}, {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Substrate_e1058034_e16a_4e60_9ce6_4a66d9818700", "uuid": "f0181b6c-9617-4821-85bc-5dfc1db1883d"}], "name": "SYS_GEN__Composite_DAG_Application_c8ce463f_87b3_4781_8653_12261b76bf26", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "8512b4d9-fc1e-4763-8fcd-bd40e5576897"}, "edge_type": "inherent", "type": "", "uuid": "120a19f4-d047-4e17-b3a8-c53443270616", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Substrate_e1058034_e16a_4e60_9ce6_4a66d9818700", "uuid": "f0181b6c-9617-4821-85bc-5dfc1db1883d"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "b66c3db1-843a-4d61-a04d-96e70201bca3"}, "edge_type": "inherent", "type": "", "uuid": "edd9b61e-e92e-4b22-819d-f5c47cdba14c", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Substrate_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "uuid": "a98a0d57-9101-4462-9613-6596f84faea6"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "b66c3db1-843a-4d61-a04d-96e70201bca3"}, "edge_type": "depends_on", "type": "", "uuid": "ac8205b8-0c21-4500-8148-7326d0a86277", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "8512b4d9-fc1e-4763-8fcd-bd40e5576897"}}], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "47513875-7f13-471f-a631-3fe892cf4af9"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Slave", "uuid": "e96a9978-1ad8-4ae2-b7a3-cf9b174f864a"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__stop_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "de329770_deployment", "uuid": "d6d4ee0e-1fc1-439f-aa88-62a4436c26b6"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "4a2ad0be_runbook", "uuid": "769af1fb-afad-4878-be4f-500f9bdc8b7f"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "b66c3db1-843a-4d61-a04d-96e70201bca3"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AHVSlave", "uuid": "8da052f5-54f7-436e-b65a-a492ffb8bfd1"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__stop_CRb_Substrate_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "uuid": "edb872a0-b777-4fe6-a5bb-732874eed28a"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "a98a0d57-9101-4462-9613-6596f84faea6"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Master", "uuid": "cca134c1-b826-4a29-86b2-c723c237253d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__stop_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "9098b02b_deployment", "uuid": "4eb2ec01-4b56-4658-84f4-802d52122fe9"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "0aefbca3_runbook", "uuid": "6ba0d524-a652-4f98-8f92-6ec865842a9b"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "8512b4d9-fc1e-4763-8fcd-bd40e5576897"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AHVMaster", "uuid": "e1058034-e16a-4e60-9ce6-4a66d9818700"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__stop_CRb_Substrate_e1058034_e16a_4e60_9ce6_4a66d9818700", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_e1058034_e16a_4e60_9ce6_4a66d9818700", "uuid": "279bab7d-c728-417c-859d-5e823935fce5"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "f0181b6c-9617-4821-85bc-5dfc1db1883d"}], "description": "", "name": "SYS_GEN__Runbook_Application_c8ce463f_87b3_4781_8653_12261b76bf26", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Application_c8ce463f_87b3_4781_8653_12261b76bf26", "uuid": "47513875-7f13-471f-a631-3fe892cf4af9"}, "message_list": [], "variable_list": [], "uuid": "4f7dbdb0-821a-4257-9740-3023e65ed07b"}, "message_list": [], "name": "action_stop"}, {"description": "System action for deleting an application. Deletes physical machines as well", "type": "system", "uuid": "77be1fba-1fda-4879-93f1-0631ae1934a8", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_profile", "name": "Nutanix", "uuid": "c8ce463f-87b3-4781-8653-12261b76bf26"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "8e6abd84-6f8e-445d-a70d-a5bb7e445d28"}, {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "a0df9cac-7835-43c1-b738-e74a2e4dd69e"}, {"kind": "app_task", "name": "SYS_GEN__uninstall_CRb_Package_d24e573c_09de_4603_b9a9_ff8d92739072", "uuid": "facc7a4d-37c1-4cd2-b053-537026ea4193"}, {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "8e6ebc56-4ea3-4f43-b52a-b553153c533e"}, {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "7934e9d9-3fac-45cd-b577-4a75eb6bc5bf"}, {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Substrate_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "uuid": "732b1a75-ef49-4b1a-89f3-94019b7064b1"}, {"kind": "app_task", "name": "SYS_GEN__DE_Delete_d6d4ee0e_1fc1_439f_aa88_62a4436c26b6", "uuid": "dda54be7-1707-4ea4-8af6-0673893823a6"}, {"kind": "app_task", "name": "SYS_GEN__uninstall_CRb_Package_1a813ff4_dffc_4ddb_b68d_5ff32c685d8d", "uuid": "664e4b21-7805-4c8b-bf70-41fc2a398936"}, {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Substrate_e1058034_e16a_4e60_9ce6_4a66d9818700", "uuid": "1282c3ea-a97c-4f16-ae79-e90e1305b2b0"}, {"kind": "app_task", "name": "SYS_GEN__DE_Delete_4eb2ec01_4b56_4658_84f4_802d52122fe9", "uuid": "1363150c-8f68-4934-9a9d-3468dee4f48c"}], "name": "SYS_GEN__Composite_DAG_Application_c8ce463f_87b3_4781_8653_12261b76bf26", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "8e6ebc56-4ea3-4f43-b52a-b553153c533e"}, "edge_type": "inherent", "type": "", "uuid": "7148f473-7821-4450-bf1b-a67659c12ecb", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "7934e9d9-3fac-45cd-b577-4a75eb6bc5bf"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "7934e9d9-3fac-45cd-b577-4a75eb6bc5bf"}, "edge_type": "inherent", "type": "", "uuid": "fee096d3-006e-43d6-a6c3-e4afcf983749", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__uninstall_CRb_Package_1a813ff4_dffc_4ddb_b68d_5ff32c685d8d", "uuid": "664e4b21-7805-4c8b-bf70-41fc2a398936"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__uninstall_CRb_Package_1a813ff4_dffc_4ddb_b68d_5ff32c685d8d", "uuid": "664e4b21-7805-4c8b-bf70-41fc2a398936"}, "edge_type": "inherent", "type": "", "uuid": "5e8111ac-b89f-437d-bdf9-7a5bfbab7d78", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Substrate_e1058034_e16a_4e60_9ce6_4a66d9818700", "uuid": "1282c3ea-a97c-4f16-ae79-e90e1305b2b0"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Substrate_e1058034_e16a_4e60_9ce6_4a66d9818700", "uuid": "1282c3ea-a97c-4f16-ae79-e90e1305b2b0"}, "edge_type": "inherent", "type": "", "uuid": "091022b5-be7e-49b2-80ac-e718c104c90b", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__DE_Delete_4eb2ec01_4b56_4658_84f4_802d52122fe9", "uuid": "1363150c-8f68-4934-9a9d-3468dee4f48c"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "8e6abd84-6f8e-445d-a70d-a5bb7e445d28"}, "edge_type": "inherent", "type": "", "uuid": "36498838-5d00-40b3-b1a1-fdaa6131a79f", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "a0df9cac-7835-43c1-b738-e74a2e4dd69e"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "a0df9cac-7835-43c1-b738-e74a2e4dd69e"}, "edge_type": "inherent", "type": "", "uuid": "ab4bbcec-190c-4abe-9331-003a6251f629", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__uninstall_CRb_Package_d24e573c_09de_4603_b9a9_ff8d92739072", "uuid": "facc7a4d-37c1-4cd2-b053-537026ea4193"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__uninstall_CRb_Package_d24e573c_09de_4603_b9a9_ff8d92739072", "uuid": "facc7a4d-37c1-4cd2-b053-537026ea4193"}, "edge_type": "inherent", "type": "", "uuid": "648f9072-c4f9-4cf3-b4f3-ef9efa2302d9", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Substrate_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "uuid": "732b1a75-ef49-4b1a-89f3-94019b7064b1"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Substrate_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "uuid": "732b1a75-ef49-4b1a-89f3-94019b7064b1"}, "edge_type": "inherent", "type": "", "uuid": "20cea92b-6641-4a43-987e-dd5a4126962a", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__DE_Delete_d6d4ee0e_1fc1_439f_aa88_62a4436c26b6", "uuid": "dda54be7-1707-4ea4-8af6-0673893823a6"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "a0df9cac-7835-43c1-b738-e74a2e4dd69e"}, "edge_type": "depends_on", "type": "", "uuid": "6ab60e9a-39b5-4eb5-8f85-e1308e391939", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "8e6ebc56-4ea3-4f43-b52a-b553153c533e"}}], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "be24cf2b-ff8e-4bf1-ba7a-5592abdc814a"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Slave", "uuid": "e96a9978-1ad8-4ae2-b7a3-cf9b174f864a"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__stop_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "de329770_deployment", "uuid": "d6d4ee0e-1fc1-439f-aa88-62a4436c26b6"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "4a2ad0be_runbook", "uuid": "769af1fb-afad-4878-be4f-500f9bdc8b7f"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "8e6abd84-6f8e-445d-a70d-a5bb7e445d28"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Slave", "uuid": "e96a9978-1ad8-4ae2-b7a3-cf9b174f864a"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__delete_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "de329770_deployment", "uuid": "d6d4ee0e-1fc1-439f-aa88-62a4436c26b6"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "92247e35_runbook", "uuid": "8313c934-78a4-457c-8403-d1223a46c2c3"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "a0df9cac-7835-43c1-b738-e74a2e4dd69e"}, {"target_any_local_reference": {"kind": "app_package", "name": "AHVSlavePackage", "uuid": "d24e573c-09de-4603-b9a9-ff8d92739072"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__uninstall_CRb_Package_d24e573c_09de_4603_b9a9_ff8d92739072", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "de329770_deployment", "uuid": "d6d4ee0e-1fc1-439f-aa88-62a4436c26b6"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Package_d24e573c_09de_4603_b9a9_ff8d92739072", "uuid": "2c142b17-8e21-4ae9-ba90-c5469a434c22"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "facc7a4d-37c1-4cd2-b053-537026ea4193"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Master", "uuid": "cca134c1-b826-4a29-86b2-c723c237253d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__stop_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "9098b02b_deployment", "uuid": "4eb2ec01-4b56-4658-84f4-802d52122fe9"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "0aefbca3_runbook", "uuid": "6ba0d524-a652-4f98-8f92-6ec865842a9b"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "8e6ebc56-4ea3-4f43-b52a-b553153c533e"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Master", "uuid": "cca134c1-b826-4a29-86b2-c723c237253d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__delete_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "9098b02b_deployment", "uuid": "4eb2ec01-4b56-4658-84f4-802d52122fe9"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "5fd47ec3_runbook", "uuid": "d51a0752-03fa-42c7-8338-f0cf594666c2"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "7934e9d9-3fac-45cd-b577-4a75eb6bc5bf"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AHVSlave", "uuid": "8da052f5-54f7-436e-b65a-a492ffb8bfd1"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__delete_CRb_Substrate_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "uuid": "ea3ef488-3e39-4130-b292-f45f107ebd99"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "732b1a75-ef49-4b1a-89f3-94019b7064b1"}, {"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "de329770_deployment", "uuid": "d6d4ee0e-1fc1-439f-aa88-62a4436c26b6"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__DE_Delete_d6d4ee0e_1fc1_439f_aa88_62a4436c26b6", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "", "type": "DELETE_DEPLOYMENT_ELEMENT", "variable_list": [], "uuid": "dda54be7-1707-4ea4-8af6-0673893823a6"}, {"target_any_local_reference": {"kind": "app_package", "name": "AHVMasterPackage", "uuid": "1a813ff4-dffc-4ddb-b68d-5ff32c685d8d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__uninstall_CRb_Package_1a813ff4_dffc_4ddb_b68d_5ff32c685d8d", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "9098b02b_deployment", "uuid": "4eb2ec01-4b56-4658-84f4-802d52122fe9"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Package_1a813ff4_dffc_4ddb_b68d_5ff32c685d8d", "uuid": "6c1f1a14-9c5d-4571-a362-055cf3d2c86f"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "664e4b21-7805-4c8b-bf70-41fc2a398936"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AHVMaster", "uuid": "e1058034-e16a-4e60-9ce6-4a66d9818700"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__delete_CRb_Substrate_e1058034_e16a_4e60_9ce6_4a66d9818700", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_e1058034_e16a_4e60_9ce6_4a66d9818700", "uuid": "df191e41-0aae-4422-92e9-c259bf5f04eb"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "1282c3ea-a97c-4f16-ae79-e90e1305b2b0"}, {"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "9098b02b_deployment", "uuid": "4eb2ec01-4b56-4658-84f4-802d52122fe9"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__DE_Delete_4eb2ec01_4b56_4658_84f4_802d52122fe9", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "", "type": "DELETE_DEPLOYMENT_ELEMENT", "variable_list": [], "uuid": "1363150c-8f68-4934-9a9d-3468dee4f48c"}], "description": "", "name": "SYS_GEN__Runbook_Application_c8ce463f_87b3_4781_8653_12261b76bf26", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Application_c8ce463f_87b3_4781_8653_12261b76bf26", "uuid": "be24cf2b-ff8e-4bf1-ba7a-5592abdc814a"}, "message_list": [], "variable_list": [], "uuid": "7fdacf7c-7ab6-4530-8815-7e9c4388cf93"}, "message_list": [], "name": "action_delete"}, {"description": "System action for deleting an application. Does not delete physical machines", "type": "system", "uuid": "3018081b-c3aa-46d0-b49c-2c23830cdf7a", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_profile", "name": "Nutanix", "uuid": "c8ce463f-87b3-4781-8653-12261b76bf26"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "8cb85cb0-163e-4775-bde4-a75cdddca03f"}, {"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "d39d971d-9547-4d79-bdfd-5ed271fa8114"}, {"kind": "app_task", "name": "SYS_GEN__Package_Element_Delete_d24e573c_09de_4603_b9a9_ff8d92739072", "uuid": "50ff93fb-b088-4c0c-9774-36be577a80e3"}, {"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Substrate_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "uuid": "4a067afa-0468-42ce-a346-c0e6f68fe903"}, {"kind": "app_task", "name": "SYS_GEN__Package_Element_Delete_1a813ff4_dffc_4ddb_b68d_5ff32c685d8d", "uuid": "b5773037-0e38-4d82-bf65-55edb03fbb2d"}, {"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Substrate_e1058034_e16a_4e60_9ce6_4a66d9818700", "uuid": "1aacfa3d-0871-43f4-9029-58c754543480"}, {"kind": "app_task", "name": "SYS_GEN__DE_Soft_Delete_d6d4ee0e_1fc1_439f_aa88_62a4436c26b6", "uuid": "e04d46e1-ea83-4e56-8c43-717005613e94"}, {"kind": "app_task", "name": "SYS_GEN__DE_Soft_Delete_4eb2ec01_4b56_4658_84f4_802d52122fe9", "uuid": "726c9441-f4bd-4114-86db-c76061805ab3"}], "name": "SYS_GEN__Composite_DAG_Application_c8ce463f_87b3_4781_8653_12261b76bf26", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "d39d971d-9547-4d79-bdfd-5ed271fa8114"}, "edge_type": "inherent", "type": "", "uuid": "e69d97e3-c106-44aa-9b02-2c3de87062f4", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__Package_Element_Delete_1a813ff4_dffc_4ddb_b68d_5ff32c685d8d", "uuid": "b5773037-0e38-4d82-bf65-55edb03fbb2d"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Substrate_e1058034_e16a_4e60_9ce6_4a66d9818700", "uuid": "1aacfa3d-0871-43f4-9029-58c754543480"}, "edge_type": "inherent", "type": "", "uuid": "8e29e000-01f5-44cc-9d5a-f7c19dd1b624", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__DE_Soft_Delete_4eb2ec01_4b56_4658_84f4_802d52122fe9", "uuid": "726c9441-f4bd-4114-86db-c76061805ab3"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__Package_Element_Delete_1a813ff4_dffc_4ddb_b68d_5ff32c685d8d", "uuid": "b5773037-0e38-4d82-bf65-55edb03fbb2d"}, "edge_type": "inherent", "type": "", "uuid": "c558c8ca-4035-4797-a9fe-125605de711a", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Substrate_e1058034_e16a_4e60_9ce6_4a66d9818700", "uuid": "1aacfa3d-0871-43f4-9029-58c754543480"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "8cb85cb0-163e-4775-bde4-a75cdddca03f"}, "edge_type": "inherent", "type": "", "uuid": "5da67a1f-8439-4b4d-bc27-ce4b3bded9fd", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__Package_Element_Delete_d24e573c_09de_4603_b9a9_ff8d92739072", "uuid": "50ff93fb-b088-4c0c-9774-36be577a80e3"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__Package_Element_Delete_d24e573c_09de_4603_b9a9_ff8d92739072", "uuid": "50ff93fb-b088-4c0c-9774-36be577a80e3"}, "edge_type": "inherent", "type": "", "uuid": "c6b23834-9372-4d38-b0c9-8a7bdeb45355", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Substrate_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "uuid": "4a067afa-0468-42ce-a346-c0e6f68fe903"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Substrate_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "uuid": "4a067afa-0468-42ce-a346-c0e6f68fe903"}, "edge_type": "inherent", "type": "", "uuid": "7c7f6495-e99c-4b25-a224-9b2168c46c74", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__DE_Soft_Delete_d6d4ee0e_1fc1_439f_aa88_62a4436c26b6", "uuid": "e04d46e1-ea83-4e56-8c43-717005613e94"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "8cb85cb0-163e-4775-bde4-a75cdddca03f"}, "edge_type": "depends_on", "type": "", "uuid": "e83552d1-6629-4e99-ab06-7a8907ee1a05", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "d39d971d-9547-4d79-bdfd-5ed271fa8114"}}], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "88ff6047-5dce-4b2d-9857-21dc8d407242"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Slave", "uuid": "e96a9978-1ad8-4ae2-b7a3-cf9b174f864a"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__soft_delete_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "de329770_deployment", "uuid": "d6d4ee0e-1fc1-439f-aa88-62a4436c26b6"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "689520c6-6efb-4d4a-a874-74418185d66d"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "8cb85cb0-163e-4775-bde4-a75cdddca03f"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Master", "uuid": "cca134c1-b826-4a29-86b2-c723c237253d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__soft_delete_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "9098b02b_deployment", "uuid": "4eb2ec01-4b56-4658-84f4-802d52122fe9"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "2ee79c4f-1b76-45fe-a054-5539ff69b85d"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "d39d971d-9547-4d79-bdfd-5ed271fa8114"}, {"target_any_local_reference": {"kind": "app_package", "name": "AHVSlavePackage", "uuid": "d24e573c-09de-4603-b9a9-ff8d92739072"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Package_Element_Delete_d24e573c_09de_4603_b9a9_ff8d92739072", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "", "type": "SOFT_DELETE_ELEMENT", "variable_list": [], "uuid": "50ff93fb-b088-4c0c-9774-36be577a80e3"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AHVSlave", "uuid": "8da052f5-54f7-436e-b65a-a492ffb8bfd1"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__soft_delete_CRb_Substrate_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_8da052f5_54f7_436e_b65a_a492ffb8bfd1", "uuid": "4d5a9e3a-87d2-4ef4-8d2c-0adb19071966"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "4a067afa-0468-42ce-a346-c0e6f68fe903"}, {"target_any_local_reference": {"kind": "app_package", "name": "AHVMasterPackage", "uuid": "1a813ff4-dffc-4ddb-b68d-5ff32c685d8d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Package_Element_Delete_1a813ff4_dffc_4ddb_b68d_5ff32c685d8d", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "", "type": "SOFT_DELETE_ELEMENT", "variable_list": [], "uuid": "b5773037-0e38-4d82-bf65-55edb03fbb2d"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AHVMaster", "uuid": "e1058034-e16a-4e60-9ce6-4a66d9818700"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__soft_delete_CRb_Substrate_e1058034_e16a_4e60_9ce6_4a66d9818700", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_e1058034_e16a_4e60_9ce6_4a66d9818700", "uuid": "8f178de0-ab0a-4fe9-8caa-060312b7f1fe"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "1aacfa3d-0871-43f4-9029-58c754543480"}, {"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "de329770_deployment", "uuid": "d6d4ee0e-1fc1-439f-aa88-62a4436c26b6"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__DE_Soft_Delete_d6d4ee0e_1fc1_439f_aa88_62a4436c26b6", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "", "type": "SOFT_DELETE_DEPLOYMENT_ELEMENT", "variable_list": [], "uuid": "e04d46e1-ea83-4e56-8c43-717005613e94"}, {"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "9098b02b_deployment", "uuid": "4eb2ec01-4b56-4658-84f4-802d52122fe9"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__DE_Soft_Delete_4eb2ec01_4b56_4658_84f4_802d52122fe9", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "", "type": "SOFT_DELETE_DEPLOYMENT_ELEMENT", "variable_list": [], "uuid": "726c9441-f4bd-4114-86db-c76061805ab3"}], "description": "", "name": "SYS_GEN__Runbook_Application_c8ce463f_87b3_4781_8653_12261b76bf26", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Application_c8ce463f_87b3_4781_8653_12261b76bf26", "uuid": "88ff6047-5dce-4b2d-9857-21dc8d407242"}, "message_list": [], "variable_list": [], "uuid": "ef4c57fd-4dd5-4beb-b82e-0636b846fe34"}, "message_list": [], "name": "action_soft_delete"}], "name": "Nutanix", "state": "ACTIVE", "message_list": [], "dependency_list": [{"getter_resource_kind": "ServiceCfg", "setter_resource_attr": "MYSQL_BIN", "setter_resource_kind": "ServiceCfg", "setter_resource_name": "MySQL_Master", "action_name": "action_create", "action_resource_name": "Nutanix", "getter_resource_name": "MySQL_Slave", "action_resource_kind": "ApplicationCfg"}, {"getter_resource_kind": "ServiceCfg", "setter_resource_attr": "MYSQL_POSITION", "setter_resource_kind": "ServiceCfg", "setter_resource_name": "MySQL_Master", "action_name": "action_create", "action_resource_name": "Nutanix", "getter_resource_name": "MySQL_Slave", "action_resource_kind": "ApplicationCfg"}, {"getter_resource_kind": "ServiceCfg", "setter_resource_attr": "MYSQL_MASTER_IP", "setter_resource_kind": "ServiceCfg", "setter_resource_name": "MySQL_Master", "action_name": "action_create", "action_resource_name": "Nutanix", "getter_resource_name": "MySQL_Slave", "action_resource_kind": "ApplicationCfg"}], "variable_list": [{"val_type": "STRING", "description": "", "name": "INSTANCE_PUBLIC_KEY", "type": "LOCAL", "value": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDMGAS/K0Mb/uwFXwD+hkjguy7VMZk2hpuhwPl9FUZwVBrURf/i9QMJ5/paPEZixu8VlRx7Inu4iun7rQfrnfeIYInmBwspXHYiTK3oHJAgZnrAHVEf1p6YaxLINlT1NI5yOAGPRWW6of8rBDBH1ObwU2+wcSx/1H0uIs3aZNLufr+Rh628ACxAum2Gt8AVRj6ua2BPFyt5VTdclyysAmeh1AiixNgOZXOz6y/i4TbzpY78I3isuKpxsUeXX6jxEMQol406jHDUF6njEOPIQG2zVZ3QJlTG9OlN+NiyZG9WkZz0VG/6M8ixxIHHI2dNwUbBFv2HUu+8X9LTLFq2O7KjX9Hp7uZKBAySHA3eKaKHIp2bZuU1bT5PRPkggngX86xg+T+OMNnutbAiMnRJ8+FvD5So+5TIx4b9GgxAxure3x2yRPT9lOiQOB+CVpJPxR0Rn9bOI+wiPnD0kAGvK/fHT+pqL4PM+hTnJtp9rrCRzIQApBx1263jEcYffhW2epZQRO+he5CMawFJ5TBe08om2AaDJ8GQdrpF6YA3W8DzHbmL3DPVVHdmqPLn10o+LX4gv5SdIIDVGdjKOc1BCnLTRmM28d5+sLDt/M+kvcQgf0y0yDjMVjGECZkt39hbm4ELMHzZtzYLmHNhBZxRqHeJ7qFTuv1kx88OW3Xc5mbBNQ== centos@nutanix.com", "label": "", "state": "ACTIVE", "attrs": {"type": ""}, "editables": {"value": true}, "message_list": [], "uuid": "5e30b82c-1ad2-4421-a152-2bde97a1a40d"}, {"val_type": "STRING", "description": "", "name": "MYSQL_PASSWORD", "type": "SECRET", "value": "", "label": "", "state": "ACTIVE", "attrs": {"is_secret_modified": false, "secret_reference": {"uuid": "ede4e356-f69c-49c6-943d-f19e47ec43ec"}, "type": ""}, "editables": {"value": true}, "message_list": [], "uuid": "545ee662-da01-4953-ad43-f233ff737637"}], "uuid": "c8ce463f-87b3-4781-8653-12261b76bf26"}, {"deployment_create_list": [{"description": "", "action_list": [{"description": "System action for creating an application", "type": "system", "uuid": "c8abd758-9d17-4e1f-a16f-404d5b86a5e4", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "62ee1671_deployment", "uuid": "c3e776ec-0f37-49f0-8269-ab3a89b80055"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__DE_Provision_c3e776ec_0f37_49f0_8269_ab3a89b80055", "uuid": "e892b230-576e-4235-95e8-0e4727eff825"}, {"kind": "app_task", "name": "SYS_GEN__create_CRb_Substrate_f15fdd94_a074_4a8c_8161_51f46db87183", "uuid": "e1160ab4-c903-4283-b839-7f42e716fc51"}, {"kind": "app_task", "name": "SYS_GEN__install_CRb_Package_d4dc30cf_b3a6_40f6_b0cf_b849b6a0d928", "uuid": "25ec0e80-ccac-40d1-946f-5ac915ff88b3"}, {"kind": "app_task", "name": "SYS_GEN__create_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "caa0c3b0-ae00-428e-8c56-8c5b87aa8dfc"}, {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "3cf4eebc-9ff2-4a1e-a2d1-3a105ca336df"}], "name": "SYS_GEN__Composite_DAG_Deployment_c3e776ec_0f37_49f0_8269_ab3a89b80055", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "caa0c3b0-ae00-428e-8c56-8c5b87aa8dfc"}, "edge_type": "inherent", "type": "", "uuid": "1390b9ab-5088-4984-ab69-39d2e7bfd4d5", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "3cf4eebc-9ff2-4a1e-a2d1-3a105ca336df"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__install_CRb_Package_d4dc30cf_b3a6_40f6_b0cf_b849b6a0d928", "uuid": "25ec0e80-ccac-40d1-946f-5ac915ff88b3"}, "edge_type": "inherent", "type": "", "uuid": "786a3748-7baf-4152-bb2b-b72a45a67a7e", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "caa0c3b0-ae00-428e-8c56-8c5b87aa8dfc"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__DE_Provision_c3e776ec_0f37_49f0_8269_ab3a89b80055", "uuid": "e892b230-576e-4235-95e8-0e4727eff825"}, "edge_type": "inherent", "type": "", "uuid": "efd81e7c-9c80-45dd-87a5-b0bf04c48ced", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Substrate_f15fdd94_a074_4a8c_8161_51f46db87183", "uuid": "e1160ab4-c903-4283-b839-7f42e716fc51"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Substrate_f15fdd94_a074_4a8c_8161_51f46db87183", "uuid": "e1160ab4-c903-4283-b839-7f42e716fc51"}, "edge_type": "inherent", "type": "", "uuid": "e00f0a18-9e1c-4cc5-89cf-13a7ca3fec68", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__install_CRb_Package_d4dc30cf_b3a6_40f6_b0cf_b849b6a0d928", "uuid": "25ec0e80-ccac-40d1-946f-5ac915ff88b3"}}], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "7d05909f-70e9-4fb6-9f8b-ba04ff77c3a1"}, {"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "62ee1671_deployment", "uuid": "c3e776ec-0f37-49f0-8269-ab3a89b80055"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__DE_Provision_c3e776ec_0f37_49f0_8269_ab3a89b80055", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "", "type": "CREATE_DEPLOYMENT_ELEMENT", "variable_list": [], "uuid": "e892b230-576e-4235-95e8-0e4727eff825"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AWSMaster", "uuid": "f15fdd94-a074-4a8c-8161-51f46db87183"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__create_CRb_Substrate_f15fdd94_a074_4a8c_8161_51f46db87183", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_f15fdd94_a074_4a8c_8161_51f46db87183", "uuid": "57c3b009-b439-4130-ab1a-34575a89b925"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "e1160ab4-c903-4283-b839-7f42e716fc51"}, {"target_any_local_reference": {"kind": "app_package", "name": "AWSMasterPackage", "uuid": "d4dc30cf-b3a6-40f6-b0cf-b849b6a0d928"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__install_CRb_Package_d4dc30cf_b3a6_40f6_b0cf_b849b6a0d928", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "62ee1671_deployment", "uuid": "c3e776ec-0f37-49f0-8269-ab3a89b80055"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Package_d4dc30cf_b3a6_40f6_b0cf_b849b6a0d928", "uuid": "3db75a31-79be-48c3-b51c-4335b6da5cd1"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "25ec0e80-ccac-40d1-946f-5ac915ff88b3"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Master", "uuid": "cca134c1-b826-4a29-86b2-c723c237253d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__create_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "62ee1671_deployment", "uuid": "c3e776ec-0f37-49f0-8269-ab3a89b80055"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "0a970522_runbook", "uuid": "7a358965-611d-4cfa-820b-97f097841617"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "caa0c3b0-ae00-428e-8c56-8c5b87aa8dfc"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Master", "uuid": "cca134c1-b826-4a29-86b2-c723c237253d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__start_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "62ee1671_deployment", "uuid": "c3e776ec-0f37-49f0-8269-ab3a89b80055"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "5ddb28d1_runbook", "uuid": "bd4efbf3-b76f-4aab-90cb-0e572d360742"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "3cf4eebc-9ff2-4a1e-a2d1-3a105ca336df"}], "description": "", "name": "SYS_GEN__Runbook_Deployment_c3e776ec_0f37_49f0_8269_ab3a89b80055", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Deployment_c3e776ec_0f37_49f0_8269_ab3a89b80055", "uuid": "7d05909f-70e9-4fb6-9f8b-ba04ff77c3a1"}, "message_list": [], "variable_list": [], "uuid": "79c3eef1-dfff-48ce-bad4-be3314132277"}, "message_list": [], "name": "action_create"}, {"description": "System action for starting an application", "type": "system", "uuid": "2041935e-5e68-4e93-a30b-80116db2404e", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "62ee1671_deployment", "uuid": "c3e776ec-0f37-49f0-8269-ab3a89b80055"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__start_CRb_Substrate_f15fdd94_a074_4a8c_8161_51f46db87183", "uuid": "1befe25f-3717-40c5-b3ab-b681269f4fe6"}, {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "e8e87087-93ca-45a7-8200-edcff44ca770"}], "name": "SYS_GEN__Composite_DAG_Deployment_c3e776ec_0f37_49f0_8269_ab3a89b80055", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__start_CRb_Substrate_f15fdd94_a074_4a8c_8161_51f46db87183", "uuid": "1befe25f-3717-40c5-b3ab-b681269f4fe6"}, "edge_type": "inherent", "type": "", "uuid": "d10a2e09-26af-44c4-ad0e-50b1f6860596", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "e8e87087-93ca-45a7-8200-edcff44ca770"}}], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "c8782ab1-11a8-4767-aca6-8d041b32a451"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AWSMaster", "uuid": "f15fdd94-a074-4a8c-8161-51f46db87183"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__start_CRb_Substrate_f15fdd94_a074_4a8c_8161_51f46db87183", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_f15fdd94_a074_4a8c_8161_51f46db87183", "uuid": "f1c65028-6627-4e35-8323-177e74e7afb1"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "1befe25f-3717-40c5-b3ab-b681269f4fe6"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Master", "uuid": "cca134c1-b826-4a29-86b2-c723c237253d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__start_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "62ee1671_deployment", "uuid": "c3e776ec-0f37-49f0-8269-ab3a89b80055"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "5ddb28d1_runbook", "uuid": "bd4efbf3-b76f-4aab-90cb-0e572d360742"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "e8e87087-93ca-45a7-8200-edcff44ca770"}], "description": "", "name": "SYS_GEN__Runbook_Deployment_c3e776ec_0f37_49f0_8269_ab3a89b80055", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Deployment_c3e776ec_0f37_49f0_8269_ab3a89b80055", "uuid": "c8782ab1-11a8-4767-aca6-8d041b32a451"}, "message_list": [], "variable_list": [], "uuid": "42df86d1-e475-417f-98db-e9f8db8e4c1c"}, "message_list": [], "name": "action_start"}, {"description": "System action for stopping an application", "type": "system", "uuid": "cfd7baf5-6981-4e1e-bc07-796784b8bdc6", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "62ee1671_deployment", "uuid": "c3e776ec-0f37-49f0-8269-ab3a89b80055"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "90f41515-4312-49b3-8408-828ef4d8f80a"}, {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Substrate_f15fdd94_a074_4a8c_8161_51f46db87183", "uuid": "2318f80a-6c30-42f4-b39d-3787062f5391"}], "name": "SYS_GEN__Composite_DAG_Deployment_c3e776ec_0f37_49f0_8269_ab3a89b80055", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "90f41515-4312-49b3-8408-828ef4d8f80a"}, "edge_type": "inherent", "type": "", "uuid": "75ba4f57-8f85-4e95-bc7d-f8da47ba9f74", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Substrate_f15fdd94_a074_4a8c_8161_51f46db87183", "uuid": "2318f80a-6c30-42f4-b39d-3787062f5391"}}], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "eba27cae-5a65-4d6d-8cb5-a5a2dbbb4e2b"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Master", "uuid": "cca134c1-b826-4a29-86b2-c723c237253d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__stop_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "62ee1671_deployment", "uuid": "c3e776ec-0f37-49f0-8269-ab3a89b80055"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "0aefbca3_runbook", "uuid": "6ba0d524-a652-4f98-8f92-6ec865842a9b"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "90f41515-4312-49b3-8408-828ef4d8f80a"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AWSMaster", "uuid": "f15fdd94-a074-4a8c-8161-51f46db87183"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__stop_CRb_Substrate_f15fdd94_a074_4a8c_8161_51f46db87183", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_f15fdd94_a074_4a8c_8161_51f46db87183", "uuid": "5ab78c73-89cb-49c7-9f32-eda55c732a02"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "2318f80a-6c30-42f4-b39d-3787062f5391"}], "description": "", "name": "SYS_GEN__Runbook_Deployment_c3e776ec_0f37_49f0_8269_ab3a89b80055", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Deployment_c3e776ec_0f37_49f0_8269_ab3a89b80055", "uuid": "eba27cae-5a65-4d6d-8cb5-a5a2dbbb4e2b"}, "message_list": [], "variable_list": [], "uuid": "41d91449-2e98-4719-ba42-32f033a272f8"}, "message_list": [], "name": "action_stop"}, {"description": "System action for deleting an application. Deletes physical machines as well", "type": "system", "uuid": "e7111088-6d58-4372-9fd6-f3623231a7e6", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "62ee1671_deployment", "uuid": "c3e776ec-0f37-49f0-8269-ab3a89b80055"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "d4c8c978-8925-4968-a63c-309d7444132d"}, {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "efaa71cf-b307-4ec8-8608-ef87b9066a8c"}, {"kind": "app_task", "name": "SYS_GEN__uninstall_CRb_Package_d4dc30cf_b3a6_40f6_b0cf_b849b6a0d928", "uuid": "04b27f0b-c2ce-4073-bec4-8cca683321b7"}, {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Substrate_f15fdd94_a074_4a8c_8161_51f46db87183", "uuid": "27a756e1-7f2e-4712-8ec5-aefa272a42cb"}, {"kind": "app_task", "name": "SYS_GEN__DE_Delete_c3e776ec_0f37_49f0_8269_ab3a89b80055", "uuid": "33054eba-9c35-49e0-aad6-4c77881c7ec5"}], "name": "SYS_GEN__Composite_DAG_Deployment_c3e776ec_0f37_49f0_8269_ab3a89b80055", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "d4c8c978-8925-4968-a63c-309d7444132d"}, "edge_type": "inherent", "type": "", "uuid": "b69b46d9-34b5-411c-8e9f-079680106469", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "efaa71cf-b307-4ec8-8608-ef87b9066a8c"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "efaa71cf-b307-4ec8-8608-ef87b9066a8c"}, "edge_type": "inherent", "type": "", "uuid": "7c1e17fd-ce0f-422b-9e34-82e3b68bfb90", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__uninstall_CRb_Package_d4dc30cf_b3a6_40f6_b0cf_b849b6a0d928", "uuid": "04b27f0b-c2ce-4073-bec4-8cca683321b7"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Substrate_f15fdd94_a074_4a8c_8161_51f46db87183", "uuid": "27a756e1-7f2e-4712-8ec5-aefa272a42cb"}, "edge_type": "inherent", "type": "", "uuid": "2483bcca-0f2f-48c5-9622-59d102691204", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__DE_Delete_c3e776ec_0f37_49f0_8269_ab3a89b80055", "uuid": "33054eba-9c35-49e0-aad6-4c77881c7ec5"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__uninstall_CRb_Package_d4dc30cf_b3a6_40f6_b0cf_b849b6a0d928", "uuid": "04b27f0b-c2ce-4073-bec4-8cca683321b7"}, "edge_type": "inherent", "type": "", "uuid": "a0ea9621-c6c2-4ca3-b939-37e21e29f37e", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Substrate_f15fdd94_a074_4a8c_8161_51f46db87183", "uuid": "27a756e1-7f2e-4712-8ec5-aefa272a42cb"}}], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "3e2e7322-d3eb-476d-9bf3-cc02ac69683d"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Master", "uuid": "cca134c1-b826-4a29-86b2-c723c237253d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__stop_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "62ee1671_deployment", "uuid": "c3e776ec-0f37-49f0-8269-ab3a89b80055"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "0aefbca3_runbook", "uuid": "6ba0d524-a652-4f98-8f92-6ec865842a9b"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "d4c8c978-8925-4968-a63c-309d7444132d"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Master", "uuid": "cca134c1-b826-4a29-86b2-c723c237253d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__delete_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "62ee1671_deployment", "uuid": "c3e776ec-0f37-49f0-8269-ab3a89b80055"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "5fd47ec3_runbook", "uuid": "d51a0752-03fa-42c7-8338-f0cf594666c2"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "efaa71cf-b307-4ec8-8608-ef87b9066a8c"}, {"target_any_local_reference": {"kind": "app_package", "name": "AWSMasterPackage", "uuid": "d4dc30cf-b3a6-40f6-b0cf-b849b6a0d928"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__uninstall_CRb_Package_d4dc30cf_b3a6_40f6_b0cf_b849b6a0d928", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "62ee1671_deployment", "uuid": "c3e776ec-0f37-49f0-8269-ab3a89b80055"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Package_d4dc30cf_b3a6_40f6_b0cf_b849b6a0d928", "uuid": "ab24bf1a-cc15-4391-908f-4f6bf9497988"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "04b27f0b-c2ce-4073-bec4-8cca683321b7"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AWSMaster", "uuid": "f15fdd94-a074-4a8c-8161-51f46db87183"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__delete_CRb_Substrate_f15fdd94_a074_4a8c_8161_51f46db87183", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_f15fdd94_a074_4a8c_8161_51f46db87183", "uuid": "df96bdd1-cdfa-447b-b11b-d89542c10a6b"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "27a756e1-7f2e-4712-8ec5-aefa272a42cb"}, {"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "62ee1671_deployment", "uuid": "c3e776ec-0f37-49f0-8269-ab3a89b80055"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__DE_Delete_c3e776ec_0f37_49f0_8269_ab3a89b80055", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "", "type": "DELETE_DEPLOYMENT_ELEMENT", "variable_list": [], "uuid": "33054eba-9c35-49e0-aad6-4c77881c7ec5"}], "description": "", "name": "SYS_GEN__Runbook_Deployment_c3e776ec_0f37_49f0_8269_ab3a89b80055", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Deployment_c3e776ec_0f37_49f0_8269_ab3a89b80055", "uuid": "3e2e7322-d3eb-476d-9bf3-cc02ac69683d"}, "message_list": [], "variable_list": [], "uuid": "c332d27a-78c7-45af-99a2-591bb38f1002"}, "message_list": [], "name": "action_delete"}, {"description": "System action for scaleout", "type": "system", "uuid": "25a7b5c8-6257-4d7e-bcd6-8107ebed922c", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "62ee1671_deployment", "uuid": "c3e776ec-0f37-49f0-8269-ab3a89b80055"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__Deployment_Scaleout_c3e776ec_0f37_49f0_8269_ab3a89b80055", "uuid": "58db7674-6bd3-4771-ba09-47e25431760b"}], "name": "SYS_GEN__Composite_DAG_Deployment_c3e776ec_0f37_49f0_8269_ab3a89b80055", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "6e615ebb-243b-4513-a3aa-aef36eeceda8"}, {"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "62ee1671_deployment", "uuid": "c3e776ec-0f37-49f0-8269-ab3a89b80055"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Deployment_Scaleout_c3e776ec_0f37_49f0_8269_ab3a89b80055", "state": "ACTIVE", "attrs": {"scaling_count": "@@{scaling_count}@@", "type": "", "scaling_type": "SCALEOUT"}, "timeout_secs": "", "type": "SCALING", "variable_list": [], "uuid": "58db7674-6bd3-4771-ba09-47e25431760b"}], "description": "", "name": "SYS_GEN__Runbook_Deployment_c3e776ec_0f37_49f0_8269_ab3a89b80055", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Deployment_c3e776ec_0f37_49f0_8269_ab3a89b80055", "uuid": "6e615ebb-243b-4513-a3aa-aef36eeceda8"}, "message_list": [], "variable_list": [], "uuid": "5231f71b-db58-47f9-9379-b0bf6a4e92c2"}, "message_list": [], "name": "action_scaleout"}, {"description": "System action for scalein", "type": "system", "uuid": "44c78f86-fda4-43dc-9c67-fc1b0f1b2821", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "62ee1671_deployment", "uuid": "c3e776ec-0f37-49f0-8269-ab3a89b80055"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__Deployment_Scalein_c3e776ec_0f37_49f0_8269_ab3a89b80055", "uuid": "e1602cdf-e20f-4a1b-8dad-55e5ebf8c1b4"}], "name": "SYS_GEN__Composite_DAG_Deployment_c3e776ec_0f37_49f0_8269_ab3a89b80055", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "1aa1a26e-200f-4070-8079-280ff5a55a6c"}, {"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "62ee1671_deployment", "uuid": "c3e776ec-0f37-49f0-8269-ab3a89b80055"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Deployment_Scalein_c3e776ec_0f37_49f0_8269_ab3a89b80055", "state": "ACTIVE", "attrs": {"scaling_count": "@@{scaling_count}@@", "type": "", "scaling_type": "SCALEIN"}, "timeout_secs": "", "type": "SCALING", "variable_list": [], "uuid": "e1602cdf-e20f-4a1b-8dad-55e5ebf8c1b4"}], "description": "", "name": "SYS_GEN__Runbook_Deployment_c3e776ec_0f37_49f0_8269_ab3a89b80055", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Deployment_c3e776ec_0f37_49f0_8269_ab3a89b80055", "uuid": "1aa1a26e-200f-4070-8079-280ff5a55a6c"}, "message_list": [], "variable_list": [], "uuid": "525ee2e7-2844-4c07-a3c7-add245385627"}, "message_list": [], "name": "action_scalein"}, {"description": "System action for deleting an application. Does not delete physical machines", "type": "system", "uuid": "19ffa723-631d-4582-803f-252666cd67ee", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "62ee1671_deployment", "uuid": "c3e776ec-0f37-49f0-8269-ab3a89b80055"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "54ccc3d0-e65c-49bf-909f-b79ac7b9e863"}, {"kind": "app_task", "name": "SYS_GEN__Package_Element_Delete_d4dc30cf_b3a6_40f6_b0cf_b849b6a0d928", "uuid": "3c7fec16-ae7b-4ec9-917f-5e7e156b1495"}, {"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Substrate_f15fdd94_a074_4a8c_8161_51f46db87183", "uuid": "cb6ef102-d3c8-42d0-8d13-245625c4498c"}, {"kind": "app_task", "name": "SYS_GEN__DE_Soft_Delete_c3e776ec_0f37_49f0_8269_ab3a89b80055", "uuid": "8ac54f4a-29f2-4e96-956c-8d7d900cb9f5"}], "name": "SYS_GEN__Composite_DAG_Deployment_c3e776ec_0f37_49f0_8269_ab3a89b80055", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "54ccc3d0-e65c-49bf-909f-b79ac7b9e863"}, "edge_type": "inherent", "type": "", "uuid": "54410a48-b09f-4856-be09-9c6a8443e675", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__Package_Element_Delete_d4dc30cf_b3a6_40f6_b0cf_b849b6a0d928", "uuid": "3c7fec16-ae7b-4ec9-917f-5e7e156b1495"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__Package_Element_Delete_d4dc30cf_b3a6_40f6_b0cf_b849b6a0d928", "uuid": "3c7fec16-ae7b-4ec9-917f-5e7e156b1495"}, "edge_type": "inherent", "type": "", "uuid": "2e7ad33b-65fb-4140-af43-eb163a7a674c", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Substrate_f15fdd94_a074_4a8c_8161_51f46db87183", "uuid": "cb6ef102-d3c8-42d0-8d13-245625c4498c"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Substrate_f15fdd94_a074_4a8c_8161_51f46db87183", "uuid": "cb6ef102-d3c8-42d0-8d13-245625c4498c"}, "edge_type": "inherent", "type": "", "uuid": "9bf0abdf-8703-48ba-9751-fcbc2513cf27", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__DE_Soft_Delete_c3e776ec_0f37_49f0_8269_ab3a89b80055", "uuid": "8ac54f4a-29f2-4e96-956c-8d7d900cb9f5"}}], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "c92c3310-628d-4b4f-aba2-8c924e1c3764"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Master", "uuid": "cca134c1-b826-4a29-86b2-c723c237253d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__soft_delete_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "62ee1671_deployment", "uuid": "c3e776ec-0f37-49f0-8269-ab3a89b80055"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "2ee79c4f-1b76-45fe-a054-5539ff69b85d"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "54ccc3d0-e65c-49bf-909f-b79ac7b9e863"}, {"target_any_local_reference": {"kind": "app_package", "name": "AWSMasterPackage", "uuid": "d4dc30cf-b3a6-40f6-b0cf-b849b6a0d928"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Package_Element_Delete_d4dc30cf_b3a6_40f6_b0cf_b849b6a0d928", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "", "type": "SOFT_DELETE_ELEMENT", "variable_list": [], "uuid": "3c7fec16-ae7b-4ec9-917f-5e7e156b1495"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AWSMaster", "uuid": "f15fdd94-a074-4a8c-8161-51f46db87183"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__soft_delete_CRb_Substrate_f15fdd94_a074_4a8c_8161_51f46db87183", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_f15fdd94_a074_4a8c_8161_51f46db87183", "uuid": "7dec8a64-b667-40f4-a71b-89acbde61b0e"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "cb6ef102-d3c8-42d0-8d13-245625c4498c"}, {"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "62ee1671_deployment", "uuid": "c3e776ec-0f37-49f0-8269-ab3a89b80055"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__DE_Soft_Delete_c3e776ec_0f37_49f0_8269_ab3a89b80055", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "", "type": "SOFT_DELETE_DEPLOYMENT_ELEMENT", "variable_list": [], "uuid": "8ac54f4a-29f2-4e96-956c-8d7d900cb9f5"}], "description": "", "name": "SYS_GEN__Runbook_Deployment_c3e776ec_0f37_49f0_8269_ab3a89b80055", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Deployment_c3e776ec_0f37_49f0_8269_ab3a89b80055", "uuid": "c92c3310-628d-4b4f-aba2-8c924e1c3764"}, "message_list": [], "variable_list": [], "uuid": "47327ca7-c341-4cf9-9ae0-65032c6497d6"}, "message_list": [], "name": "action_soft_delete"}], "message_list": [], "editables": {}, "name": "62ee1671_deployment", "state": "ACTIVE", "max_replicas": "1", "package_local_reference_list": [{"kind": "app_package", "name": "AWSMasterPackage", "uuid": "d4dc30cf-b3a6-40f6-b0cf-b849b6a0d928"}], "substrate_local_reference": {"kind": "app_substrate", "name": "AWSMaster", "uuid": "f15fdd94-a074-4a8c-8161-51f46db87183"}, "min_replicas": "1", "variable_list": [], "uuid": "c3e776ec-0f37-49f0-8269-ab3a89b80055"}, {"description": "", "action_list": [{"description": "System action for creating an application", "type": "system", "uuid": "cefac75b-6954-4ec8-8577-ef18db04ea28", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "a7e03ed8_deployment", "uuid": "571feb89-402c-40a4-aa3f-ae9361293c5d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__DE_Provision_571feb89_402c_40a4_aa3f_ae9361293c5d", "uuid": "86d82222-8f4f-4612-96a9-be387b881ca4"}, {"kind": "app_task", "name": "SYS_GEN__create_CRb_Substrate_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "uuid": "2869f946-0672-40bd-9142-d0a7add3dfbe"}, {"kind": "app_task", "name": "SYS_GEN__install_CRb_Package_48640dc2_c681_4407_8d38_acae12f43969", "uuid": "432d9d02-0d63-4437-93dd-8c6ee054e35c"}, {"kind": "app_task", "name": "SYS_GEN__create_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "83ebc079-0a3f-47c6-b8e4-68abf6bf9088"}, {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "8ead7140-7320-4d85-8d29-ee55a03d6454"}], "name": "SYS_GEN__Composite_DAG_Deployment_571feb89_402c_40a4_aa3f_ae9361293c5d", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "83ebc079-0a3f-47c6-b8e4-68abf6bf9088"}, "edge_type": "inherent", "type": "", "uuid": "97b9383b-acb9-4d66-b7db-6913dbcfc0ac", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "8ead7140-7320-4d85-8d29-ee55a03d6454"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__install_CRb_Package_48640dc2_c681_4407_8d38_acae12f43969", "uuid": "432d9d02-0d63-4437-93dd-8c6ee054e35c"}, "edge_type": "inherent", "type": "", "uuid": "ce2bbe05-cfe7-477d-a1f1-f4b430bbc3a7", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "83ebc079-0a3f-47c6-b8e4-68abf6bf9088"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__DE_Provision_571feb89_402c_40a4_aa3f_ae9361293c5d", "uuid": "86d82222-8f4f-4612-96a9-be387b881ca4"}, "edge_type": "inherent", "type": "", "uuid": "ca341e22-a7ca-4bbc-85f0-8ad2b0dfb35f", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Substrate_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "uuid": "2869f946-0672-40bd-9142-d0a7add3dfbe"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Substrate_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "uuid": "2869f946-0672-40bd-9142-d0a7add3dfbe"}, "edge_type": "inherent", "type": "", "uuid": "945a194d-6a2e-43cb-9384-472fbdac533d", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__install_CRb_Package_48640dc2_c681_4407_8d38_acae12f43969", "uuid": "432d9d02-0d63-4437-93dd-8c6ee054e35c"}}], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "2ecc2a83-c90c-46f5-bb5c-b51bdb0d9977"}, {"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "a7e03ed8_deployment", "uuid": "571feb89-402c-40a4-aa3f-ae9361293c5d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__DE_Provision_571feb89_402c_40a4_aa3f_ae9361293c5d", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "", "type": "CREATE_DEPLOYMENT_ELEMENT", "variable_list": [], "uuid": "86d82222-8f4f-4612-96a9-be387b881ca4"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AWSSlave", "uuid": "e8f1ded2-4387-41d9-9ce5-3d5b75fe064f"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__create_CRb_Substrate_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "uuid": "3478e5ce-ce4f-4ee2-879f-71f9db7061b8"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "2869f946-0672-40bd-9142-d0a7add3dfbe"}, {"target_any_local_reference": {"kind": "app_package", "name": "AWSSlavePackage", "uuid": "48640dc2-c681-4407-8d38-acae12f43969"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__install_CRb_Package_48640dc2_c681_4407_8d38_acae12f43969", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "a7e03ed8_deployment", "uuid": "571feb89-402c-40a4-aa3f-ae9361293c5d"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Package_48640dc2_c681_4407_8d38_acae12f43969", "uuid": "1b4182c2-e484-4048-94db-1a6fb20ce002"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "432d9d02-0d63-4437-93dd-8c6ee054e35c"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Slave", "uuid": "e96a9978-1ad8-4ae2-b7a3-cf9b174f864a"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__create_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "a7e03ed8_deployment", "uuid": "571feb89-402c-40a4-aa3f-ae9361293c5d"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "d54168c9_runbook", "uuid": "674d1ef9-2649-4c20-9cc6-29c73880dfa0"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "83ebc079-0a3f-47c6-b8e4-68abf6bf9088"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Slave", "uuid": "e96a9978-1ad8-4ae2-b7a3-cf9b174f864a"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__start_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "a7e03ed8_deployment", "uuid": "571feb89-402c-40a4-aa3f-ae9361293c5d"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "a027cde0_runbook", "uuid": "be7edeb3-8796-455e-ae89-aecebe6bf01d"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "8ead7140-7320-4d85-8d29-ee55a03d6454"}], "description": "", "name": "SYS_GEN__Runbook_Deployment_571feb89_402c_40a4_aa3f_ae9361293c5d", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Deployment_571feb89_402c_40a4_aa3f_ae9361293c5d", "uuid": "2ecc2a83-c90c-46f5-bb5c-b51bdb0d9977"}, "message_list": [], "variable_list": [], "uuid": "169cd8ff-fdd7-4fc4-b7a0-fec343260db7"}, "message_list": [], "name": "action_create"}, {"description": "System action for starting an application", "type": "system", "uuid": "0c2d5219-d315-49a1-a837-6edf6fe875c6", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "a7e03ed8_deployment", "uuid": "571feb89-402c-40a4-aa3f-ae9361293c5d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__start_CRb_Substrate_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "uuid": "f171b37a-dfbd-4e93-a76c-030d3acd544e"}, {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "e1aaae73-847f-4323-8088-ff286d4376f8"}], "name": "SYS_GEN__Composite_DAG_Deployment_571feb89_402c_40a4_aa3f_ae9361293c5d", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__start_CRb_Substrate_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "uuid": "f171b37a-dfbd-4e93-a76c-030d3acd544e"}, "edge_type": "inherent", "type": "", "uuid": "2c66a997-dee8-4bf5-9b1b-56d95b216f09", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "e1aaae73-847f-4323-8088-ff286d4376f8"}}], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "a5b8092f-176e-414b-b49a-ab54328066b8"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AWSSlave", "uuid": "e8f1ded2-4387-41d9-9ce5-3d5b75fe064f"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__start_CRb_Substrate_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "uuid": "dffaa7a5-8f8c-4da5-90e7-bbc714564b3c"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "f171b37a-dfbd-4e93-a76c-030d3acd544e"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Slave", "uuid": "e96a9978-1ad8-4ae2-b7a3-cf9b174f864a"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__start_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "a7e03ed8_deployment", "uuid": "571feb89-402c-40a4-aa3f-ae9361293c5d"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "a027cde0_runbook", "uuid": "be7edeb3-8796-455e-ae89-aecebe6bf01d"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "e1aaae73-847f-4323-8088-ff286d4376f8"}], "description": "", "name": "SYS_GEN__Runbook_Deployment_571feb89_402c_40a4_aa3f_ae9361293c5d", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Deployment_571feb89_402c_40a4_aa3f_ae9361293c5d", "uuid": "a5b8092f-176e-414b-b49a-ab54328066b8"}, "message_list": [], "variable_list": [], "uuid": "01c39767-300c-4099-8d24-b94b6b6cc718"}, "message_list": [], "name": "action_start"}, {"description": "System action for stopping an application", "type": "system", "uuid": "8f7bb015-e552-44dd-b1ea-de21d1fdafeb", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "a7e03ed8_deployment", "uuid": "571feb89-402c-40a4-aa3f-ae9361293c5d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "cf7fe5ab-c563-426f-888e-211fcb0b3c7b"}, {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Substrate_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "uuid": "b8604c84-32dd-45a5-98b7-cab5f04fc6cb"}], "name": "SYS_GEN__Composite_DAG_Deployment_571feb89_402c_40a4_aa3f_ae9361293c5d", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "cf7fe5ab-c563-426f-888e-211fcb0b3c7b"}, "edge_type": "inherent", "type": "", "uuid": "b3a26f14-bde0-40b7-b9c3-28d98d66a315", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Substrate_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "uuid": "b8604c84-32dd-45a5-98b7-cab5f04fc6cb"}}], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "42f85321-8495-4480-849b-3fa5f4c1e9d0"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Slave", "uuid": "e96a9978-1ad8-4ae2-b7a3-cf9b174f864a"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__stop_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "a7e03ed8_deployment", "uuid": "571feb89-402c-40a4-aa3f-ae9361293c5d"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "4a2ad0be_runbook", "uuid": "769af1fb-afad-4878-be4f-500f9bdc8b7f"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "cf7fe5ab-c563-426f-888e-211fcb0b3c7b"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AWSSlave", "uuid": "e8f1ded2-4387-41d9-9ce5-3d5b75fe064f"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__stop_CRb_Substrate_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "uuid": "aa5a92ef-8408-4c35-84df-68e1575752f9"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "b8604c84-32dd-45a5-98b7-cab5f04fc6cb"}], "description": "", "name": "SYS_GEN__Runbook_Deployment_571feb89_402c_40a4_aa3f_ae9361293c5d", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Deployment_571feb89_402c_40a4_aa3f_ae9361293c5d", "uuid": "42f85321-8495-4480-849b-3fa5f4c1e9d0"}, "message_list": [], "variable_list": [], "uuid": "6b12a9f2-0b4b-4262-8218-f35ef8375685"}, "message_list": [], "name": "action_stop"}, {"description": "System action for deleting an application. Deletes physical machines as well", "type": "system", "uuid": "b25be1f0-a627-4160-afeb-747ca114621e", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "a7e03ed8_deployment", "uuid": "571feb89-402c-40a4-aa3f-ae9361293c5d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "2b4d5e84-8da8-41c6-b8ab-7e9406677fbd"}, {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "efd81af1-8990-4bf2-80a7-aae72c9a4f6d"}, {"kind": "app_task", "name": "SYS_GEN__uninstall_CRb_Package_48640dc2_c681_4407_8d38_acae12f43969", "uuid": "2eaaee17-0dcb-4110-9bf3-2d6bc4c42b8f"}, {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Substrate_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "uuid": "0852d18e-3050-4324-8560-acd3ec80e189"}, {"kind": "app_task", "name": "SYS_GEN__DE_Delete_571feb89_402c_40a4_aa3f_ae9361293c5d", "uuid": "e753d2fb-d547-4338-85f3-7758aeb6abb7"}], "name": "SYS_GEN__Composite_DAG_Deployment_571feb89_402c_40a4_aa3f_ae9361293c5d", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "2b4d5e84-8da8-41c6-b8ab-7e9406677fbd"}, "edge_type": "inherent", "type": "", "uuid": "36e4b187-2a12-41be-9002-9538f6e6261b", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "efd81af1-8990-4bf2-80a7-aae72c9a4f6d"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "efd81af1-8990-4bf2-80a7-aae72c9a4f6d"}, "edge_type": "inherent", "type": "", "uuid": "d426ebe6-6217-4d82-b024-847dfabfb046", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__uninstall_CRb_Package_48640dc2_c681_4407_8d38_acae12f43969", "uuid": "2eaaee17-0dcb-4110-9bf3-2d6bc4c42b8f"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Substrate_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "uuid": "0852d18e-3050-4324-8560-acd3ec80e189"}, "edge_type": "inherent", "type": "", "uuid": "9ec1ec4e-2f39-4466-a8ae-ae57e86acda1", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__DE_Delete_571feb89_402c_40a4_aa3f_ae9361293c5d", "uuid": "e753d2fb-d547-4338-85f3-7758aeb6abb7"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__uninstall_CRb_Package_48640dc2_c681_4407_8d38_acae12f43969", "uuid": "2eaaee17-0dcb-4110-9bf3-2d6bc4c42b8f"}, "edge_type": "inherent", "type": "", "uuid": "232afc4b-ca3b-447f-99d5-539b18566aa5", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Substrate_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "uuid": "0852d18e-3050-4324-8560-acd3ec80e189"}}], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "c2f9ae8d-e1c0-4dcc-a73d-6bd0d0773828"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Slave", "uuid": "e96a9978-1ad8-4ae2-b7a3-cf9b174f864a"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__stop_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "a7e03ed8_deployment", "uuid": "571feb89-402c-40a4-aa3f-ae9361293c5d"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "4a2ad0be_runbook", "uuid": "769af1fb-afad-4878-be4f-500f9bdc8b7f"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "2b4d5e84-8da8-41c6-b8ab-7e9406677fbd"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Slave", "uuid": "e96a9978-1ad8-4ae2-b7a3-cf9b174f864a"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__delete_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "a7e03ed8_deployment", "uuid": "571feb89-402c-40a4-aa3f-ae9361293c5d"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "92247e35_runbook", "uuid": "8313c934-78a4-457c-8403-d1223a46c2c3"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "efd81af1-8990-4bf2-80a7-aae72c9a4f6d"}, {"target_any_local_reference": {"kind": "app_package", "name": "AWSSlavePackage", "uuid": "48640dc2-c681-4407-8d38-acae12f43969"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__uninstall_CRb_Package_48640dc2_c681_4407_8d38_acae12f43969", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "a7e03ed8_deployment", "uuid": "571feb89-402c-40a4-aa3f-ae9361293c5d"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Package_48640dc2_c681_4407_8d38_acae12f43969", "uuid": "149bb726-c050-4d8f-87ef-358f660b3c8c"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "2eaaee17-0dcb-4110-9bf3-2d6bc4c42b8f"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AWSSlave", "uuid": "e8f1ded2-4387-41d9-9ce5-3d5b75fe064f"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__delete_CRb_Substrate_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "uuid": "78b1adf5-ca99-4db5-8963-bc3da1f9150c"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "0852d18e-3050-4324-8560-acd3ec80e189"}, {"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "a7e03ed8_deployment", "uuid": "571feb89-402c-40a4-aa3f-ae9361293c5d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__DE_Delete_571feb89_402c_40a4_aa3f_ae9361293c5d", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "", "type": "DELETE_DEPLOYMENT_ELEMENT", "variable_list": [], "uuid": "e753d2fb-d547-4338-85f3-7758aeb6abb7"}], "description": "", "name": "SYS_GEN__Runbook_Deployment_571feb89_402c_40a4_aa3f_ae9361293c5d", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Deployment_571feb89_402c_40a4_aa3f_ae9361293c5d", "uuid": "c2f9ae8d-e1c0-4dcc-a73d-6bd0d0773828"}, "message_list": [], "variable_list": [], "uuid": "5ea2b9b5-a022-40d3-bdfe-7a17bee125c3"}, "message_list": [], "name": "action_delete"}, {"description": "System action for scaleout", "type": "system", "uuid": "48c6c063-dc1f-4859-8d5b-e306f3f748f2", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "a7e03ed8_deployment", "uuid": "571feb89-402c-40a4-aa3f-ae9361293c5d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__Deployment_Scaleout_571feb89_402c_40a4_aa3f_ae9361293c5d", "uuid": "26a64c07-849e-439e-b7ce-a7f815fd803f"}], "name": "SYS_GEN__Composite_DAG_Deployment_571feb89_402c_40a4_aa3f_ae9361293c5d", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "74577544-a505-4319-989f-21d5811b9a8c"}, {"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "a7e03ed8_deployment", "uuid": "571feb89-402c-40a4-aa3f-ae9361293c5d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Deployment_Scaleout_571feb89_402c_40a4_aa3f_ae9361293c5d", "state": "ACTIVE", "attrs": {"scaling_count": "@@{scaling_count}@@", "type": "", "scaling_type": "SCALEOUT"}, "timeout_secs": "", "type": "SCALING", "variable_list": [], "uuid": "26a64c07-849e-439e-b7ce-a7f815fd803f"}], "description": "", "name": "SYS_GEN__Runbook_Deployment_571feb89_402c_40a4_aa3f_ae9361293c5d", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Deployment_571feb89_402c_40a4_aa3f_ae9361293c5d", "uuid": "74577544-a505-4319-989f-21d5811b9a8c"}, "message_list": [], "variable_list": [], "uuid": "fd671be0-cbb0-49e3-87bf-ce898d52a0ac"}, "message_list": [], "name": "action_scaleout"}, {"description": "System action for scalein", "type": "system", "uuid": "33b7d05f-cddd-47a3-a903-0ad27b4dd8b9", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "a7e03ed8_deployment", "uuid": "571feb89-402c-40a4-aa3f-ae9361293c5d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__Deployment_Scalein_571feb89_402c_40a4_aa3f_ae9361293c5d", "uuid": "fe275c07-868b-47b1-9cb3-1055a6a78455"}], "name": "SYS_GEN__Composite_DAG_Deployment_571feb89_402c_40a4_aa3f_ae9361293c5d", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "82f984f4-f23d-4c02-a073-c3904a249452"}, {"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "a7e03ed8_deployment", "uuid": "571feb89-402c-40a4-aa3f-ae9361293c5d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Deployment_Scalein_571feb89_402c_40a4_aa3f_ae9361293c5d", "state": "ACTIVE", "attrs": {"scaling_count": "@@{scaling_count}@@", "type": "", "scaling_type": "SCALEIN"}, "timeout_secs": "", "type": "SCALING", "variable_list": [], "uuid": "fe275c07-868b-47b1-9cb3-1055a6a78455"}], "description": "", "name": "SYS_GEN__Runbook_Deployment_571feb89_402c_40a4_aa3f_ae9361293c5d", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Deployment_571feb89_402c_40a4_aa3f_ae9361293c5d", "uuid": "82f984f4-f23d-4c02-a073-c3904a249452"}, "message_list": [], "variable_list": [], "uuid": "f0d9067c-a37d-41c6-b867-80aef71cbeab"}, "message_list": [], "name": "action_scalein"}, {"description": "System action for deleting an application. Does not delete physical machines", "type": "system", "uuid": "33bb5d6b-739d-4df5-a487-29dec3053d22", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "a7e03ed8_deployment", "uuid": "571feb89-402c-40a4-aa3f-ae9361293c5d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "7d0b2b22-2fac-4898-b899-bd0419d04d1e"}, {"kind": "app_task", "name": "SYS_GEN__Package_Element_Delete_48640dc2_c681_4407_8d38_acae12f43969", "uuid": "80b01932-5398-4ae8-9666-1db6c93e3edd"}, {"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Substrate_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "uuid": "11af3af1-cf68-4632-b92c-c498ca641289"}, {"kind": "app_task", "name": "SYS_GEN__DE_Soft_Delete_571feb89_402c_40a4_aa3f_ae9361293c5d", "uuid": "5f778043-3c2a-411d-809e-d2bb10eec458"}], "name": "SYS_GEN__Composite_DAG_Deployment_571feb89_402c_40a4_aa3f_ae9361293c5d", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "7d0b2b22-2fac-4898-b899-bd0419d04d1e"}, "edge_type": "inherent", "type": "", "uuid": "e49d7d6f-e888-4f65-99f0-878794a1b862", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__Package_Element_Delete_48640dc2_c681_4407_8d38_acae12f43969", "uuid": "80b01932-5398-4ae8-9666-1db6c93e3edd"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Substrate_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "uuid": "11af3af1-cf68-4632-b92c-c498ca641289"}, "edge_type": "inherent", "type": "", "uuid": "0cbb0c0c-a247-4760-829a-eb0a080b05a5", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__DE_Soft_Delete_571feb89_402c_40a4_aa3f_ae9361293c5d", "uuid": "5f778043-3c2a-411d-809e-d2bb10eec458"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__Package_Element_Delete_48640dc2_c681_4407_8d38_acae12f43969", "uuid": "80b01932-5398-4ae8-9666-1db6c93e3edd"}, "edge_type": "inherent", "type": "", "uuid": "96fbb46c-9e83-42f7-a7f2-0822df75406e", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Substrate_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "uuid": "11af3af1-cf68-4632-b92c-c498ca641289"}}], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "8922ac85-3fa9-44a5-9d57-0f68f3362cba"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Slave", "uuid": "e96a9978-1ad8-4ae2-b7a3-cf9b174f864a"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__soft_delete_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "a7e03ed8_deployment", "uuid": "571feb89-402c-40a4-aa3f-ae9361293c5d"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "689520c6-6efb-4d4a-a874-74418185d66d"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "7d0b2b22-2fac-4898-b899-bd0419d04d1e"}, {"target_any_local_reference": {"kind": "app_package", "name": "AWSSlavePackage", "uuid": "48640dc2-c681-4407-8d38-acae12f43969"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Package_Element_Delete_48640dc2_c681_4407_8d38_acae12f43969", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "", "type": "SOFT_DELETE_ELEMENT", "variable_list": [], "uuid": "80b01932-5398-4ae8-9666-1db6c93e3edd"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AWSSlave", "uuid": "e8f1ded2-4387-41d9-9ce5-3d5b75fe064f"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__soft_delete_CRb_Substrate_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "uuid": "9fbb8ec2-cf11-4a6f-9a4d-12ff68408bc5"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "11af3af1-cf68-4632-b92c-c498ca641289"}, {"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "a7e03ed8_deployment", "uuid": "571feb89-402c-40a4-aa3f-ae9361293c5d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__DE_Soft_Delete_571feb89_402c_40a4_aa3f_ae9361293c5d", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "", "type": "SOFT_DELETE_DEPLOYMENT_ELEMENT", "variable_list": [], "uuid": "5f778043-3c2a-411d-809e-d2bb10eec458"}], "description": "", "name": "SYS_GEN__Runbook_Deployment_571feb89_402c_40a4_aa3f_ae9361293c5d", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Deployment_571feb89_402c_40a4_aa3f_ae9361293c5d", "uuid": "8922ac85-3fa9-44a5-9d57-0f68f3362cba"}, "message_list": [], "variable_list": [], "uuid": "bab58f63-39fb-4c39-946d-4f7d6b53f081"}, "message_list": [], "name": "action_soft_delete"}], "message_list": [], "editables": {"min_replicas": true}, "name": "a7e03ed8_deployment", "state": "ACTIVE", "max_replicas": "2", "package_local_reference_list": [{"kind": "app_package", "name": "AWSSlavePackage", "uuid": "48640dc2-c681-4407-8d38-acae12f43969"}], "substrate_local_reference": {"kind": "app_substrate", "name": "AWSSlave", "uuid": "e8f1ded2-4387-41d9-9ce5-3d5b75fe064f"}, "min_replicas": "2", "variable_list": [], "uuid": "571feb89-402c-40a4-aa3f-ae9361293c5d"}], "description": "", "action_list": [{"description": "Take DB Backup. Specify absolute directory path for BACKUP_FILE_PATH", "type": "user", "uuid": "f3e938fa-41db-4602-a72f-728535552914", "state": "ACTIVE", "critical": false, "attrs": {}, "runbook": {"task_definition_list": [{"description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "DoDBBackup", "uuid": "cb285bf7-baea-44c5-9f9b-2ace9931b5af"}], "name": "80ef9728_dag", "state": "ACTIVE", "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "ae6688dd-55a8-472f-b8a2-2d9ba4db9b31"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Master", "uuid": "cca134c1-b826-4a29-86b2-c723c237253d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "DoDBBackup", "state": "ACTIVE", "attrs": {"exit_status": [], "script": "#!/bin/bash\n\n### Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\ndate_part=`date +%F`\nmkdir -p @@{BACKUP_FILE_PATH}@@\nsudo mysqldump -u root -p${mysql_password} --all-databases | sudo gzip -9 > @@{BACKUP_FILE_PATH}@@/db_dump_$date_part.sql.gz", "script_type": "sh", "type": "", "command_line_args": "", "login_credential_local_reference": {"kind": "app_credential", "name": "CENTOS", "uuid": "59a0a37b-50a9-4d49-9ade-f4a9098df745"}}, "timeout_secs": "", "type": "EXEC", "variable_list": [], "uuid": "cb285bf7-baea-44c5-9f9b-2ace9931b5af"}], "description": "", "name": "11eaa560_runbook", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "80ef9728_dag", "uuid": "ae6688dd-55a8-472f-b8a2-2d9ba4db9b31"}, "message_list": [], "variable_list": [{"val_type": "STRING", "description": "", "name": "BACKUP_FILE_PATH", "type": "LOCAL", "value": "", "label": "", "state": "NOT_VALIDATED", "attrs": {"type": ""}, "editables": {"value": true}, "message_list": [], "uuid": "0816a2eb-28f6-418a-9c28-95452e8cfeac"}], "uuid": "f26b0dc8-96ae-4770-8b41-0d4fabd6ff0a"}, "message_list": [], "name": "Backup"}, {"description": "To restore DB from dump file. Specify absolute directory path for RESTORE_FILE_PATH", "type": "user", "uuid": "e4e9b52f-3b4f-42c3-917b-ad5af9eee5eb", "state": "ACTIVE", "critical": false, "attrs": {}, "runbook": {"task_definition_list": [{"description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "DoDBRestore", "uuid": "8692f314-a806-4a21-a738-e2be6ef09c33"}], "name": "6d512a54_dag", "state": "ACTIVE", "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "5d3f5064-4202-491e-9e48-1aec2cae3f70"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Master", "uuid": "cca134c1-b826-4a29-86b2-c723c237253d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "DoDBRestore", "state": "ACTIVE", "attrs": {"exit_status": [], "script": "#!/bin/bash\n\n### Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\ndb_file=@@{RESTORE_FILE_PATH}@@\n\nsudo gunzip < $db_file | sudo mysql -u root -p${mysql_password} ", "script_type": "sh", "type": "", "command_line_args": "", "login_credential_local_reference": {"kind": "app_credential", "name": "CENTOS", "uuid": "59a0a37b-50a9-4d49-9ade-f4a9098df745"}}, "timeout_secs": "", "type": "EXEC", "variable_list": [], "uuid": "8692f314-a806-4a21-a738-e2be6ef09c33"}], "description": "", "name": "9651af2f_runbook", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "6d512a54_dag", "uuid": "5d3f5064-4202-491e-9e48-1aec2cae3f70"}, "message_list": [], "variable_list": [{"val_type": "STRING", "description": "", "name": "RESTORE_FILE_PATH", "type": "LOCAL", "value": "", "label": "", "state": "NOT_VALIDATED", "attrs": {"type": ""}, "editables": {"value": true}, "message_list": [], "uuid": "8b2de343-3519-4a32-b7d1-6a4965bd5eca"}], "uuid": "71d29cfb-1650-4e60-b51f-d93f5b916c92"}, "message_list": [], "name": "Restore"}, {"description": "System action for creating an application", "type": "system", "uuid": "d2b6cc38-4ae3-4863-a86c-f8e6bd62e299", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_profile", "name": "AWS", "uuid": "3fde8405-e4e2-437c-9833-a24727d60164"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__DE_Provision_571feb89_402c_40a4_aa3f_ae9361293c5d", "uuid": "454b4ad4-0fb0-46d3-80b8-b08c8ad57a6b"}, {"kind": "app_task", "name": "SYS_GEN__DE_Provision_c3e776ec_0f37_49f0_8269_ab3a89b80055", "uuid": "88b0abfe-4bed-4711-ab38-7f01b5381b17"}, {"kind": "app_task", "name": "SYS_GEN__create_CRb_Substrate_f15fdd94_a074_4a8c_8161_51f46db87183", "uuid": "c248076a-5e3d-450a-a0e3-2c9ca1fab4a5"}, {"kind": "app_task", "name": "SYS_GEN__create_CRb_Substrate_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "uuid": "55401ed5-1107-429b-9e5a-6e0a91175aa1"}, {"kind": "app_task", "name": "SYS_GEN__install_CRb_Package_d4dc30cf_b3a6_40f6_b0cf_b849b6a0d928", "uuid": "06c65ba1-880e-4856-9511-f1e5f84e0b9a"}, {"kind": "app_task", "name": "SYS_GEN__install_CRb_Package_48640dc2_c681_4407_8d38_acae12f43969", "uuid": "9d4d2a10-fe78-43cd-b6c5-3c96834e2fcb"}, {"kind": "app_task", "name": "SYS_GEN__create_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "8d908952-caec-4cad-8c6b-d611c0e51de1"}, {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "d14a1c1f-1795-4a91-8612-57f4c9a9347e"}, {"kind": "app_task", "name": "SYS_GEN__create_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "0a9eced0-9250-4e54-bf10-a672d544b195"}, {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "8f8f6cfb-7734-4da3-9686-b19608555d4f"}], "name": "SYS_GEN__Composite_DAG_Application_3fde8405_e4e2_437c_9833_a24727d60164", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "8d908952-caec-4cad-8c6b-d611c0e51de1"}, "edge_type": "inherent", "type": "", "uuid": "e0ff031c-f882-4463-b30b-bb745a5a209a", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "d14a1c1f-1795-4a91-8612-57f4c9a9347e"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__install_CRb_Package_d4dc30cf_b3a6_40f6_b0cf_b849b6a0d928", "uuid": "06c65ba1-880e-4856-9511-f1e5f84e0b9a"}, "edge_type": "inherent", "type": "", "uuid": "0494fc4e-2eec-4751-aa63-8d030f10e35f", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "8d908952-caec-4cad-8c6b-d611c0e51de1"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__DE_Provision_c3e776ec_0f37_49f0_8269_ab3a89b80055", "uuid": "88b0abfe-4bed-4711-ab38-7f01b5381b17"}, "edge_type": "inherent", "type": "", "uuid": "31e0b456-eba2-4c9b-9924-e2106a72577a", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Substrate_f15fdd94_a074_4a8c_8161_51f46db87183", "uuid": "c248076a-5e3d-450a-a0e3-2c9ca1fab4a5"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Substrate_f15fdd94_a074_4a8c_8161_51f46db87183", "uuid": "c248076a-5e3d-450a-a0e3-2c9ca1fab4a5"}, "edge_type": "inherent", "type": "", "uuid": "8ec93e95-4a2e-4862-9cf2-a43757057954", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__install_CRb_Package_d4dc30cf_b3a6_40f6_b0cf_b849b6a0d928", "uuid": "06c65ba1-880e-4856-9511-f1e5f84e0b9a"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "0a9eced0-9250-4e54-bf10-a672d544b195"}, "edge_type": "inherent", "type": "", "uuid": "b299b791-5a10-47a8-926c-0d290e3c1421", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "8f8f6cfb-7734-4da3-9686-b19608555d4f"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__install_CRb_Package_48640dc2_c681_4407_8d38_acae12f43969", "uuid": "9d4d2a10-fe78-43cd-b6c5-3c96834e2fcb"}, "edge_type": "inherent", "type": "", "uuid": "94164da1-7d9c-4b9c-8671-3b2ef4f70cbb", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "0a9eced0-9250-4e54-bf10-a672d544b195"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__DE_Provision_571feb89_402c_40a4_aa3f_ae9361293c5d", "uuid": "454b4ad4-0fb0-46d3-80b8-b08c8ad57a6b"}, "edge_type": "inherent", "type": "", "uuid": "62739aee-3b7a-467d-917b-e80a424b9ba8", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Substrate_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "uuid": "55401ed5-1107-429b-9e5a-6e0a91175aa1"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Substrate_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "uuid": "55401ed5-1107-429b-9e5a-6e0a91175aa1"}, "edge_type": "inherent", "type": "", "uuid": "89d296c3-add5-4493-a9ec-e80fc17728ec", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__install_CRb_Package_48640dc2_c681_4407_8d38_acae12f43969", "uuid": "9d4d2a10-fe78-43cd-b6c5-3c96834e2fcb"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "d14a1c1f-1795-4a91-8612-57f4c9a9347e"}, "edge_type": "depends_on", "type": "", "uuid": "6e1b60a0-f2eb-411c-b35f-32054482777e", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "0a9eced0-9250-4e54-bf10-a672d544b195"}}], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "6368ad7c-6609-4e5a-98e7-838dd8076e03"}, {"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "a7e03ed8_deployment", "uuid": "571feb89-402c-40a4-aa3f-ae9361293c5d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__DE_Provision_571feb89_402c_40a4_aa3f_ae9361293c5d", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "", "type": "CREATE_DEPLOYMENT_ELEMENT", "variable_list": [], "uuid": "454b4ad4-0fb0-46d3-80b8-b08c8ad57a6b"}, {"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "62ee1671_deployment", "uuid": "c3e776ec-0f37-49f0-8269-ab3a89b80055"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__DE_Provision_c3e776ec_0f37_49f0_8269_ab3a89b80055", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "", "type": "CREATE_DEPLOYMENT_ELEMENT", "variable_list": [], "uuid": "88b0abfe-4bed-4711-ab38-7f01b5381b17"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AWSMaster", "uuid": "f15fdd94-a074-4a8c-8161-51f46db87183"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__create_CRb_Substrate_f15fdd94_a074_4a8c_8161_51f46db87183", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_f15fdd94_a074_4a8c_8161_51f46db87183", "uuid": "57c3b009-b439-4130-ab1a-34575a89b925"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "c248076a-5e3d-450a-a0e3-2c9ca1fab4a5"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AWSSlave", "uuid": "e8f1ded2-4387-41d9-9ce5-3d5b75fe064f"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__create_CRb_Substrate_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "uuid": "3478e5ce-ce4f-4ee2-879f-71f9db7061b8"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "55401ed5-1107-429b-9e5a-6e0a91175aa1"}, {"target_any_local_reference": {"kind": "app_package", "name": "AWSMasterPackage", "uuid": "d4dc30cf-b3a6-40f6-b0cf-b849b6a0d928"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__install_CRb_Package_d4dc30cf_b3a6_40f6_b0cf_b849b6a0d928", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "62ee1671_deployment", "uuid": "c3e776ec-0f37-49f0-8269-ab3a89b80055"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Package_d4dc30cf_b3a6_40f6_b0cf_b849b6a0d928", "uuid": "3db75a31-79be-48c3-b51c-4335b6da5cd1"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "06c65ba1-880e-4856-9511-f1e5f84e0b9a"}, {"target_any_local_reference": {"kind": "app_package", "name": "AWSSlavePackage", "uuid": "48640dc2-c681-4407-8d38-acae12f43969"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__install_CRb_Package_48640dc2_c681_4407_8d38_acae12f43969", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "a7e03ed8_deployment", "uuid": "571feb89-402c-40a4-aa3f-ae9361293c5d"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Package_48640dc2_c681_4407_8d38_acae12f43969", "uuid": "1b4182c2-e484-4048-94db-1a6fb20ce002"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "9d4d2a10-fe78-43cd-b6c5-3c96834e2fcb"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Master", "uuid": "cca134c1-b826-4a29-86b2-c723c237253d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__create_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "62ee1671_deployment", "uuid": "c3e776ec-0f37-49f0-8269-ab3a89b80055"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "0a970522_runbook", "uuid": "7a358965-611d-4cfa-820b-97f097841617"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "8d908952-caec-4cad-8c6b-d611c0e51de1"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Master", "uuid": "cca134c1-b826-4a29-86b2-c723c237253d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__start_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "62ee1671_deployment", "uuid": "c3e776ec-0f37-49f0-8269-ab3a89b80055"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "5ddb28d1_runbook", "uuid": "bd4efbf3-b76f-4aab-90cb-0e572d360742"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "d14a1c1f-1795-4a91-8612-57f4c9a9347e"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Slave", "uuid": "e96a9978-1ad8-4ae2-b7a3-cf9b174f864a"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__create_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "a7e03ed8_deployment", "uuid": "571feb89-402c-40a4-aa3f-ae9361293c5d"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "d54168c9_runbook", "uuid": "674d1ef9-2649-4c20-9cc6-29c73880dfa0"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "0a9eced0-9250-4e54-bf10-a672d544b195"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Slave", "uuid": "e96a9978-1ad8-4ae2-b7a3-cf9b174f864a"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__start_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "a7e03ed8_deployment", "uuid": "571feb89-402c-40a4-aa3f-ae9361293c5d"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "a027cde0_runbook", "uuid": "be7edeb3-8796-455e-ae89-aecebe6bf01d"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "8f8f6cfb-7734-4da3-9686-b19608555d4f"}], "description": "", "name": "SYS_GEN__Runbook_Application_3fde8405_e4e2_437c_9833_a24727d60164", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Application_3fde8405_e4e2_437c_9833_a24727d60164", "uuid": "6368ad7c-6609-4e5a-98e7-838dd8076e03"}, "message_list": [], "variable_list": [], "uuid": "53e0506e-8d0a-46e0-8b9b-423d8ad5b038"}, "message_list": [], "name": "action_create"}, {"description": "System action for starting an application", "type": "system", "uuid": "d002251b-c89f-40e0-bc0b-7afe621f033d", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_profile", "name": "AWS", "uuid": "3fde8405-e4e2-437c-9833-a24727d60164"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__start_CRb_Substrate_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "uuid": "197029ee-3ad1-44e8-986d-8b48f8682bd0"}, {"kind": "app_task", "name": "SYS_GEN__start_CRb_Substrate_f15fdd94_a074_4a8c_8161_51f46db87183", "uuid": "ec5636e9-2961-43ff-be1e-5bbd1a49267f"}, {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "c1251cdd-8701-46fd-b0c0-bebddbcef296"}, {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "de17d2c5-1972-48e1-953d-119fc0421d88"}], "name": "SYS_GEN__Composite_DAG_Application_3fde8405_e4e2_437c_9833_a24727d60164", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__start_CRb_Substrate_f15fdd94_a074_4a8c_8161_51f46db87183", "uuid": "ec5636e9-2961-43ff-be1e-5bbd1a49267f"}, "edge_type": "inherent", "type": "", "uuid": "40418639-e00d-48bf-986e-99c88b2429dc", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "c1251cdd-8701-46fd-b0c0-bebddbcef296"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__start_CRb_Substrate_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "uuid": "197029ee-3ad1-44e8-986d-8b48f8682bd0"}, "edge_type": "inherent", "type": "", "uuid": "45e17ffa-fe4c-4076-865a-c86cd4aa4d3a", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "de17d2c5-1972-48e1-953d-119fc0421d88"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "c1251cdd-8701-46fd-b0c0-bebddbcef296"}, "edge_type": "depends_on", "type": "", "uuid": "fd888a8d-4596-477e-b1aa-64a573c4085d", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "de17d2c5-1972-48e1-953d-119fc0421d88"}}], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "a33afe9e-adeb-4311-814c-41c0239fde1a"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AWSSlave", "uuid": "e8f1ded2-4387-41d9-9ce5-3d5b75fe064f"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__start_CRb_Substrate_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "uuid": "dffaa7a5-8f8c-4da5-90e7-bbc714564b3c"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "197029ee-3ad1-44e8-986d-8b48f8682bd0"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AWSMaster", "uuid": "f15fdd94-a074-4a8c-8161-51f46db87183"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__start_CRb_Substrate_f15fdd94_a074_4a8c_8161_51f46db87183", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_f15fdd94_a074_4a8c_8161_51f46db87183", "uuid": "f1c65028-6627-4e35-8323-177e74e7afb1"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "ec5636e9-2961-43ff-be1e-5bbd1a49267f"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Master", "uuid": "cca134c1-b826-4a29-86b2-c723c237253d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__start_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "62ee1671_deployment", "uuid": "c3e776ec-0f37-49f0-8269-ab3a89b80055"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "5ddb28d1_runbook", "uuid": "bd4efbf3-b76f-4aab-90cb-0e572d360742"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "c1251cdd-8701-46fd-b0c0-bebddbcef296"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Slave", "uuid": "e96a9978-1ad8-4ae2-b7a3-cf9b174f864a"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__start_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "a7e03ed8_deployment", "uuid": "571feb89-402c-40a4-aa3f-ae9361293c5d"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "a027cde0_runbook", "uuid": "be7edeb3-8796-455e-ae89-aecebe6bf01d"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "de17d2c5-1972-48e1-953d-119fc0421d88"}], "description": "", "name": "SYS_GEN__Runbook_Application_3fde8405_e4e2_437c_9833_a24727d60164", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Application_3fde8405_e4e2_437c_9833_a24727d60164", "uuid": "a33afe9e-adeb-4311-814c-41c0239fde1a"}, "message_list": [], "variable_list": [], "uuid": "9efe267e-8b97-4e9a-a134-1eb0a7cf24ed"}, "message_list": [], "name": "action_start"}, {"description": "System action for stopping an application", "type": "system", "uuid": "a6dccc10-4767-4630-aeba-3326ff7328e4", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_profile", "name": "AWS", "uuid": "3fde8405-e4e2-437c-9833-a24727d60164"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "1d0476dd-938d-42bf-9b9c-d73a9e5b4415"}, {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Substrate_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "uuid": "6bfaa322-b609-4896-847b-a504c218d28a"}, {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "79438c33-9234-4681-b043-05f9f69ff1b6"}, {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Substrate_f15fdd94_a074_4a8c_8161_51f46db87183", "uuid": "ecbbc99d-fb67-40b6-b132-37feb90071dd"}], "name": "SYS_GEN__Composite_DAG_Application_3fde8405_e4e2_437c_9833_a24727d60164", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "79438c33-9234-4681-b043-05f9f69ff1b6"}, "edge_type": "inherent", "type": "", "uuid": "9ccc989f-d369-4778-aa56-31dab46630ce", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Substrate_f15fdd94_a074_4a8c_8161_51f46db87183", "uuid": "ecbbc99d-fb67-40b6-b132-37feb90071dd"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "1d0476dd-938d-42bf-9b9c-d73a9e5b4415"}, "edge_type": "inherent", "type": "", "uuid": "406473fb-ef76-4597-b85f-13946f419ae0", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Substrate_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "uuid": "6bfaa322-b609-4896-847b-a504c218d28a"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "1d0476dd-938d-42bf-9b9c-d73a9e5b4415"}, "edge_type": "depends_on", "type": "", "uuid": "27ccebbc-e879-4fe7-a7f7-bd2a540037ab", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "79438c33-9234-4681-b043-05f9f69ff1b6"}}], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "2bd78f06-c4e6-4e55-b0af-d970cbed1cff"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Slave", "uuid": "e96a9978-1ad8-4ae2-b7a3-cf9b174f864a"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__stop_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "a7e03ed8_deployment", "uuid": "571feb89-402c-40a4-aa3f-ae9361293c5d"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "4a2ad0be_runbook", "uuid": "769af1fb-afad-4878-be4f-500f9bdc8b7f"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "1d0476dd-938d-42bf-9b9c-d73a9e5b4415"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AWSSlave", "uuid": "e8f1ded2-4387-41d9-9ce5-3d5b75fe064f"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__stop_CRb_Substrate_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "uuid": "aa5a92ef-8408-4c35-84df-68e1575752f9"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "6bfaa322-b609-4896-847b-a504c218d28a"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Master", "uuid": "cca134c1-b826-4a29-86b2-c723c237253d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__stop_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "62ee1671_deployment", "uuid": "c3e776ec-0f37-49f0-8269-ab3a89b80055"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "0aefbca3_runbook", "uuid": "6ba0d524-a652-4f98-8f92-6ec865842a9b"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "79438c33-9234-4681-b043-05f9f69ff1b6"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AWSMaster", "uuid": "f15fdd94-a074-4a8c-8161-51f46db87183"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__stop_CRb_Substrate_f15fdd94_a074_4a8c_8161_51f46db87183", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_f15fdd94_a074_4a8c_8161_51f46db87183", "uuid": "5ab78c73-89cb-49c7-9f32-eda55c732a02"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "ecbbc99d-fb67-40b6-b132-37feb90071dd"}], "description": "", "name": "SYS_GEN__Runbook_Application_3fde8405_e4e2_437c_9833_a24727d60164", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Application_3fde8405_e4e2_437c_9833_a24727d60164", "uuid": "2bd78f06-c4e6-4e55-b0af-d970cbed1cff"}, "message_list": [], "variable_list": [], "uuid": "2aa73e6a-9199-4e6c-8fdf-813ae1a9fd04"}, "message_list": [], "name": "action_stop"}, {"description": "System action for deleting an application. Deletes physical machines as well", "type": "system", "uuid": "316e6e8c-b338-4806-a77c-0897db596375", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_profile", "name": "AWS", "uuid": "3fde8405-e4e2-437c-9833-a24727d60164"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "7bc87c24-7ed1-4e01-93d8-c9d2f7016f78"}, {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "fc6e2529-1ae5-43ec-acb7-367315b44fe9"}, {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "acd06703-54de-40e7-909d-52deed4d1cc3"}, {"kind": "app_task", "name": "SYS_GEN__uninstall_CRb_Package_48640dc2_c681_4407_8d38_acae12f43969", "uuid": "e5f18ad8-97aa-4b55-a11e-97fa164f6634"}, {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Substrate_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "uuid": "7606455c-3202-48b1-994e-f328c34d2105"}, {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "52d01729-a0e9-409d-a9aa-03e8eae2dab4"}, {"kind": "app_task", "name": "SYS_GEN__uninstall_CRb_Package_d4dc30cf_b3a6_40f6_b0cf_b849b6a0d928", "uuid": "b78c2bd3-b553-49d5-94a3-929bb6a3eb3f"}, {"kind": "app_task", "name": "SYS_GEN__DE_Delete_571feb89_402c_40a4_aa3f_ae9361293c5d", "uuid": "38c6e3dc-a7a6-4bb1-8e66-4c8c53df9d43"}, {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Substrate_f15fdd94_a074_4a8c_8161_51f46db87183", "uuid": "31c19e17-9f2c-40de-8892-7795cec113d8"}, {"kind": "app_task", "name": "SYS_GEN__DE_Delete_c3e776ec_0f37_49f0_8269_ab3a89b80055", "uuid": "78583684-e77e-486f-b794-e05559fade8e"}], "name": "SYS_GEN__Composite_DAG_Application_3fde8405_e4e2_437c_9833_a24727d60164", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "acd06703-54de-40e7-909d-52deed4d1cc3"}, "edge_type": "inherent", "type": "", "uuid": "4a0123f8-20db-4689-9b07-a65f92ee0db9", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "52d01729-a0e9-409d-a9aa-03e8eae2dab4"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "52d01729-a0e9-409d-a9aa-03e8eae2dab4"}, "edge_type": "inherent", "type": "", "uuid": "656364f6-5bd7-40da-b643-aeaa18d52842", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__uninstall_CRb_Package_d4dc30cf_b3a6_40f6_b0cf_b849b6a0d928", "uuid": "b78c2bd3-b553-49d5-94a3-929bb6a3eb3f"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Substrate_f15fdd94_a074_4a8c_8161_51f46db87183", "uuid": "31c19e17-9f2c-40de-8892-7795cec113d8"}, "edge_type": "inherent", "type": "", "uuid": "1aaeb042-000f-444d-ba25-9c02cdb3d224", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__DE_Delete_c3e776ec_0f37_49f0_8269_ab3a89b80055", "uuid": "78583684-e77e-486f-b794-e05559fade8e"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__uninstall_CRb_Package_d4dc30cf_b3a6_40f6_b0cf_b849b6a0d928", "uuid": "b78c2bd3-b553-49d5-94a3-929bb6a3eb3f"}, "edge_type": "inherent", "type": "", "uuid": "0bd05eb4-d075-43bd-b891-f5f8dea7acc1", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Substrate_f15fdd94_a074_4a8c_8161_51f46db87183", "uuid": "31c19e17-9f2c-40de-8892-7795cec113d8"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "7bc87c24-7ed1-4e01-93d8-c9d2f7016f78"}, "edge_type": "inherent", "type": "", "uuid": "1ebb7a99-e013-40da-a9b9-30629e54c862", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "fc6e2529-1ae5-43ec-acb7-367315b44fe9"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "fc6e2529-1ae5-43ec-acb7-367315b44fe9"}, "edge_type": "inherent", "type": "", "uuid": "af5c06c7-bb5c-48c7-9e10-adf80b3884b6", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__uninstall_CRb_Package_48640dc2_c681_4407_8d38_acae12f43969", "uuid": "e5f18ad8-97aa-4b55-a11e-97fa164f6634"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Substrate_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "uuid": "7606455c-3202-48b1-994e-f328c34d2105"}, "edge_type": "inherent", "type": "", "uuid": "cd04fb6e-46bc-439a-839f-9304e97e7d9d", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__DE_Delete_571feb89_402c_40a4_aa3f_ae9361293c5d", "uuid": "38c6e3dc-a7a6-4bb1-8e66-4c8c53df9d43"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__uninstall_CRb_Package_48640dc2_c681_4407_8d38_acae12f43969", "uuid": "e5f18ad8-97aa-4b55-a11e-97fa164f6634"}, "edge_type": "inherent", "type": "", "uuid": "2283b98e-5f82-426a-9199-4cc4abdfa72c", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Substrate_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "uuid": "7606455c-3202-48b1-994e-f328c34d2105"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "fc6e2529-1ae5-43ec-acb7-367315b44fe9"}, "edge_type": "depends_on", "type": "", "uuid": "e08494cc-f18b-499c-96a8-b04ae791053b", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "acd06703-54de-40e7-909d-52deed4d1cc3"}}], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "f905b7f3-24ff-44eb-beda-37dedbb20bbc"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Slave", "uuid": "e96a9978-1ad8-4ae2-b7a3-cf9b174f864a"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__stop_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "a7e03ed8_deployment", "uuid": "571feb89-402c-40a4-aa3f-ae9361293c5d"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "4a2ad0be_runbook", "uuid": "769af1fb-afad-4878-be4f-500f9bdc8b7f"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "7bc87c24-7ed1-4e01-93d8-c9d2f7016f78"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Slave", "uuid": "e96a9978-1ad8-4ae2-b7a3-cf9b174f864a"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__delete_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "a7e03ed8_deployment", "uuid": "571feb89-402c-40a4-aa3f-ae9361293c5d"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "92247e35_runbook", "uuid": "8313c934-78a4-457c-8403-d1223a46c2c3"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "fc6e2529-1ae5-43ec-acb7-367315b44fe9"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Master", "uuid": "cca134c1-b826-4a29-86b2-c723c237253d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__stop_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "62ee1671_deployment", "uuid": "c3e776ec-0f37-49f0-8269-ab3a89b80055"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "0aefbca3_runbook", "uuid": "6ba0d524-a652-4f98-8f92-6ec865842a9b"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "acd06703-54de-40e7-909d-52deed4d1cc3"}, {"target_any_local_reference": {"kind": "app_package", "name": "AWSSlavePackage", "uuid": "48640dc2-c681-4407-8d38-acae12f43969"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__uninstall_CRb_Package_48640dc2_c681_4407_8d38_acae12f43969", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "a7e03ed8_deployment", "uuid": "571feb89-402c-40a4-aa3f-ae9361293c5d"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Package_48640dc2_c681_4407_8d38_acae12f43969", "uuid": "149bb726-c050-4d8f-87ef-358f660b3c8c"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "e5f18ad8-97aa-4b55-a11e-97fa164f6634"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AWSSlave", "uuid": "e8f1ded2-4387-41d9-9ce5-3d5b75fe064f"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__delete_CRb_Substrate_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "uuid": "78b1adf5-ca99-4db5-8963-bc3da1f9150c"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "7606455c-3202-48b1-994e-f328c34d2105"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Master", "uuid": "cca134c1-b826-4a29-86b2-c723c237253d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__delete_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "62ee1671_deployment", "uuid": "c3e776ec-0f37-49f0-8269-ab3a89b80055"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "5fd47ec3_runbook", "uuid": "d51a0752-03fa-42c7-8338-f0cf594666c2"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "52d01729-a0e9-409d-a9aa-03e8eae2dab4"}, {"target_any_local_reference": {"kind": "app_package", "name": "AWSMasterPackage", "uuid": "d4dc30cf-b3a6-40f6-b0cf-b849b6a0d928"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__uninstall_CRb_Package_d4dc30cf_b3a6_40f6_b0cf_b849b6a0d928", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "62ee1671_deployment", "uuid": "c3e776ec-0f37-49f0-8269-ab3a89b80055"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Package_d4dc30cf_b3a6_40f6_b0cf_b849b6a0d928", "uuid": "ab24bf1a-cc15-4391-908f-4f6bf9497988"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "b78c2bd3-b553-49d5-94a3-929bb6a3eb3f"}, {"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "a7e03ed8_deployment", "uuid": "571feb89-402c-40a4-aa3f-ae9361293c5d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__DE_Delete_571feb89_402c_40a4_aa3f_ae9361293c5d", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "", "type": "DELETE_DEPLOYMENT_ELEMENT", "variable_list": [], "uuid": "38c6e3dc-a7a6-4bb1-8e66-4c8c53df9d43"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AWSMaster", "uuid": "f15fdd94-a074-4a8c-8161-51f46db87183"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__delete_CRb_Substrate_f15fdd94_a074_4a8c_8161_51f46db87183", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_f15fdd94_a074_4a8c_8161_51f46db87183", "uuid": "df96bdd1-cdfa-447b-b11b-d89542c10a6b"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "31c19e17-9f2c-40de-8892-7795cec113d8"}, {"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "62ee1671_deployment", "uuid": "c3e776ec-0f37-49f0-8269-ab3a89b80055"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__DE_Delete_c3e776ec_0f37_49f0_8269_ab3a89b80055", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "", "type": "DELETE_DEPLOYMENT_ELEMENT", "variable_list": [], "uuid": "78583684-e77e-486f-b794-e05559fade8e"}], "description": "", "name": "SYS_GEN__Runbook_Application_3fde8405_e4e2_437c_9833_a24727d60164", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Application_3fde8405_e4e2_437c_9833_a24727d60164", "uuid": "f905b7f3-24ff-44eb-beda-37dedbb20bbc"}, "message_list": [], "variable_list": [], "uuid": "f57416c6-27fd-4f12-8228-9d4c93943cc3"}, "message_list": [], "name": "action_delete"}, {"description": "System action for deleting an application. Does not delete physical machines", "type": "system", "uuid": "98d0570a-6bbd-41b1-b1bf-1376f17b6392", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_profile", "name": "AWS", "uuid": "3fde8405-e4e2-437c-9833-a24727d60164"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "c0a2fa4b-6a89-4df2-add7-3dbb18778e74"}, {"kind": "app_task", "name": "SYS_GEN__Package_Element_Delete_48640dc2_c681_4407_8d38_acae12f43969", "uuid": "c982b907-ab91-4cd6-9b0a-959b72f39484"}, {"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "118a3267-0986-43de-a5f6-f69b1ad9bae0"}, {"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Substrate_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "uuid": "b34f531e-c0f9-4275-b8a2-d07f04d72de9"}, {"kind": "app_task", "name": "SYS_GEN__Package_Element_Delete_d4dc30cf_b3a6_40f6_b0cf_b849b6a0d928", "uuid": "d352c04f-a66f-40d7-a483-e788d2d742ae"}, {"kind": "app_task", "name": "SYS_GEN__DE_Soft_Delete_571feb89_402c_40a4_aa3f_ae9361293c5d", "uuid": "4642b9c3-abbe-4ca6-b0b8-72dc813b3ad3"}, {"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Substrate_f15fdd94_a074_4a8c_8161_51f46db87183", "uuid": "3003d560-fec0-42f9-92c4-0c2d06e3a2ec"}, {"kind": "app_task", "name": "SYS_GEN__DE_Soft_Delete_c3e776ec_0f37_49f0_8269_ab3a89b80055", "uuid": "a5fc2e73-4ec1-4511-85e3-f3c7a92ac44e"}], "name": "SYS_GEN__Composite_DAG_Application_3fde8405_e4e2_437c_9833_a24727d60164", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "118a3267-0986-43de-a5f6-f69b1ad9bae0"}, "edge_type": "inherent", "type": "", "uuid": "b871d49b-5100-498b-8304-88158fa7c760", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__Package_Element_Delete_d4dc30cf_b3a6_40f6_b0cf_b849b6a0d928", "uuid": "d352c04f-a66f-40d7-a483-e788d2d742ae"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__Package_Element_Delete_d4dc30cf_b3a6_40f6_b0cf_b849b6a0d928", "uuid": "d352c04f-a66f-40d7-a483-e788d2d742ae"}, "edge_type": "inherent", "type": "", "uuid": "a3f7ae32-507d-4e72-9ed3-d31e89fd52db", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Substrate_f15fdd94_a074_4a8c_8161_51f46db87183", "uuid": "3003d560-fec0-42f9-92c4-0c2d06e3a2ec"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Substrate_f15fdd94_a074_4a8c_8161_51f46db87183", "uuid": "3003d560-fec0-42f9-92c4-0c2d06e3a2ec"}, "edge_type": "inherent", "type": "", "uuid": "cfb5bc93-f1cf-402a-91d5-522723716745", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__DE_Soft_Delete_c3e776ec_0f37_49f0_8269_ab3a89b80055", "uuid": "a5fc2e73-4ec1-4511-85e3-f3c7a92ac44e"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "c0a2fa4b-6a89-4df2-add7-3dbb18778e74"}, "edge_type": "inherent", "type": "", "uuid": "817062a4-ba69-400b-9940-9d4eb1287486", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__Package_Element_Delete_48640dc2_c681_4407_8d38_acae12f43969", "uuid": "c982b907-ab91-4cd6-9b0a-959b72f39484"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Substrate_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "uuid": "b34f531e-c0f9-4275-b8a2-d07f04d72de9"}, "edge_type": "inherent", "type": "", "uuid": "d6b37cbb-05b6-4804-8ebd-b5d802bf84d0", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__DE_Soft_Delete_571feb89_402c_40a4_aa3f_ae9361293c5d", "uuid": "4642b9c3-abbe-4ca6-b0b8-72dc813b3ad3"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__Package_Element_Delete_48640dc2_c681_4407_8d38_acae12f43969", "uuid": "c982b907-ab91-4cd6-9b0a-959b72f39484"}, "edge_type": "inherent", "type": "", "uuid": "026bad59-06d2-4d75-83f8-ff9b4693a178", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Substrate_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "uuid": "b34f531e-c0f9-4275-b8a2-d07f04d72de9"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "c0a2fa4b-6a89-4df2-add7-3dbb18778e74"}, "edge_type": "depends_on", "type": "", "uuid": "eeaccbfe-693d-428e-8b29-d1df8baf7fe5", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "118a3267-0986-43de-a5f6-f69b1ad9bae0"}}], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "d203fa83-d8e9-4f2f-8645-56a4d7f24164"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Slave", "uuid": "e96a9978-1ad8-4ae2-b7a3-cf9b174f864a"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__soft_delete_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "a7e03ed8_deployment", "uuid": "571feb89-402c-40a4-aa3f-ae9361293c5d"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "689520c6-6efb-4d4a-a874-74418185d66d"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "c0a2fa4b-6a89-4df2-add7-3dbb18778e74"}, {"target_any_local_reference": {"kind": "app_package", "name": "AWSSlavePackage", "uuid": "48640dc2-c681-4407-8d38-acae12f43969"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Package_Element_Delete_48640dc2_c681_4407_8d38_acae12f43969", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "", "type": "SOFT_DELETE_ELEMENT", "variable_list": [], "uuid": "c982b907-ab91-4cd6-9b0a-959b72f39484"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Master", "uuid": "cca134c1-b826-4a29-86b2-c723c237253d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__soft_delete_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "62ee1671_deployment", "uuid": "c3e776ec-0f37-49f0-8269-ab3a89b80055"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "2ee79c4f-1b76-45fe-a054-5539ff69b85d"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "118a3267-0986-43de-a5f6-f69b1ad9bae0"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AWSSlave", "uuid": "e8f1ded2-4387-41d9-9ce5-3d5b75fe064f"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__soft_delete_CRb_Substrate_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_e8f1ded2_4387_41d9_9ce5_3d5b75fe064f", "uuid": "9fbb8ec2-cf11-4a6f-9a4d-12ff68408bc5"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "b34f531e-c0f9-4275-b8a2-d07f04d72de9"}, {"target_any_local_reference": {"kind": "app_package", "name": "AWSMasterPackage", "uuid": "d4dc30cf-b3a6-40f6-b0cf-b849b6a0d928"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Package_Element_Delete_d4dc30cf_b3a6_40f6_b0cf_b849b6a0d928", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "", "type": "SOFT_DELETE_ELEMENT", "variable_list": [], "uuid": "d352c04f-a66f-40d7-a483-e788d2d742ae"}, {"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "a7e03ed8_deployment", "uuid": "571feb89-402c-40a4-aa3f-ae9361293c5d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__DE_Soft_Delete_571feb89_402c_40a4_aa3f_ae9361293c5d", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "", "type": "SOFT_DELETE_DEPLOYMENT_ELEMENT", "variable_list": [], "uuid": "4642b9c3-abbe-4ca6-b0b8-72dc813b3ad3"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AWSMaster", "uuid": "f15fdd94-a074-4a8c-8161-51f46db87183"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__soft_delete_CRb_Substrate_f15fdd94_a074_4a8c_8161_51f46db87183", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_f15fdd94_a074_4a8c_8161_51f46db87183", "uuid": "7dec8a64-b667-40f4-a71b-89acbde61b0e"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "3003d560-fec0-42f9-92c4-0c2d06e3a2ec"}, {"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "62ee1671_deployment", "uuid": "c3e776ec-0f37-49f0-8269-ab3a89b80055"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__DE_Soft_Delete_c3e776ec_0f37_49f0_8269_ab3a89b80055", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "", "type": "SOFT_DELETE_DEPLOYMENT_ELEMENT", "variable_list": [], "uuid": "a5fc2e73-4ec1-4511-85e3-f3c7a92ac44e"}], "description": "", "name": "SYS_GEN__Runbook_Application_3fde8405_e4e2_437c_9833_a24727d60164", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Application_3fde8405_e4e2_437c_9833_a24727d60164", "uuid": "d203fa83-d8e9-4f2f-8645-56a4d7f24164"}, "message_list": [], "variable_list": [], "uuid": "ebb7495b-9afa-44ad-9bf1-52b0adb573f8"}, "message_list": [], "name": "action_soft_delete"}], "name": "AWS", "state": "ACTIVE", "message_list": [], "dependency_list": [{"getter_resource_kind": "ServiceCfg", "setter_resource_attr": "MYSQL_BIN", "setter_resource_kind": "ServiceCfg", "setter_resource_name": "MySQL_Master", "action_name": "action_create", "action_resource_name": "AWS", "getter_resource_name": "MySQL_Slave", "action_resource_kind": "ApplicationCfg"}, {"getter_resource_kind": "ServiceCfg", "setter_resource_attr": "MYSQL_POSITION", "setter_resource_kind": "ServiceCfg", "setter_resource_name": "MySQL_Master", "action_name": "action_create", "action_resource_name": "AWS", "getter_resource_name": "MySQL_Slave", "action_resource_kind": "ApplicationCfg"}, {"getter_resource_kind": "ServiceCfg", "setter_resource_attr": "MYSQL_MASTER_IP", "setter_resource_kind": "ServiceCfg", "setter_resource_name": "MySQL_Master", "action_name": "action_create", "action_resource_name": "AWS", "getter_resource_name": "MySQL_Slave", "action_resource_kind": "ApplicationCfg"}], "variable_list": [{"val_type": "STRING", "description": "", "name": "MYSQL_PASSWORD", "type": "SECRET", "value": "", "label": "", "state": "ACTIVE", "attrs": {"is_secret_modified": false, "secret_reference": {"uuid": "5f224d97-21fe-4af8-adbb-8d387b43d7d6"}, "type": ""}, "editables": {"value": true}, "message_list": [], "uuid": "ed0cfb79-5a21-43f9-93a6-e7041e419054"}], "uuid": "3fde8405-e4e2-437c-9833-a24727d60164"}], "default_credential_local_reference": {"kind": "app_credential", "name": "CENTOS", "uuid": "59a0a37b-50a9-4d49-9ade-f4a9098df745"}, "package_definition_list": [{"description": "", "action_list": [{"description": "System action for installing an application", "type": "system", "uuid": "be30cb47-5c97-445f-b9f0-8ded23ab8c32", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AHVMasterPackage", "uuid": "1a813ff4-dffc-4ddb-b68d-5ff32c685d8d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "PE_Install_1a813ff4_dffc_4ddb_b68d_5ff32c685d8d", "uuid": "9fb68371-9b81-4887-8fbd-286d8ea85cd3"}], "name": "SYS_GEN__DAG_Package_1a813ff4_dffc_4ddb_b68d_5ff32c685d8d", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "15cf20b9-bd53-4670-851a-afab8b217c18"}, {"target_any_local_reference": {"kind": "app_package", "name": "AHVMasterPackage", "uuid": "1a813ff4-dffc-4ddb-b68d-5ff32c685d8d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "PE_Install_1a813ff4_dffc_4ddb_b68d_5ff32c685d8d", "state": "ACTIVE", "attrs": {"install_runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AHVMasterPackage", "uuid": "1a813ff4-dffc-4ddb-b68d-5ff32c685d8d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "PackageInstallTask", "uuid": "86c42425-073a-4b92-a08f-44926a02f065"}], "name": "9cbec184_dag", "state": "ACTIVE", "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "67675396-6d5d-4ff8-803f-1338b93ba117"}, {"target_any_local_reference": {"kind": "app_package", "name": "AHVMasterPackage", "uuid": "1a813ff4-dffc-4ddb-b68d-5ff32c685d8d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "PackageInstallTask", "state": "ACTIVE", "attrs": {"exit_status": [], "script": "#!/bin/bash\nset -ex\n\nsudo yum update -y\nmysql_repo_package=\"http://repo.mysql.com/mysql-community-release-el7.rpm\"\nsudo yum install -y $mysql_repo_package\nsudo yum update -y\nsudo yum install -y sshpass mysql-community-server.x86_64\n\nsudo systemctl start mysqld\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nUPDATE mysql.user SET Password=PASSWORD('@@{MYSQL_PASSWORD}@@') WHERE User='root';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n\n### Configure mysql\nsudo sed -i '/\\[mysqld\\]/a log-bin=mysql-bin' /etc/my.cnf\nsudo sed -i \"/\\[mysqld\\]/a server-id=100\" /etc/my.cnf\nsudo sed -i \"/\\[mysqld\\]/a binlog-format=mixed\" /etc/my.cnf\necho \"#master=100\" | sudo tee -a  /etc/my.cnf\n\nserver_id=`sudo cat /etc/my.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat /etc/my.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '/\\[mysqld\\]/a read_only=1' /etc/my.cnf\nfi\n\nsudo systemctl restart mysqld\nsleep 2\n", "script_type": "sh", "type": "", "command_line_args": "", "login_credential_local_reference": {"kind": "app_credential", "name": "CENTOS", "uuid": "59a0a37b-50a9-4d49-9ade-f4a9098df745"}}, "timeout_secs": "", "type": "EXEC", "variable_list": [], "uuid": "86c42425-073a-4b92-a08f-44926a02f065"}], "description": "", "name": "ee9a3de0_runbook", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "9cbec184_dag", "uuid": "67675396-6d5d-4ff8-803f-1338b93ba117"}, "message_list": [], "variable_list": [], "uuid": "df8da104-8c64-43c2-bf1f-479f79eb8683"}, "type": "", "uninstall_runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AHVMasterPackage", "uuid": "1a813ff4-dffc-4ddb-b68d-5ff32c685d8d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "PackageUninstallTask", "uuid": "2d53bd00-ae9a-429e-aa59-567854333e10"}], "name": "7e474eb1_dag", "state": "ACTIVE", "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "50b03f7d-a053-4e9b-bd9a-a863f4018973"}, {"target_any_local_reference": {"kind": "app_package", "name": "AHVMasterPackage", "uuid": "1a813ff4-dffc-4ddb-b68d-5ff32c685d8d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "PackageUninstallTask", "state": "ACTIVE", "attrs": {"exit_status": [], "script": "#!/bin/bash", "script_type": "sh", "type": "", "command_line_args": "", "login_credential_local_reference": {"kind": "app_credential", "name": "CENTOS", "uuid": "59a0a37b-50a9-4d49-9ade-f4a9098df745"}}, "timeout_secs": "", "type": "EXEC", "variable_list": [], "uuid": "2d53bd00-ae9a-429e-aa59-567854333e10"}], "description": "", "name": "4235ede6_runbook", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "7e474eb1_dag", "uuid": "50b03f7d-a053-4e9b-bd9a-a863f4018973"}, "message_list": [], "variable_list": [], "uuid": "ec227d67-eee4-4b36-accc-3d20202b96a5"}}, "timeout_secs": "", "type": "CUSTOM_PACKAGE_INSTALL", "variable_list": [], "uuid": "9fb68371-9b81-4887-8fbd-286d8ea85cd3"}], "description": "", "name": "SYS_GEN__Runbook_Package_1a813ff4_dffc_4ddb_b68d_5ff32c685d8d", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Package_1a813ff4_dffc_4ddb_b68d_5ff32c685d8d", "uuid": "15cf20b9-bd53-4670-851a-afab8b217c18"}, "message_list": [], "variable_list": [], "uuid": "4f213441-9554-4e89-901a-7edc4ca01892"}, "message_list": [], "name": "action_install"}, {"description": "System action for creating an application", "type": "system", "uuid": "7253d538-3c8d-45f9-8b90-f33667bb6f03", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AHVMasterPackage", "uuid": "1a813ff4-dffc-4ddb-b68d-5ff32c685d8d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__install_CRb_Package_1a813ff4_dffc_4ddb_b68d_5ff32c685d8d", "uuid": "b30fb142-a285-45fb-8bbf-837ecba9c95e"}, {"kind": "app_task", "name": "SYS_GEN__create_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "ee7f8858-0d10-4b0b-ad4d-44636d2eaf02"}, {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "ce5fb2bd-aa0f-4dc8-b6b5-82eeb7676502"}], "name": "SYS_GEN__Composite_DAG_Package_1a813ff4_dffc_4ddb_b68d_5ff32c685d8d", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "ee7f8858-0d10-4b0b-ad4d-44636d2eaf02"}, "edge_type": "inherent", "type": "", "uuid": "ec2442a3-80c2-4088-9ad9-67a67a6c6844", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "ce5fb2bd-aa0f-4dc8-b6b5-82eeb7676502"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__install_CRb_Package_1a813ff4_dffc_4ddb_b68d_5ff32c685d8d", "uuid": "b30fb142-a285-45fb-8bbf-837ecba9c95e"}, "edge_type": "inherent", "type": "", "uuid": "6413e44d-7340-4e68-a474-4ddec2474905", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "ee7f8858-0d10-4b0b-ad4d-44636d2eaf02"}}], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "907ef1a5-98c4-4e77-a43c-3aca7e3e0b06"}, {"target_any_local_reference": {"kind": "app_package", "name": "AHVMasterPackage", "uuid": "1a813ff4-dffc-4ddb-b68d-5ff32c685d8d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__install_CRb_Package_1a813ff4_dffc_4ddb_b68d_5ff32c685d8d", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Package_1a813ff4_dffc_4ddb_b68d_5ff32c685d8d", "uuid": "4f213441-9554-4e89-901a-7edc4ca01892"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "b30fb142-a285-45fb-8bbf-837ecba9c95e"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Master", "uuid": "cca134c1-b826-4a29-86b2-c723c237253d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__create_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "0a970522_runbook", "uuid": "7a358965-611d-4cfa-820b-97f097841617"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "ee7f8858-0d10-4b0b-ad4d-44636d2eaf02"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Master", "uuid": "cca134c1-b826-4a29-86b2-c723c237253d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__start_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "5ddb28d1_runbook", "uuid": "bd4efbf3-b76f-4aab-90cb-0e572d360742"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "ce5fb2bd-aa0f-4dc8-b6b5-82eeb7676502"}], "description": "", "name": "SYS_GEN__Runbook_Package_1a813ff4_dffc_4ddb_b68d_5ff32c685d8d", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Package_1a813ff4_dffc_4ddb_b68d_5ff32c685d8d", "uuid": "907ef1a5-98c4-4e77-a43c-3aca7e3e0b06"}, "message_list": [], "variable_list": [], "uuid": "b0deb187-a01e-4e40-aa5a-17b933a3e246"}, "message_list": [], "name": "action_create"}, {"description": "System action for uninstalling an application", "type": "system", "uuid": "594ce550-7356-437c-ba89-069c8290e26e", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AHVMasterPackage", "uuid": "1a813ff4-dffc-4ddb-b68d-5ff32c685d8d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "PE_Uninstall_1a813ff4_dffc_4ddb_b68d_5ff32c685d8d", "uuid": "8e772d12-bcc6-4c68-98fe-834f0d0b997e"}], "name": "SYS_GEN__DAG_Package_1a813ff4_dffc_4ddb_b68d_5ff32c685d8d", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "cec6c053-341e-41b8-9c5a-20314deee697"}, {"target_any_local_reference": {"kind": "app_package", "name": "AHVMasterPackage", "uuid": "1a813ff4-dffc-4ddb-b68d-5ff32c685d8d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "PE_Uninstall_1a813ff4_dffc_4ddb_b68d_5ff32c685d8d", "state": "ACTIVE", "attrs": {"install_runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AHVMasterPackage", "uuid": "1a813ff4-dffc-4ddb-b68d-5ff32c685d8d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "PackageInstallTask", "uuid": "86c42425-073a-4b92-a08f-44926a02f065"}], "name": "9cbec184_dag", "state": "ACTIVE", "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "67675396-6d5d-4ff8-803f-1338b93ba117"}, {"target_any_local_reference": {"kind": "app_package", "name": "AHVMasterPackage", "uuid": "1a813ff4-dffc-4ddb-b68d-5ff32c685d8d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "PackageInstallTask", "state": "ACTIVE", "attrs": {"exit_status": [], "script": "#!/bin/bash\nset -ex\n\nsudo yum update -y\nmysql_repo_package=\"http://repo.mysql.com/mysql-community-release-el7.rpm\"\nsudo yum install -y $mysql_repo_package\nsudo yum update -y\nsudo yum install -y sshpass mysql-community-server.x86_64\n\nsudo systemctl start mysqld\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nUPDATE mysql.user SET Password=PASSWORD('@@{MYSQL_PASSWORD}@@') WHERE User='root';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n\n### Configure mysql\nsudo sed -i '/\\[mysqld\\]/a log-bin=mysql-bin' /etc/my.cnf\nsudo sed -i \"/\\[mysqld\\]/a server-id=100\" /etc/my.cnf\nsudo sed -i \"/\\[mysqld\\]/a binlog-format=mixed\" /etc/my.cnf\necho \"#master=100\" | sudo tee -a  /etc/my.cnf\n\nserver_id=`sudo cat /etc/my.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat /etc/my.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '/\\[mysqld\\]/a read_only=1' /etc/my.cnf\nfi\n\nsudo systemctl restart mysqld\nsleep 2\n", "script_type": "sh", "type": "", "command_line_args": "", "login_credential_local_reference": {"kind": "app_credential", "name": "CENTOS", "uuid": "59a0a37b-50a9-4d49-9ade-f4a9098df745"}}, "timeout_secs": "", "type": "EXEC", "variable_list": [], "uuid": "86c42425-073a-4b92-a08f-44926a02f065"}], "description": "", "name": "ee9a3de0_runbook", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "9cbec184_dag", "uuid": "67675396-6d5d-4ff8-803f-1338b93ba117"}, "message_list": [], "variable_list": [], "uuid": "df8da104-8c64-43c2-bf1f-479f79eb8683"}, "type": "", "uninstall_runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AHVMasterPackage", "uuid": "1a813ff4-dffc-4ddb-b68d-5ff32c685d8d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "PackageUninstallTask", "uuid": "2d53bd00-ae9a-429e-aa59-567854333e10"}], "name": "7e474eb1_dag", "state": "ACTIVE", "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "50b03f7d-a053-4e9b-bd9a-a863f4018973"}, {"target_any_local_reference": {"kind": "app_package", "name": "AHVMasterPackage", "uuid": "1a813ff4-dffc-4ddb-b68d-5ff32c685d8d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "PackageUninstallTask", "state": "ACTIVE", "attrs": {"exit_status": [], "script": "#!/bin/bash", "script_type": "sh", "type": "", "command_line_args": "", "login_credential_local_reference": {"kind": "app_credential", "name": "CENTOS", "uuid": "59a0a37b-50a9-4d49-9ade-f4a9098df745"}}, "timeout_secs": "", "type": "EXEC", "variable_list": [], "uuid": "2d53bd00-ae9a-429e-aa59-567854333e10"}], "description": "", "name": "4235ede6_runbook", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "7e474eb1_dag", "uuid": "50b03f7d-a053-4e9b-bd9a-a863f4018973"}, "message_list": [], "variable_list": [], "uuid": "ec227d67-eee4-4b36-accc-3d20202b96a5"}}, "timeout_secs": "", "type": "CUSTOM_PACKAGE_UNINSTALL", "variable_list": [], "uuid": "8e772d12-bcc6-4c68-98fe-834f0d0b997e"}], "description": "", "name": "SYS_GEN__Runbook_Package_1a813ff4_dffc_4ddb_b68d_5ff32c685d8d", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Package_1a813ff4_dffc_4ddb_b68d_5ff32c685d8d", "uuid": "cec6c053-341e-41b8-9c5a-20314deee697"}, "message_list": [], "variable_list": [], "uuid": "6c1f1a14-9c5d-4571-a362-055cf3d2c86f"}, "message_list": [], "name": "action_uninstall"}, {"description": "System action for deleting an application. Deletes physical machines as well", "type": "system", "uuid": "f09bb8b9-9340-4eae-8de8-19a14f8f1722", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AHVMasterPackage", "uuid": "1a813ff4-dffc-4ddb-b68d-5ff32c685d8d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "8382b9a3-4f45-4a41-833e-f74e421a1335"}, {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "32c97d0f-f16b-4cfa-a2d3-0a90ba201ef5"}, {"kind": "app_task", "name": "SYS_GEN__uninstall_CRb_Package_1a813ff4_dffc_4ddb_b68d_5ff32c685d8d", "uuid": "575aa152-d141-41a6-a68a-9323b763f8bc"}], "name": "SYS_GEN__Composite_DAG_Package_1a813ff4_dffc_4ddb_b68d_5ff32c685d8d", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "8382b9a3-4f45-4a41-833e-f74e421a1335"}, "edge_type": "inherent", "type": "", "uuid": "57f3c11a-b4f9-42c1-ab0c-a6612d6bb648", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "32c97d0f-f16b-4cfa-a2d3-0a90ba201ef5"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "32c97d0f-f16b-4cfa-a2d3-0a90ba201ef5"}, "edge_type": "inherent", "type": "", "uuid": "b18d4a26-c371-46de-b648-57dc39034565", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__uninstall_CRb_Package_1a813ff4_dffc_4ddb_b68d_5ff32c685d8d", "uuid": "575aa152-d141-41a6-a68a-9323b763f8bc"}}], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "4350af38-6223-4831-b440-e0852af87bfd"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Master", "uuid": "cca134c1-b826-4a29-86b2-c723c237253d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__stop_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "0aefbca3_runbook", "uuid": "6ba0d524-a652-4f98-8f92-6ec865842a9b"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "8382b9a3-4f45-4a41-833e-f74e421a1335"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Master", "uuid": "cca134c1-b826-4a29-86b2-c723c237253d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__delete_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "5fd47ec3_runbook", "uuid": "d51a0752-03fa-42c7-8338-f0cf594666c2"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "32c97d0f-f16b-4cfa-a2d3-0a90ba201ef5"}, {"target_any_local_reference": {"kind": "app_package", "name": "AHVMasterPackage", "uuid": "1a813ff4-dffc-4ddb-b68d-5ff32c685d8d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__uninstall_CRb_Package_1a813ff4_dffc_4ddb_b68d_5ff32c685d8d", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Package_1a813ff4_dffc_4ddb_b68d_5ff32c685d8d", "uuid": "6c1f1a14-9c5d-4571-a362-055cf3d2c86f"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "575aa152-d141-41a6-a68a-9323b763f8bc"}], "description": "", "name": "SYS_GEN__Runbook_Package_1a813ff4_dffc_4ddb_b68d_5ff32c685d8d", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Package_1a813ff4_dffc_4ddb_b68d_5ff32c685d8d", "uuid": "4350af38-6223-4831-b440-e0852af87bfd"}, "message_list": [], "variable_list": [], "uuid": "65f43d64-30fd-4196-8a68-cfc46c81e201"}, "message_list": [], "name": "action_delete"}, {"description": "System action for deleting an application. Does not delete physical machines", "type": "system", "uuid": "72f5f473-b81c-430c-8d1c-70fefb5bc2e0", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AHVMasterPackage", "uuid": "1a813ff4-dffc-4ddb-b68d-5ff32c685d8d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "79e02586-c80d-4b56-b7e6-00b2acdc24d0"}, {"kind": "app_task", "name": "SYS_GEN__Package_Element_Delete_1a813ff4_dffc_4ddb_b68d_5ff32c685d8d", "uuid": "3899f404-8114-4e9b-a3e5-ecf25eb2b30b"}], "name": "SYS_GEN__Composite_DAG_Package_1a813ff4_dffc_4ddb_b68d_5ff32c685d8d", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "79e02586-c80d-4b56-b7e6-00b2acdc24d0"}, "edge_type": "inherent", "type": "", "uuid": "e94989a9-463d-4df0-9910-d7a23098b1a0", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__Package_Element_Delete_1a813ff4_dffc_4ddb_b68d_5ff32c685d8d", "uuid": "3899f404-8114-4e9b-a3e5-ecf25eb2b30b"}}], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "92ca9861-c493-469e-a423-2238e4fe9af3"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Master", "uuid": "cca134c1-b826-4a29-86b2-c723c237253d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__soft_delete_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "2ee79c4f-1b76-45fe-a054-5539ff69b85d"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "79e02586-c80d-4b56-b7e6-00b2acdc24d0"}, {"target_any_local_reference": {"kind": "app_package", "name": "AHVMasterPackage", "uuid": "1a813ff4-dffc-4ddb-b68d-5ff32c685d8d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Package_Element_Delete_1a813ff4_dffc_4ddb_b68d_5ff32c685d8d", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "", "type": "SOFT_DELETE_ELEMENT", "variable_list": [], "uuid": "3899f404-8114-4e9b-a3e5-ecf25eb2b30b"}], "description": "", "name": "SYS_GEN__Runbook_Package_1a813ff4_dffc_4ddb_b68d_5ff32c685d8d", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Package_1a813ff4_dffc_4ddb_b68d_5ff32c685d8d", "uuid": "92ca9861-c493-469e-a423-2238e4fe9af3"}, "message_list": [], "variable_list": [], "uuid": "ec191f22-9e77-41f6-9697-36d9a54d792c"}, "message_list": [], "name": "action_soft_delete"}, {"description": "System action for starting an application", "type": "system", "uuid": "348776ae-af01-4bee-ae28-e0a114aa3fc3", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AHVMasterPackage", "uuid": "1a813ff4-dffc-4ddb-b68d-5ff32c685d8d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "c6e181ef-142e-4ae5-a08f-ab090129ed05"}], "name": "SYS_GEN__Composite_DAG_Package_1a813ff4_dffc_4ddb_b68d_5ff32c685d8d", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "b2c53478-f2f3-4c0c-a151-9c0a5c3b78ba"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Master", "uuid": "cca134c1-b826-4a29-86b2-c723c237253d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__start_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "5ddb28d1_runbook", "uuid": "bd4efbf3-b76f-4aab-90cb-0e572d360742"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "c6e181ef-142e-4ae5-a08f-ab090129ed05"}], "description": "", "name": "SYS_GEN__Runbook_Package_1a813ff4_dffc_4ddb_b68d_5ff32c685d8d", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Package_1a813ff4_dffc_4ddb_b68d_5ff32c685d8d", "uuid": "b2c53478-f2f3-4c0c-a151-9c0a5c3b78ba"}, "message_list": [], "variable_list": [], "uuid": "39926f9a-e40d-4327-adbb-c969a1113f04"}, "message_list": [], "name": "action_start"}, {"description": "System action for stopping an application", "type": "system", "uuid": "63480616-74bc-4b14-a9ca-b72ed5e74de8", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AHVMasterPackage", "uuid": "1a813ff4-dffc-4ddb-b68d-5ff32c685d8d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "30036f24-97d0-4b8b-85ca-80549c11a60e"}], "name": "SYS_GEN__Composite_DAG_Package_1a813ff4_dffc_4ddb_b68d_5ff32c685d8d", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "1f5f08db-826d-4748-bd4a-eb203352f2d5"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Master", "uuid": "cca134c1-b826-4a29-86b2-c723c237253d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__stop_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "0aefbca3_runbook", "uuid": "6ba0d524-a652-4f98-8f92-6ec865842a9b"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "30036f24-97d0-4b8b-85ca-80549c11a60e"}], "description": "", "name": "SYS_GEN__Runbook_Package_1a813ff4_dffc_4ddb_b68d_5ff32c685d8d", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Package_1a813ff4_dffc_4ddb_b68d_5ff32c685d8d", "uuid": "1f5f08db-826d-4748-bd4a-eb203352f2d5"}, "message_list": [], "variable_list": [], "uuid": "54de4e04-35ac-44da-bf05-7df051646a27"}, "message_list": [], "name": "action_stop"}], "type": "DEB", "service_local_reference_list": [{"kind": "app_service", "name": "MySQL_Master", "uuid": "cca134c1-b826-4a29-86b2-c723c237253d"}], "name": "AHVMasterPackage", "state": "ACTIVE", "version": "", "editables": {}, "message_list": [], "options": {"install_runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AHVMasterPackage", "uuid": "1a813ff4-dffc-4ddb-b68d-5ff32c685d8d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "PackageInstallTask", "uuid": "86c42425-073a-4b92-a08f-44926a02f065"}], "name": "9cbec184_dag", "state": "ACTIVE", "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "67675396-6d5d-4ff8-803f-1338b93ba117"}, {"target_any_local_reference": {"kind": "app_package", "name": "AHVMasterPackage", "uuid": "1a813ff4-dffc-4ddb-b68d-5ff32c685d8d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "PackageInstallTask", "state": "ACTIVE", "attrs": {"exit_status": [], "script": "#!/bin/bash\nset -ex\n\nsudo yum update -y\nmysql_repo_package=\"http://repo.mysql.com/mysql-community-release-el7.rpm\"\nsudo yum install -y $mysql_repo_package\nsudo yum update -y\nsudo yum install -y sshpass mysql-community-server.x86_64\n\nsudo systemctl start mysqld\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nUPDATE mysql.user SET Password=PASSWORD('@@{MYSQL_PASSWORD}@@') WHERE User='root';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n\n### Configure mysql\nsudo sed -i '/\\[mysqld\\]/a log-bin=mysql-bin' /etc/my.cnf\nsudo sed -i \"/\\[mysqld\\]/a server-id=100\" /etc/my.cnf\nsudo sed -i \"/\\[mysqld\\]/a binlog-format=mixed\" /etc/my.cnf\necho \"#master=100\" | sudo tee -a  /etc/my.cnf\n\nserver_id=`sudo cat /etc/my.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat /etc/my.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '/\\[mysqld\\]/a read_only=1' /etc/my.cnf\nfi\n\nsudo systemctl restart mysqld\nsleep 2\n", "script_type": "sh", "type": "", "command_line_args": "", "login_credential_local_reference": {"kind": "app_credential", "name": "CENTOS", "uuid": "59a0a37b-50a9-4d49-9ade-f4a9098df745"}}, "timeout_secs": "", "type": "EXEC", "variable_list": [], "uuid": "86c42425-073a-4b92-a08f-44926a02f065"}], "description": "", "name": "ee9a3de0_runbook", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "9cbec184_dag", "uuid": "67675396-6d5d-4ff8-803f-1338b93ba117"}, "message_list": [], "variable_list": [], "uuid": "df8da104-8c64-43c2-bf1f-479f79eb8683"}, "type": "", "uninstall_runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AHVMasterPackage", "uuid": "1a813ff4-dffc-4ddb-b68d-5ff32c685d8d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "PackageUninstallTask", "uuid": "2d53bd00-ae9a-429e-aa59-567854333e10"}], "name": "7e474eb1_dag", "state": "ACTIVE", "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "50b03f7d-a053-4e9b-bd9a-a863f4018973"}, {"target_any_local_reference": {"kind": "app_package", "name": "AHVMasterPackage", "uuid": "1a813ff4-dffc-4ddb-b68d-5ff32c685d8d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "PackageUninstallTask", "state": "ACTIVE", "attrs": {"exit_status": [], "script": "#!/bin/bash", "script_type": "sh", "type": "", "command_line_args": "", "login_credential_local_reference": {"kind": "app_credential", "name": "CENTOS", "uuid": "59a0a37b-50a9-4d49-9ade-f4a9098df745"}}, "timeout_secs": "", "type": "EXEC", "variable_list": [], "uuid": "2d53bd00-ae9a-429e-aa59-567854333e10"}], "description": "", "name": "4235ede6_runbook", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "7e474eb1_dag", "uuid": "50b03f7d-a053-4e9b-bd9a-a863f4018973"}, "message_list": [], "variable_list": [], "uuid": "ec227d67-eee4-4b36-accc-3d20202b96a5"}}, "variable_list": [], "uuid": "1a813ff4-dffc-4ddb-b68d-5ff32c685d8d"}, {"description": "", "action_list": [{"description": "System action for installing an application", "type": "system", "uuid": "6e05d2f2-77de-4121-ad96-afec83b0c59d", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AHVSlavePackage", "uuid": "d24e573c-09de-4603-b9a9-ff8d92739072"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "PE_Install_d24e573c_09de_4603_b9a9_ff8d92739072", "uuid": "761ba0ab-2af5-44a1-acc1-74cf8c038576"}], "name": "SYS_GEN__DAG_Package_d24e573c_09de_4603_b9a9_ff8d92739072", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "110cdd35-3fef-4aa7-99ba-40493ea23f7c"}, {"target_any_local_reference": {"kind": "app_package", "name": "AHVSlavePackage", "uuid": "d24e573c-09de-4603-b9a9-ff8d92739072"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "PE_Install_d24e573c_09de_4603_b9a9_ff8d92739072", "state": "ACTIVE", "attrs": {"install_runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AHVSlavePackage", "uuid": "d24e573c-09de-4603-b9a9-ff8d92739072"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "PackageInstallTask", "uuid": "0a4d7b8c-01e5-4ed8-b167-6815a9233cad"}], "name": "35a5e492_dag", "state": "ACTIVE", "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "ff0926eb-58b4-4722-afe4-753a8d969f28"}, {"target_any_local_reference": {"kind": "app_package", "name": "AHVSlavePackage", "uuid": "d24e573c-09de-4603-b9a9-ff8d92739072"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "PackageInstallTask", "state": "ACTIVE", "attrs": {"exit_status": [], "script": "#!/bin/bash\nset -ex\n\nsudo yum update -y\nmysql_repo_package=\"http://repo.mysql.com/mysql-community-release-el7.rpm\"\nsudo yum install -y $mysql_repo_package\nsudo yum update -y\nsudo yum install -y sshpass mysql-community-server.x86_64\n\nsudo systemctl start mysqld\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nUPDATE mysql.user SET Password=PASSWORD('@@{MYSQL_PASSWORD}@@') WHERE User='root';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n\n### Configure mysql\nsudo sed -i '/\\[mysqld\\]/a log-bin=mysql-bin' /etc/my.cnf\nsudo sed -i \"/\\[mysqld\\]/a server-id=10$((@@{calm_array_index}@@+1))\" /etc/my.cnf\nsudo sed -i \"/\\[mysqld\\]/a binlog-format=mixed\" /etc/my.cnf\n\necho \"#master=100\" | sudo tee -a  /etc/my.cnf\n\nserver_id=`sudo cat /etc/my.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat /etc/my.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '/\\[mysqld\\]/a read_only=1' /etc/my.cnf\nfi\n\nsudo systemctl restart mysqld\nsleep 2\n\n", "script_type": "sh", "type": "", "command_line_args": "", "login_credential_local_reference": {"kind": "app_credential", "name": "CENTOS", "uuid": "59a0a37b-50a9-4d49-9ade-f4a9098df745"}}, "timeout_secs": "", "type": "EXEC", "variable_list": [], "uuid": "0a4d7b8c-01e5-4ed8-b167-6815a9233cad"}], "description": "", "name": "db3247c6_runbook", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "35a5e492_dag", "uuid": "ff0926eb-58b4-4722-afe4-753a8d969f28"}, "message_list": [], "variable_list": [], "uuid": "bf15bcc0-e5f2-4dd4-83b0-e843e3c8ce0d"}, "type": "", "uninstall_runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AHVSlavePackage", "uuid": "d24e573c-09de-4603-b9a9-ff8d92739072"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "PackageUninstallTask", "uuid": "363a6e51-eff0-442c-84b6-2fbe37d7bfdb"}], "name": "53d74d7d_dag", "state": "ACTIVE", "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "391d57d4-d2a7-4cb0-afb2-ace999667df2"}, {"target_any_local_reference": {"kind": "app_package", "name": "AHVSlavePackage", "uuid": "d24e573c-09de-4603-b9a9-ff8d92739072"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "PackageUninstallTask", "state": "ACTIVE", "attrs": {"exit_status": [], "script": "#!/bin/bash", "script_type": "sh", "type": "", "command_line_args": "", "login_credential_local_reference": {"kind": "app_credential", "name": "CENTOS", "uuid": "59a0a37b-50a9-4d49-9ade-f4a9098df745"}}, "timeout_secs": "", "type": "EXEC", "variable_list": [], "uuid": "363a6e51-eff0-442c-84b6-2fbe37d7bfdb"}], "description": "", "name": "a4fbe7d2_runbook", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "53d74d7d_dag", "uuid": "391d57d4-d2a7-4cb0-afb2-ace999667df2"}, "message_list": [], "variable_list": [], "uuid": "ee4e9d52-d229-4af5-81f4-f678f3746e97"}}, "timeout_secs": "", "type": "CUSTOM_PACKAGE_INSTALL", "variable_list": [], "uuid": "761ba0ab-2af5-44a1-acc1-74cf8c038576"}], "description": "", "name": "SYS_GEN__Runbook_Package_d24e573c_09de_4603_b9a9_ff8d92739072", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Package_d24e573c_09de_4603_b9a9_ff8d92739072", "uuid": "110cdd35-3fef-4aa7-99ba-40493ea23f7c"}, "message_list": [], "variable_list": [], "uuid": "b96a344d-3686-46db-907b-50f628bca2c3"}, "message_list": [], "name": "action_install"}, {"description": "System action for creating an application", "type": "system", "uuid": "4b72485d-2847-4550-a7a6-353f2fe26932", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AHVSlavePackage", "uuid": "d24e573c-09de-4603-b9a9-ff8d92739072"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__install_CRb_Package_d24e573c_09de_4603_b9a9_ff8d92739072", "uuid": "072ca60f-42ca-4919-b236-b0d13884d749"}, {"kind": "app_task", "name": "SYS_GEN__create_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "c960bd4f-cb92-4420-9d78-2fa49ea415f1"}, {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "7761197e-81bf-43c2-82a6-c1accedcf95b"}], "name": "SYS_GEN__Composite_DAG_Package_d24e573c_09de_4603_b9a9_ff8d92739072", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "c960bd4f-cb92-4420-9d78-2fa49ea415f1"}, "edge_type": "inherent", "type": "", "uuid": "133093b1-9eed-41cc-bf3c-da1573194fb8", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "7761197e-81bf-43c2-82a6-c1accedcf95b"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__install_CRb_Package_d24e573c_09de_4603_b9a9_ff8d92739072", "uuid": "072ca60f-42ca-4919-b236-b0d13884d749"}, "edge_type": "inherent", "type": "", "uuid": "191ba2f4-58ea-4cee-8fda-9e5158989817", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "c960bd4f-cb92-4420-9d78-2fa49ea415f1"}}], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "7da288f8-57d0-496b-b4ea-f6fd16c15da0"}, {"target_any_local_reference": {"kind": "app_package", "name": "AHVSlavePackage", "uuid": "d24e573c-09de-4603-b9a9-ff8d92739072"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__install_CRb_Package_d24e573c_09de_4603_b9a9_ff8d92739072", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Package_d24e573c_09de_4603_b9a9_ff8d92739072", "uuid": "b96a344d-3686-46db-907b-50f628bca2c3"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "072ca60f-42ca-4919-b236-b0d13884d749"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Slave", "uuid": "e96a9978-1ad8-4ae2-b7a3-cf9b174f864a"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__create_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "d54168c9_runbook", "uuid": "674d1ef9-2649-4c20-9cc6-29c73880dfa0"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "c960bd4f-cb92-4420-9d78-2fa49ea415f1"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Slave", "uuid": "e96a9978-1ad8-4ae2-b7a3-cf9b174f864a"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__start_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "a027cde0_runbook", "uuid": "be7edeb3-8796-455e-ae89-aecebe6bf01d"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "7761197e-81bf-43c2-82a6-c1accedcf95b"}], "description": "", "name": "SYS_GEN__Runbook_Package_d24e573c_09de_4603_b9a9_ff8d92739072", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Package_d24e573c_09de_4603_b9a9_ff8d92739072", "uuid": "7da288f8-57d0-496b-b4ea-f6fd16c15da0"}, "message_list": [], "variable_list": [], "uuid": "8661ff47-ee9b-4b9c-806d-6a3cbf36907e"}, "message_list": [], "name": "action_create"}, {"description": "System action for uninstalling an application", "type": "system", "uuid": "40fc674b-d97c-48a5-a5ab-25009593aee6", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AHVSlavePackage", "uuid": "d24e573c-09de-4603-b9a9-ff8d92739072"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "PE_Uninstall_d24e573c_09de_4603_b9a9_ff8d92739072", "uuid": "8a41cade-2b59-48b3-9220-64fe62692aa9"}], "name": "SYS_GEN__DAG_Package_d24e573c_09de_4603_b9a9_ff8d92739072", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "9cd7e53c-1e68-405e-9f48-95f94b110d0b"}, {"target_any_local_reference": {"kind": "app_package", "name": "AHVSlavePackage", "uuid": "d24e573c-09de-4603-b9a9-ff8d92739072"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "PE_Uninstall_d24e573c_09de_4603_b9a9_ff8d92739072", "state": "ACTIVE", "attrs": {"install_runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AHVSlavePackage", "uuid": "d24e573c-09de-4603-b9a9-ff8d92739072"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "PackageInstallTask", "uuid": "0a4d7b8c-01e5-4ed8-b167-6815a9233cad"}], "name": "35a5e492_dag", "state": "ACTIVE", "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "ff0926eb-58b4-4722-afe4-753a8d969f28"}, {"target_any_local_reference": {"kind": "app_package", "name": "AHVSlavePackage", "uuid": "d24e573c-09de-4603-b9a9-ff8d92739072"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "PackageInstallTask", "state": "ACTIVE", "attrs": {"exit_status": [], "script": "#!/bin/bash\nset -ex\n\nsudo yum update -y\nmysql_repo_package=\"http://repo.mysql.com/mysql-community-release-el7.rpm\"\nsudo yum install -y $mysql_repo_package\nsudo yum update -y\nsudo yum install -y sshpass mysql-community-server.x86_64\n\nsudo systemctl start mysqld\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nUPDATE mysql.user SET Password=PASSWORD('@@{MYSQL_PASSWORD}@@') WHERE User='root';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n\n### Configure mysql\nsudo sed -i '/\\[mysqld\\]/a log-bin=mysql-bin' /etc/my.cnf\nsudo sed -i \"/\\[mysqld\\]/a server-id=10$((@@{calm_array_index}@@+1))\" /etc/my.cnf\nsudo sed -i \"/\\[mysqld\\]/a binlog-format=mixed\" /etc/my.cnf\n\necho \"#master=100\" | sudo tee -a  /etc/my.cnf\n\nserver_id=`sudo cat /etc/my.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat /etc/my.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '/\\[mysqld\\]/a read_only=1' /etc/my.cnf\nfi\n\nsudo systemctl restart mysqld\nsleep 2\n\n", "script_type": "sh", "type": "", "command_line_args": "", "login_credential_local_reference": {"kind": "app_credential", "name": "CENTOS", "uuid": "59a0a37b-50a9-4d49-9ade-f4a9098df745"}}, "timeout_secs": "", "type": "EXEC", "variable_list": [], "uuid": "0a4d7b8c-01e5-4ed8-b167-6815a9233cad"}], "description": "", "name": "db3247c6_runbook", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "35a5e492_dag", "uuid": "ff0926eb-58b4-4722-afe4-753a8d969f28"}, "message_list": [], "variable_list": [], "uuid": "bf15bcc0-e5f2-4dd4-83b0-e843e3c8ce0d"}, "type": "", "uninstall_runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AHVSlavePackage", "uuid": "d24e573c-09de-4603-b9a9-ff8d92739072"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "PackageUninstallTask", "uuid": "363a6e51-eff0-442c-84b6-2fbe37d7bfdb"}], "name": "53d74d7d_dag", "state": "ACTIVE", "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "391d57d4-d2a7-4cb0-afb2-ace999667df2"}, {"target_any_local_reference": {"kind": "app_package", "name": "AHVSlavePackage", "uuid": "d24e573c-09de-4603-b9a9-ff8d92739072"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "PackageUninstallTask", "state": "ACTIVE", "attrs": {"exit_status": [], "script": "#!/bin/bash", "script_type": "sh", "type": "", "command_line_args": "", "login_credential_local_reference": {"kind": "app_credential", "name": "CENTOS", "uuid": "59a0a37b-50a9-4d49-9ade-f4a9098df745"}}, "timeout_secs": "", "type": "EXEC", "variable_list": [], "uuid": "363a6e51-eff0-442c-84b6-2fbe37d7bfdb"}], "description": "", "name": "a4fbe7d2_runbook", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "53d74d7d_dag", "uuid": "391d57d4-d2a7-4cb0-afb2-ace999667df2"}, "message_list": [], "variable_list": [], "uuid": "ee4e9d52-d229-4af5-81f4-f678f3746e97"}}, "timeout_secs": "", "type": "CUSTOM_PACKAGE_UNINSTALL", "variable_list": [], "uuid": "8a41cade-2b59-48b3-9220-64fe62692aa9"}], "description": "", "name": "SYS_GEN__Runbook_Package_d24e573c_09de_4603_b9a9_ff8d92739072", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Package_d24e573c_09de_4603_b9a9_ff8d92739072", "uuid": "9cd7e53c-1e68-405e-9f48-95f94b110d0b"}, "message_list": [], "variable_list": [], "uuid": "2c142b17-8e21-4ae9-ba90-c5469a434c22"}, "message_list": [], "name": "action_uninstall"}, {"description": "System action for deleting an application. Deletes physical machines as well", "type": "system", "uuid": "37fbe0ff-0313-42b4-9be6-649d3e09e5f2", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AHVSlavePackage", "uuid": "d24e573c-09de-4603-b9a9-ff8d92739072"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "85776b59-c13d-456b-8adb-829d8d13af50"}, {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "743b5a3b-ce2a-491f-9d5b-cc696ef034f7"}, {"kind": "app_task", "name": "SYS_GEN__uninstall_CRb_Package_d24e573c_09de_4603_b9a9_ff8d92739072", "uuid": "45946825-d570-4ba0-98e0-29328c6f24de"}], "name": "SYS_GEN__Composite_DAG_Package_d24e573c_09de_4603_b9a9_ff8d92739072", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "85776b59-c13d-456b-8adb-829d8d13af50"}, "edge_type": "inherent", "type": "", "uuid": "9cf07ce5-4289-466a-9c3b-e079ec9a0110", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "743b5a3b-ce2a-491f-9d5b-cc696ef034f7"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "743b5a3b-ce2a-491f-9d5b-cc696ef034f7"}, "edge_type": "inherent", "type": "", "uuid": "927d93d2-b177-49f3-b566-c9472c9b2a8b", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__uninstall_CRb_Package_d24e573c_09de_4603_b9a9_ff8d92739072", "uuid": "45946825-d570-4ba0-98e0-29328c6f24de"}}], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "5b918ceb-ac25-466a-b560-04cac508cf10"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Slave", "uuid": "e96a9978-1ad8-4ae2-b7a3-cf9b174f864a"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__stop_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "4a2ad0be_runbook", "uuid": "769af1fb-afad-4878-be4f-500f9bdc8b7f"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "85776b59-c13d-456b-8adb-829d8d13af50"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Slave", "uuid": "e96a9978-1ad8-4ae2-b7a3-cf9b174f864a"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__delete_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "92247e35_runbook", "uuid": "8313c934-78a4-457c-8403-d1223a46c2c3"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "743b5a3b-ce2a-491f-9d5b-cc696ef034f7"}, {"target_any_local_reference": {"kind": "app_package", "name": "AHVSlavePackage", "uuid": "d24e573c-09de-4603-b9a9-ff8d92739072"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__uninstall_CRb_Package_d24e573c_09de_4603_b9a9_ff8d92739072", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Package_d24e573c_09de_4603_b9a9_ff8d92739072", "uuid": "2c142b17-8e21-4ae9-ba90-c5469a434c22"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "45946825-d570-4ba0-98e0-29328c6f24de"}], "description": "", "name": "SYS_GEN__Runbook_Package_d24e573c_09de_4603_b9a9_ff8d92739072", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Package_d24e573c_09de_4603_b9a9_ff8d92739072", "uuid": "5b918ceb-ac25-466a-b560-04cac508cf10"}, "message_list": [], "variable_list": [], "uuid": "9ad91be2-878d-4820-92a1-c08c515420e1"}, "message_list": [], "name": "action_delete"}, {"description": "System action for deleting an application. Does not delete physical machines", "type": "system", "uuid": "55cfc4e6-9dfc-4f97-afa2-b9818c84148c", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AHVSlavePackage", "uuid": "d24e573c-09de-4603-b9a9-ff8d92739072"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "eb312283-d63f-4309-8e07-b0e8fa6d8b0d"}, {"kind": "app_task", "name": "SYS_GEN__Package_Element_Delete_d24e573c_09de_4603_b9a9_ff8d92739072", "uuid": "a81f0c41-d3b5-417f-9497-a82ab155f872"}], "name": "SYS_GEN__Composite_DAG_Package_d24e573c_09de_4603_b9a9_ff8d92739072", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "eb312283-d63f-4309-8e07-b0e8fa6d8b0d"}, "edge_type": "inherent", "type": "", "uuid": "633c6424-5325-4fb6-ac10-2545dba2cb2c", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__Package_Element_Delete_d24e573c_09de_4603_b9a9_ff8d92739072", "uuid": "a81f0c41-d3b5-417f-9497-a82ab155f872"}}], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "c6f3f596-a5c0-49ab-92df-ece4bbfe4ba2"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Slave", "uuid": "e96a9978-1ad8-4ae2-b7a3-cf9b174f864a"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__soft_delete_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "689520c6-6efb-4d4a-a874-74418185d66d"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "eb312283-d63f-4309-8e07-b0e8fa6d8b0d"}, {"target_any_local_reference": {"kind": "app_package", "name": "AHVSlavePackage", "uuid": "d24e573c-09de-4603-b9a9-ff8d92739072"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Package_Element_Delete_d24e573c_09de_4603_b9a9_ff8d92739072", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "", "type": "SOFT_DELETE_ELEMENT", "variable_list": [], "uuid": "a81f0c41-d3b5-417f-9497-a82ab155f872"}], "description": "", "name": "SYS_GEN__Runbook_Package_d24e573c_09de_4603_b9a9_ff8d92739072", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Package_d24e573c_09de_4603_b9a9_ff8d92739072", "uuid": "c6f3f596-a5c0-49ab-92df-ece4bbfe4ba2"}, "message_list": [], "variable_list": [], "uuid": "6840b666-d020-433c-8c98-d0173901e62f"}, "message_list": [], "name": "action_soft_delete"}, {"description": "System action for starting an application", "type": "system", "uuid": "67563233-e62c-4b6e-9444-6c4177f1076d", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AHVSlavePackage", "uuid": "d24e573c-09de-4603-b9a9-ff8d92739072"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "d5b3a474-d33f-4fd3-ac97-5dde0c2c7d89"}], "name": "SYS_GEN__Composite_DAG_Package_d24e573c_09de_4603_b9a9_ff8d92739072", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "78231c59-b7e6-44c5-96fc-35ac73eca9f4"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Slave", "uuid": "e96a9978-1ad8-4ae2-b7a3-cf9b174f864a"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__start_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "a027cde0_runbook", "uuid": "be7edeb3-8796-455e-ae89-aecebe6bf01d"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "d5b3a474-d33f-4fd3-ac97-5dde0c2c7d89"}], "description": "", "name": "SYS_GEN__Runbook_Package_d24e573c_09de_4603_b9a9_ff8d92739072", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Package_d24e573c_09de_4603_b9a9_ff8d92739072", "uuid": "78231c59-b7e6-44c5-96fc-35ac73eca9f4"}, "message_list": [], "variable_list": [], "uuid": "6e2bfcec-a73d-4f26-aef3-6e5d2336ca5e"}, "message_list": [], "name": "action_start"}, {"description": "System action for stopping an application", "type": "system", "uuid": "eaa96d2d-779f-4527-b434-d92517595ff9", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AHVSlavePackage", "uuid": "d24e573c-09de-4603-b9a9-ff8d92739072"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "1b354f47-6b3d-42fb-a6a6-f38e990ce0a6"}], "name": "SYS_GEN__Composite_DAG_Package_d24e573c_09de_4603_b9a9_ff8d92739072", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "fc20b083-be06-41da-b750-8c5a8918ac28"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Slave", "uuid": "e96a9978-1ad8-4ae2-b7a3-cf9b174f864a"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__stop_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "4a2ad0be_runbook", "uuid": "769af1fb-afad-4878-be4f-500f9bdc8b7f"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "1b354f47-6b3d-42fb-a6a6-f38e990ce0a6"}], "description": "", "name": "SYS_GEN__Runbook_Package_d24e573c_09de_4603_b9a9_ff8d92739072", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Package_d24e573c_09de_4603_b9a9_ff8d92739072", "uuid": "fc20b083-be06-41da-b750-8c5a8918ac28"}, "message_list": [], "variable_list": [], "uuid": "dbc93261-0e2d-49a5-845a-9f88120404f2"}, "message_list": [], "name": "action_stop"}], "type": "DEB", "service_local_reference_list": [{"kind": "app_service", "name": "MySQL_Slave", "uuid": "e96a9978-1ad8-4ae2-b7a3-cf9b174f864a"}], "name": "AHVSlavePackage", "state": "ACTIVE", "version": "", "editables": {}, "message_list": [], "options": {"install_runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AHVSlavePackage", "uuid": "d24e573c-09de-4603-b9a9-ff8d92739072"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "PackageInstallTask", "uuid": "0a4d7b8c-01e5-4ed8-b167-6815a9233cad"}], "name": "35a5e492_dag", "state": "ACTIVE", "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "ff0926eb-58b4-4722-afe4-753a8d969f28"}, {"target_any_local_reference": {"kind": "app_package", "name": "AHVSlavePackage", "uuid": "d24e573c-09de-4603-b9a9-ff8d92739072"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "PackageInstallTask", "state": "ACTIVE", "attrs": {"exit_status": [], "script": "#!/bin/bash\nset -ex\n\nsudo yum update -y\nmysql_repo_package=\"http://repo.mysql.com/mysql-community-release-el7.rpm\"\nsudo yum install -y $mysql_repo_package\nsudo yum update -y\nsudo yum install -y sshpass mysql-community-server.x86_64\n\nsudo systemctl start mysqld\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nUPDATE mysql.user SET Password=PASSWORD('@@{MYSQL_PASSWORD}@@') WHERE User='root';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n\n### Configure mysql\nsudo sed -i '/\\[mysqld\\]/a log-bin=mysql-bin' /etc/my.cnf\nsudo sed -i \"/\\[mysqld\\]/a server-id=10$((@@{calm_array_index}@@+1))\" /etc/my.cnf\nsudo sed -i \"/\\[mysqld\\]/a binlog-format=mixed\" /etc/my.cnf\n\necho \"#master=100\" | sudo tee -a  /etc/my.cnf\n\nserver_id=`sudo cat /etc/my.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat /etc/my.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '/\\[mysqld\\]/a read_only=1' /etc/my.cnf\nfi\n\nsudo systemctl restart mysqld\nsleep 2\n\n", "script_type": "sh", "type": "", "command_line_args": "", "login_credential_local_reference": {"kind": "app_credential", "name": "CENTOS", "uuid": "59a0a37b-50a9-4d49-9ade-f4a9098df745"}}, "timeout_secs": "", "type": "EXEC", "variable_list": [], "uuid": "0a4d7b8c-01e5-4ed8-b167-6815a9233cad"}], "description": "", "name": "db3247c6_runbook", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "35a5e492_dag", "uuid": "ff0926eb-58b4-4722-afe4-753a8d969f28"}, "message_list": [], "variable_list": [], "uuid": "bf15bcc0-e5f2-4dd4-83b0-e843e3c8ce0d"}, "type": "", "uninstall_runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AHVSlavePackage", "uuid": "d24e573c-09de-4603-b9a9-ff8d92739072"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "PackageUninstallTask", "uuid": "363a6e51-eff0-442c-84b6-2fbe37d7bfdb"}], "name": "53d74d7d_dag", "state": "ACTIVE", "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "391d57d4-d2a7-4cb0-afb2-ace999667df2"}, {"target_any_local_reference": {"kind": "app_package", "name": "AHVSlavePackage", "uuid": "d24e573c-09de-4603-b9a9-ff8d92739072"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "PackageUninstallTask", "state": "ACTIVE", "attrs": {"exit_status": [], "script": "#!/bin/bash", "script_type": "sh", "type": "", "command_line_args": "", "login_credential_local_reference": {"kind": "app_credential", "name": "CENTOS", "uuid": "59a0a37b-50a9-4d49-9ade-f4a9098df745"}}, "timeout_secs": "", "type": "EXEC", "variable_list": [], "uuid": "363a6e51-eff0-442c-84b6-2fbe37d7bfdb"}], "description": "", "name": "a4fbe7d2_runbook", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "53d74d7d_dag", "uuid": "391d57d4-d2a7-4cb0-afb2-ace999667df2"}, "message_list": [], "variable_list": [], "uuid": "ee4e9d52-d229-4af5-81f4-f678f3746e97"}}, "variable_list": [], "uuid": "d24e573c-09de-4603-b9a9-ff8d92739072"}, {"description": "", "action_list": [{"description": "System action for installing an application", "type": "system", "uuid": "d4d8d4f8-60dd-4975-b701-45b2964a8f5b", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AWSMasterPackage", "uuid": "d4dc30cf-b3a6-40f6-b0cf-b849b6a0d928"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "PE_Install_d4dc30cf_b3a6_40f6_b0cf_b849b6a0d928", "uuid": "22483570-fad1-432d-88cb-643c5713e4fc"}], "name": "SYS_GEN__DAG_Package_d4dc30cf_b3a6_40f6_b0cf_b849b6a0d928", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "a17ddde8-720f-4602-bba6-d0bbf1af5045"}, {"target_any_local_reference": {"kind": "app_package", "name": "AWSMasterPackage", "uuid": "d4dc30cf-b3a6-40f6-b0cf-b849b6a0d928"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "PE_Install_d4dc30cf_b3a6_40f6_b0cf_b849b6a0d928", "state": "ACTIVE", "attrs": {"install_runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AWSMasterPackage", "uuid": "d4dc30cf-b3a6-40f6-b0cf-b849b6a0d928"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "PackageInstallTask", "uuid": "60d42a59-3f6a-469e-bb2e-3a0d4460e98d"}], "name": "20906fd3_dag", "state": "ACTIVE", "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "ed57fbb4-a5c2-4d3d-a82b-815e4eeca5f1"}, {"target_any_local_reference": {"kind": "app_package", "name": "AWSMasterPackage", "uuid": "d4dc30cf-b3a6-40f6-b0cf-b849b6a0d928"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "PackageInstallTask", "state": "ACTIVE", "attrs": {"exit_status": [], "script": "#!/bin/bash\nset -ex\n\nsudo yum update -y\nmysql_repo_package=\"http://repo.mysql.com/mysql-community-release-el7.rpm\"\nsudo yum install -y $mysql_repo_package\nsudo yum update -y\nsudo yum install -y sshpass mysql-community-server.x86_64\n\nsudo systemctl start mysqld\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nUPDATE mysql.user SET Password=PASSWORD('@@{MYSQL_PASSWORD}@@') WHERE User='root';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n\n### Configure mysql\nsudo sed -i '/\\[mysqld\\]/a log-bin=mysql-bin' /etc/my.cnf\nsudo sed -i \"/\\[mysqld\\]/a server-id=100\" /etc/my.cnf\nsudo sed -i \"/\\[mysqld\\]/a binlog-format=mixed\" /etc/my.cnf\necho \"#master=100\" | sudo tee -a  /etc/my.cnf\n\nserver_id=`sudo cat /etc/my.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat /etc/my.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '/\\[mysqld\\]/a read_only=1' /etc/my.cnf\nfi\n\nsudo systemctl restart mysqld\nsleep 2\n", "script_type": "sh", "type": "", "command_line_args": "", "login_credential_local_reference": {"kind": "app_credential", "name": "CENTOS", "uuid": "59a0a37b-50a9-4d49-9ade-f4a9098df745"}}, "timeout_secs": "", "type": "EXEC", "variable_list": [], "uuid": "60d42a59-3f6a-469e-bb2e-3a0d4460e98d"}], "description": "", "name": "8c0bb7c2_runbook", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "20906fd3_dag", "uuid": "ed57fbb4-a5c2-4d3d-a82b-815e4eeca5f1"}, "message_list": [], "variable_list": [], "uuid": "fdc0a0d8-95fc-43fb-94e3-069e7fcb0a7f"}, "type": "", "uninstall_runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AWSMasterPackage", "uuid": "d4dc30cf-b3a6-40f6-b0cf-b849b6a0d928"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "PackageUninstallTask", "uuid": "92e1d9b9-43b3-4e6e-9d1d-3f2d0b7e5f16"}], "name": "102b4b68_dag", "state": "ACTIVE", "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "def0a1cc-9c80-45c7-9c96-e24ba4df2056"}, {"target_any_local_reference": {"kind": "app_package", "name": "AWSMasterPackage", "uuid": "d4dc30cf-b3a6-40f6-b0cf-b849b6a0d928"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "PackageUninstallTask", "state": "ACTIVE", "attrs": {"exit_status": [], "script": "#!/bin/bash", "script_type": "sh", "type": "", "command_line_args": "", "login_credential_local_reference": {"kind": "app_credential", "name": "CENTOS", "uuid": "59a0a37b-50a9-4d49-9ade-f4a9098df745"}}, "timeout_secs": "", "type": "EXEC", "variable_list": [], "uuid": "92e1d9b9-43b3-4e6e-9d1d-3f2d0b7e5f16"}], "description": "", "name": "97a9a9af_runbook", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "102b4b68_dag", "uuid": "def0a1cc-9c80-45c7-9c96-e24ba4df2056"}, "message_list": [], "variable_list": [], "uuid": "3e92ac18-984c-4a34-8ea1-9b73a359f7db"}}, "timeout_secs": "", "type": "CUSTOM_PACKAGE_INSTALL", "variable_list": [], "uuid": "22483570-fad1-432d-88cb-643c5713e4fc"}], "description": "", "name": "SYS_GEN__Runbook_Package_d4dc30cf_b3a6_40f6_b0cf_b849b6a0d928", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Package_d4dc30cf_b3a6_40f6_b0cf_b849b6a0d928", "uuid": "a17ddde8-720f-4602-bba6-d0bbf1af5045"}, "message_list": [], "variable_list": [], "uuid": "3db75a31-79be-48c3-b51c-4335b6da5cd1"}, "message_list": [], "name": "action_install"}, {"description": "System action for creating an application", "type": "system", "uuid": "6742e8d5-e4fd-441d-854d-c69a0a530836", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AWSMasterPackage", "uuid": "d4dc30cf-b3a6-40f6-b0cf-b849b6a0d928"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__install_CRb_Package_d4dc30cf_b3a6_40f6_b0cf_b849b6a0d928", "uuid": "056cf74c-77c7-485b-a8e2-85130a666732"}, {"kind": "app_task", "name": "SYS_GEN__create_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "df3049b4-51fb-4c97-a6a7-c3a1151a3345"}, {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "ba4618bc-8f03-4a24-ab5f-1b2c632fb636"}], "name": "SYS_GEN__Composite_DAG_Package_d4dc30cf_b3a6_40f6_b0cf_b849b6a0d928", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "df3049b4-51fb-4c97-a6a7-c3a1151a3345"}, "edge_type": "inherent", "type": "", "uuid": "739aa7d6-671b-457a-a8c6-0350a9135267", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "ba4618bc-8f03-4a24-ab5f-1b2c632fb636"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__install_CRb_Package_d4dc30cf_b3a6_40f6_b0cf_b849b6a0d928", "uuid": "056cf74c-77c7-485b-a8e2-85130a666732"}, "edge_type": "inherent", "type": "", "uuid": "7dc5fd7e-cd76-458d-af47-565ef0fce944", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "df3049b4-51fb-4c97-a6a7-c3a1151a3345"}}], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "f3735fe7-3c44-423d-b64d-8c808e061a56"}, {"target_any_local_reference": {"kind": "app_package", "name": "AWSMasterPackage", "uuid": "d4dc30cf-b3a6-40f6-b0cf-b849b6a0d928"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__install_CRb_Package_d4dc30cf_b3a6_40f6_b0cf_b849b6a0d928", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Package_d4dc30cf_b3a6_40f6_b0cf_b849b6a0d928", "uuid": "3db75a31-79be-48c3-b51c-4335b6da5cd1"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "056cf74c-77c7-485b-a8e2-85130a666732"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Master", "uuid": "cca134c1-b826-4a29-86b2-c723c237253d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__create_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "0a970522_runbook", "uuid": "7a358965-611d-4cfa-820b-97f097841617"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "df3049b4-51fb-4c97-a6a7-c3a1151a3345"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Master", "uuid": "cca134c1-b826-4a29-86b2-c723c237253d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__start_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "5ddb28d1_runbook", "uuid": "bd4efbf3-b76f-4aab-90cb-0e572d360742"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "ba4618bc-8f03-4a24-ab5f-1b2c632fb636"}], "description": "", "name": "SYS_GEN__Runbook_Package_d4dc30cf_b3a6_40f6_b0cf_b849b6a0d928", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Package_d4dc30cf_b3a6_40f6_b0cf_b849b6a0d928", "uuid": "f3735fe7-3c44-423d-b64d-8c808e061a56"}, "message_list": [], "variable_list": [], "uuid": "622ecefa-f873-46c0-bc66-ecb834b4e6ab"}, "message_list": [], "name": "action_create"}, {"description": "System action for uninstalling an application", "type": "system", "uuid": "e7890ce5-5a1f-4efe-ba64-0ae34f0fadb0", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AWSMasterPackage", "uuid": "d4dc30cf-b3a6-40f6-b0cf-b849b6a0d928"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "PE_Uninstall_d4dc30cf_b3a6_40f6_b0cf_b849b6a0d928", "uuid": "d68a130d-2d3c-4979-8924-4b0714fcf408"}], "name": "SYS_GEN__DAG_Package_d4dc30cf_b3a6_40f6_b0cf_b849b6a0d928", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "cb2bcecc-8fbe-4caf-826b-2f66df86d7b4"}, {"target_any_local_reference": {"kind": "app_package", "name": "AWSMasterPackage", "uuid": "d4dc30cf-b3a6-40f6-b0cf-b849b6a0d928"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "PE_Uninstall_d4dc30cf_b3a6_40f6_b0cf_b849b6a0d928", "state": "ACTIVE", "attrs": {"install_runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AWSMasterPackage", "uuid": "d4dc30cf-b3a6-40f6-b0cf-b849b6a0d928"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "PackageInstallTask", "uuid": "60d42a59-3f6a-469e-bb2e-3a0d4460e98d"}], "name": "20906fd3_dag", "state": "ACTIVE", "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "ed57fbb4-a5c2-4d3d-a82b-815e4eeca5f1"}, {"target_any_local_reference": {"kind": "app_package", "name": "AWSMasterPackage", "uuid": "d4dc30cf-b3a6-40f6-b0cf-b849b6a0d928"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "PackageInstallTask", "state": "ACTIVE", "attrs": {"exit_status": [], "script": "#!/bin/bash\nset -ex\n\nsudo yum update -y\nmysql_repo_package=\"http://repo.mysql.com/mysql-community-release-el7.rpm\"\nsudo yum install -y $mysql_repo_package\nsudo yum update -y\nsudo yum install -y sshpass mysql-community-server.x86_64\n\nsudo systemctl start mysqld\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nUPDATE mysql.user SET Password=PASSWORD('@@{MYSQL_PASSWORD}@@') WHERE User='root';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n\n### Configure mysql\nsudo sed -i '/\\[mysqld\\]/a log-bin=mysql-bin' /etc/my.cnf\nsudo sed -i \"/\\[mysqld\\]/a server-id=100\" /etc/my.cnf\nsudo sed -i \"/\\[mysqld\\]/a binlog-format=mixed\" /etc/my.cnf\necho \"#master=100\" | sudo tee -a  /etc/my.cnf\n\nserver_id=`sudo cat /etc/my.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat /etc/my.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '/\\[mysqld\\]/a read_only=1' /etc/my.cnf\nfi\n\nsudo systemctl restart mysqld\nsleep 2\n", "script_type": "sh", "type": "", "command_line_args": "", "login_credential_local_reference": {"kind": "app_credential", "name": "CENTOS", "uuid": "59a0a37b-50a9-4d49-9ade-f4a9098df745"}}, "timeout_secs": "", "type": "EXEC", "variable_list": [], "uuid": "60d42a59-3f6a-469e-bb2e-3a0d4460e98d"}], "description": "", "name": "8c0bb7c2_runbook", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "20906fd3_dag", "uuid": "ed57fbb4-a5c2-4d3d-a82b-815e4eeca5f1"}, "message_list": [], "variable_list": [], "uuid": "fdc0a0d8-95fc-43fb-94e3-069e7fcb0a7f"}, "type": "", "uninstall_runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AWSMasterPackage", "uuid": "d4dc30cf-b3a6-40f6-b0cf-b849b6a0d928"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "PackageUninstallTask", "uuid": "92e1d9b9-43b3-4e6e-9d1d-3f2d0b7e5f16"}], "name": "102b4b68_dag", "state": "ACTIVE", "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "def0a1cc-9c80-45c7-9c96-e24ba4df2056"}, {"target_any_local_reference": {"kind": "app_package", "name": "AWSMasterPackage", "uuid": "d4dc30cf-b3a6-40f6-b0cf-b849b6a0d928"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "PackageUninstallTask", "state": "ACTIVE", "attrs": {"exit_status": [], "script": "#!/bin/bash", "script_type": "sh", "type": "", "command_line_args": "", "login_credential_local_reference": {"kind": "app_credential", "name": "CENTOS", "uuid": "59a0a37b-50a9-4d49-9ade-f4a9098df745"}}, "timeout_secs": "", "type": "EXEC", "variable_list": [], "uuid": "92e1d9b9-43b3-4e6e-9d1d-3f2d0b7e5f16"}], "description": "", "name": "97a9a9af_runbook", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "102b4b68_dag", "uuid": "def0a1cc-9c80-45c7-9c96-e24ba4df2056"}, "message_list": [], "variable_list": [], "uuid": "3e92ac18-984c-4a34-8ea1-9b73a359f7db"}}, "timeout_secs": "", "type": "CUSTOM_PACKAGE_UNINSTALL", "variable_list": [], "uuid": "d68a130d-2d3c-4979-8924-4b0714fcf408"}], "description": "", "name": "SYS_GEN__Runbook_Package_d4dc30cf_b3a6_40f6_b0cf_b849b6a0d928", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Package_d4dc30cf_b3a6_40f6_b0cf_b849b6a0d928", "uuid": "cb2bcecc-8fbe-4caf-826b-2f66df86d7b4"}, "message_list": [], "variable_list": [], "uuid": "ab24bf1a-cc15-4391-908f-4f6bf9497988"}, "message_list": [], "name": "action_uninstall"}, {"description": "System action for deleting an application. Deletes physical machines as well", "type": "system", "uuid": "a8a40183-b7e9-4161-adc7-75c9d4f0bcd8", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AWSMasterPackage", "uuid": "d4dc30cf-b3a6-40f6-b0cf-b849b6a0d928"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "21fee884-ec08-492c-ab65-8814fc25794a"}, {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "dc19eefb-a5e3-47da-883f-0628b43548b2"}, {"kind": "app_task", "name": "SYS_GEN__uninstall_CRb_Package_d4dc30cf_b3a6_40f6_b0cf_b849b6a0d928", "uuid": "d0baf51f-ebfe-4b2b-88b1-f7dd58349080"}], "name": "SYS_GEN__Composite_DAG_Package_d4dc30cf_b3a6_40f6_b0cf_b849b6a0d928", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "21fee884-ec08-492c-ab65-8814fc25794a"}, "edge_type": "inherent", "type": "", "uuid": "b189c153-ca5a-49f9-8fca-345b974daf4e", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "dc19eefb-a5e3-47da-883f-0628b43548b2"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "dc19eefb-a5e3-47da-883f-0628b43548b2"}, "edge_type": "inherent", "type": "", "uuid": "51be1997-9844-470d-9ed9-cda7c2be2138", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__uninstall_CRb_Package_d4dc30cf_b3a6_40f6_b0cf_b849b6a0d928", "uuid": "d0baf51f-ebfe-4b2b-88b1-f7dd58349080"}}], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "aaad5a29-6f84-49ee-bbdc-2e4c4d7fc52a"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Master", "uuid": "cca134c1-b826-4a29-86b2-c723c237253d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__stop_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "0aefbca3_runbook", "uuid": "6ba0d524-a652-4f98-8f92-6ec865842a9b"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "21fee884-ec08-492c-ab65-8814fc25794a"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Master", "uuid": "cca134c1-b826-4a29-86b2-c723c237253d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__delete_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "5fd47ec3_runbook", "uuid": "d51a0752-03fa-42c7-8338-f0cf594666c2"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "dc19eefb-a5e3-47da-883f-0628b43548b2"}, {"target_any_local_reference": {"kind": "app_package", "name": "AWSMasterPackage", "uuid": "d4dc30cf-b3a6-40f6-b0cf-b849b6a0d928"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__uninstall_CRb_Package_d4dc30cf_b3a6_40f6_b0cf_b849b6a0d928", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Package_d4dc30cf_b3a6_40f6_b0cf_b849b6a0d928", "uuid": "ab24bf1a-cc15-4391-908f-4f6bf9497988"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "d0baf51f-ebfe-4b2b-88b1-f7dd58349080"}], "description": "", "name": "SYS_GEN__Runbook_Package_d4dc30cf_b3a6_40f6_b0cf_b849b6a0d928", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Package_d4dc30cf_b3a6_40f6_b0cf_b849b6a0d928", "uuid": "aaad5a29-6f84-49ee-bbdc-2e4c4d7fc52a"}, "message_list": [], "variable_list": [], "uuid": "ca94650f-d9ce-4e08-8216-18135e799051"}, "message_list": [], "name": "action_delete"}, {"description": "System action for deleting an application. Does not delete physical machines", "type": "system", "uuid": "1568fdf4-c2e1-4516-957a-e5cc84c140b4", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AWSMasterPackage", "uuid": "d4dc30cf-b3a6-40f6-b0cf-b849b6a0d928"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "487c820b-2988-40d8-8a07-870a5ae1d3ef"}, {"kind": "app_task", "name": "SYS_GEN__Package_Element_Delete_d4dc30cf_b3a6_40f6_b0cf_b849b6a0d928", "uuid": "4fd6644e-08aa-4b59-99f3-4bce0d0e47f3"}], "name": "SYS_GEN__Composite_DAG_Package_d4dc30cf_b3a6_40f6_b0cf_b849b6a0d928", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "487c820b-2988-40d8-8a07-870a5ae1d3ef"}, "edge_type": "inherent", "type": "", "uuid": "e5a113ee-e2ca-4b5b-bc41-f6e23af8553a", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__Package_Element_Delete_d4dc30cf_b3a6_40f6_b0cf_b849b6a0d928", "uuid": "4fd6644e-08aa-4b59-99f3-4bce0d0e47f3"}}], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "f6f82c7f-12bb-4ff0-b5c1-59887d4d5554"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Master", "uuid": "cca134c1-b826-4a29-86b2-c723c237253d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__soft_delete_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "2ee79c4f-1b76-45fe-a054-5539ff69b85d"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "487c820b-2988-40d8-8a07-870a5ae1d3ef"}, {"target_any_local_reference": {"kind": "app_package", "name": "AWSMasterPackage", "uuid": "d4dc30cf-b3a6-40f6-b0cf-b849b6a0d928"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Package_Element_Delete_d4dc30cf_b3a6_40f6_b0cf_b849b6a0d928", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "", "type": "SOFT_DELETE_ELEMENT", "variable_list": [], "uuid": "4fd6644e-08aa-4b59-99f3-4bce0d0e47f3"}], "description": "", "name": "SYS_GEN__Runbook_Package_d4dc30cf_b3a6_40f6_b0cf_b849b6a0d928", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Package_d4dc30cf_b3a6_40f6_b0cf_b849b6a0d928", "uuid": "f6f82c7f-12bb-4ff0-b5c1-59887d4d5554"}, "message_list": [], "variable_list": [], "uuid": "2a032363-4356-4d90-8ee6-216a60c21382"}, "message_list": [], "name": "action_soft_delete"}, {"description": "System action for starting an application", "type": "system", "uuid": "45dfbc5f-e05d-4c4d-8aa6-2655b5a0a2f3", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AWSMasterPackage", "uuid": "d4dc30cf-b3a6-40f6-b0cf-b849b6a0d928"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "dc448f11-68ef-4c56-8d8b-a0f7dcefa754"}], "name": "SYS_GEN__Composite_DAG_Package_d4dc30cf_b3a6_40f6_b0cf_b849b6a0d928", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "f71b1eaf-6829-411c-b0cc-40c54b285627"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Master", "uuid": "cca134c1-b826-4a29-86b2-c723c237253d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__start_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "5ddb28d1_runbook", "uuid": "bd4efbf3-b76f-4aab-90cb-0e572d360742"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "dc448f11-68ef-4c56-8d8b-a0f7dcefa754"}], "description": "", "name": "SYS_GEN__Runbook_Package_d4dc30cf_b3a6_40f6_b0cf_b849b6a0d928", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Package_d4dc30cf_b3a6_40f6_b0cf_b849b6a0d928", "uuid": "f71b1eaf-6829-411c-b0cc-40c54b285627"}, "message_list": [], "variable_list": [], "uuid": "d79ef86c-ebf8-473c-82a7-441ecbe44c23"}, "message_list": [], "name": "action_start"}, {"description": "System action for stopping an application", "type": "system", "uuid": "af13f84c-752c-4c54-ab97-bba931d6e2ef", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AWSMasterPackage", "uuid": "d4dc30cf-b3a6-40f6-b0cf-b849b6a0d928"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "uuid": "0404a9e1-2f91-4df4-9971-bc148b4f10b0"}], "name": "SYS_GEN__Composite_DAG_Package_d4dc30cf_b3a6_40f6_b0cf_b849b6a0d928", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "9b5af836-2fd6-4d60-91b8-4695220a0be6"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Master", "uuid": "cca134c1-b826-4a29-86b2-c723c237253d"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__stop_CRb_Service_cca134c1_b826_4a29_86b2_c723c237253d", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "0aefbca3_runbook", "uuid": "6ba0d524-a652-4f98-8f92-6ec865842a9b"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "0404a9e1-2f91-4df4-9971-bc148b4f10b0"}], "description": "", "name": "SYS_GEN__Runbook_Package_d4dc30cf_b3a6_40f6_b0cf_b849b6a0d928", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Package_d4dc30cf_b3a6_40f6_b0cf_b849b6a0d928", "uuid": "9b5af836-2fd6-4d60-91b8-4695220a0be6"}, "message_list": [], "variable_list": [], "uuid": "75f89633-c708-4383-9e14-92dc5d771327"}, "message_list": [], "name": "action_stop"}], "type": "DEB", "service_local_reference_list": [{"kind": "app_service", "name": "MySQL_Master", "uuid": "cca134c1-b826-4a29-86b2-c723c237253d"}], "name": "AWSMasterPackage", "state": "ACTIVE", "version": "", "editables": {}, "message_list": [], "options": {"install_runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AWSMasterPackage", "uuid": "d4dc30cf-b3a6-40f6-b0cf-b849b6a0d928"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "PackageInstallTask", "uuid": "60d42a59-3f6a-469e-bb2e-3a0d4460e98d"}], "name": "20906fd3_dag", "state": "ACTIVE", "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "ed57fbb4-a5c2-4d3d-a82b-815e4eeca5f1"}, {"target_any_local_reference": {"kind": "app_package", "name": "AWSMasterPackage", "uuid": "d4dc30cf-b3a6-40f6-b0cf-b849b6a0d928"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "PackageInstallTask", "state": "ACTIVE", "attrs": {"exit_status": [], "script": "#!/bin/bash\nset -ex\n\nsudo yum update -y\nmysql_repo_package=\"http://repo.mysql.com/mysql-community-release-el7.rpm\"\nsudo yum install -y $mysql_repo_package\nsudo yum update -y\nsudo yum install -y sshpass mysql-community-server.x86_64\n\nsudo systemctl start mysqld\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nUPDATE mysql.user SET Password=PASSWORD('@@{MYSQL_PASSWORD}@@') WHERE User='root';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n\n### Configure mysql\nsudo sed -i '/\\[mysqld\\]/a log-bin=mysql-bin' /etc/my.cnf\nsudo sed -i \"/\\[mysqld\\]/a server-id=100\" /etc/my.cnf\nsudo sed -i \"/\\[mysqld\\]/a binlog-format=mixed\" /etc/my.cnf\necho \"#master=100\" | sudo tee -a  /etc/my.cnf\n\nserver_id=`sudo cat /etc/my.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat /etc/my.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '/\\[mysqld\\]/a read_only=1' /etc/my.cnf\nfi\n\nsudo systemctl restart mysqld\nsleep 2\n", "script_type": "sh", "type": "", "command_line_args": "", "login_credential_local_reference": {"kind": "app_credential", "name": "CENTOS", "uuid": "59a0a37b-50a9-4d49-9ade-f4a9098df745"}}, "timeout_secs": "", "type": "EXEC", "variable_list": [], "uuid": "60d42a59-3f6a-469e-bb2e-3a0d4460e98d"}], "description": "", "name": "8c0bb7c2_runbook", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "20906fd3_dag", "uuid": "ed57fbb4-a5c2-4d3d-a82b-815e4eeca5f1"}, "message_list": [], "variable_list": [], "uuid": "fdc0a0d8-95fc-43fb-94e3-069e7fcb0a7f"}, "type": "", "uninstall_runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AWSMasterPackage", "uuid": "d4dc30cf-b3a6-40f6-b0cf-b849b6a0d928"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "PackageUninstallTask", "uuid": "92e1d9b9-43b3-4e6e-9d1d-3f2d0b7e5f16"}], "name": "102b4b68_dag", "state": "ACTIVE", "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "def0a1cc-9c80-45c7-9c96-e24ba4df2056"}, {"target_any_local_reference": {"kind": "app_package", "name": "AWSMasterPackage", "uuid": "d4dc30cf-b3a6-40f6-b0cf-b849b6a0d928"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "PackageUninstallTask", "state": "ACTIVE", "attrs": {"exit_status": [], "script": "#!/bin/bash", "script_type": "sh", "type": "", "command_line_args": "", "login_credential_local_reference": {"kind": "app_credential", "name": "CENTOS", "uuid": "59a0a37b-50a9-4d49-9ade-f4a9098df745"}}, "timeout_secs": "", "type": "EXEC", "variable_list": [], "uuid": "92e1d9b9-43b3-4e6e-9d1d-3f2d0b7e5f16"}], "description": "", "name": "97a9a9af_runbook", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "102b4b68_dag", "uuid": "def0a1cc-9c80-45c7-9c96-e24ba4df2056"}, "message_list": [], "variable_list": [], "uuid": "3e92ac18-984c-4a34-8ea1-9b73a359f7db"}}, "variable_list": [], "uuid": "d4dc30cf-b3a6-40f6-b0cf-b849b6a0d928"}, {"description": "", "action_list": [{"description": "System action for installing an application", "type": "system", "uuid": "90cd82b4-bd81-4e5f-9692-75d17908ecdb", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AWSSlavePackage", "uuid": "48640dc2-c681-4407-8d38-acae12f43969"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "PE_Install_48640dc2_c681_4407_8d38_acae12f43969", "uuid": "2d3af2e0-8a6c-445e-bf03-db261282a2bf"}], "name": "SYS_GEN__DAG_Package_48640dc2_c681_4407_8d38_acae12f43969", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "711af4e9-07a6-4739-a935-4263700bf14c"}, {"target_any_local_reference": {"kind": "app_package", "name": "AWSSlavePackage", "uuid": "48640dc2-c681-4407-8d38-acae12f43969"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "PE_Install_48640dc2_c681_4407_8d38_acae12f43969", "state": "ACTIVE", "attrs": {"install_runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AWSSlavePackage", "uuid": "48640dc2-c681-4407-8d38-acae12f43969"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "PackageInstallTask", "uuid": "6c95919c-4521-4154-8043-916e53b96dcd"}], "name": "be281c77_dag", "state": "ACTIVE", "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "6a1be357-04ee-48ec-9df2-af8778e4adc2"}, {"target_any_local_reference": {"kind": "app_package", "name": "AWSSlavePackage", "uuid": "48640dc2-c681-4407-8d38-acae12f43969"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "PackageInstallTask", "state": "ACTIVE", "attrs": {"exit_status": [], "script": "#!/bin/bash\nset -ex\n\nsudo yum update -y\nmysql_repo_package=\"http://repo.mysql.com/mysql-community-release-el7.rpm\"\nsudo yum install -y $mysql_repo_package\nsudo yum update -y\nsudo yum install -y sshpass mysql-community-server.x86_64\n\nsudo systemctl start mysqld\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nUPDATE mysql.user SET Password=PASSWORD('@@{MYSQL_PASSWORD}@@') WHERE User='root';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n\n### Configure mysql\nsudo sed -i '/\\[mysqld\\]/a log-bin=mysql-bin' /etc/my.cnf\nsudo sed -i \"/\\[mysqld\\]/a server-id=10$((@@{calm_array_index}@@+1))\" /etc/my.cnf\nsudo sed -i \"/\\[mysqld\\]/a binlog-format=mixed\" /etc/my.cnf\n\necho \"#master=100\" | sudo tee -a  /etc/my.cnf\n\nserver_id=`sudo cat /etc/my.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat /etc/my.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '/\\[mysqld\\]/a read_only=1' /etc/my.cnf\nfi\n\nsudo systemctl restart mysqld\nsleep 2\n", "script_type": "sh", "type": "", "command_line_args": "", "login_credential_local_reference": {"kind": "app_credential", "name": "CENTOS", "uuid": "59a0a37b-50a9-4d49-9ade-f4a9098df745"}}, "timeout_secs": "", "type": "EXEC", "variable_list": [], "uuid": "6c95919c-4521-4154-8043-916e53b96dcd"}], "description": "", "name": "c2ab2da2_runbook", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "be281c77_dag", "uuid": "6a1be357-04ee-48ec-9df2-af8778e4adc2"}, "message_list": [], "variable_list": [], "uuid": "93ee8304-ee91-4c4a-b3df-c2104a6ee7d0"}, "type": "", "uninstall_runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AWSSlavePackage", "uuid": "48640dc2-c681-4407-8d38-acae12f43969"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "PackageUninstallTask", "uuid": "af0cc854-89f0-467c-903b-d4befb04067f"}], "name": "62f03f3b_dag", "state": "ACTIVE", "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "2af37fc9-7525-41bb-b11b-47a9ca25176a"}, {"target_any_local_reference": {"kind": "app_package", "name": "AWSSlavePackage", "uuid": "48640dc2-c681-4407-8d38-acae12f43969"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "PackageUninstallTask", "state": "ACTIVE", "attrs": {"exit_status": [], "script": "#!/bin/bash", "script_type": "sh", "type": "", "command_line_args": "", "login_credential_local_reference": {"kind": "app_credential", "name": "CENTOS", "uuid": "59a0a37b-50a9-4d49-9ade-f4a9098df745"}}, "timeout_secs": "", "type": "EXEC", "variable_list": [], "uuid": "af0cc854-89f0-467c-903b-d4befb04067f"}], "description": "", "name": "88bbbcc1_runbook", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "62f03f3b_dag", "uuid": "2af37fc9-7525-41bb-b11b-47a9ca25176a"}, "message_list": [], "variable_list": [], "uuid": "2db4aaa1-8914-4007-933c-e5db449f5293"}}, "timeout_secs": "", "type": "CUSTOM_PACKAGE_INSTALL", "variable_list": [], "uuid": "2d3af2e0-8a6c-445e-bf03-db261282a2bf"}], "description": "", "name": "SYS_GEN__Runbook_Package_48640dc2_c681_4407_8d38_acae12f43969", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Package_48640dc2_c681_4407_8d38_acae12f43969", "uuid": "711af4e9-07a6-4739-a935-4263700bf14c"}, "message_list": [], "variable_list": [], "uuid": "1b4182c2-e484-4048-94db-1a6fb20ce002"}, "message_list": [], "name": "action_install"}, {"description": "System action for creating an application", "type": "system", "uuid": "6352eb01-1218-428b-80d0-6989cff05020", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AWSSlavePackage", "uuid": "48640dc2-c681-4407-8d38-acae12f43969"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__install_CRb_Package_48640dc2_c681_4407_8d38_acae12f43969", "uuid": "fba98768-d9d9-46e4-bec4-cc2eb6b79fed"}, {"kind": "app_task", "name": "SYS_GEN__create_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "21f7139a-a6c9-4cfb-88ce-86783aed2268"}, {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "e8b27752-26e8-4982-9c62-34838a2ac31c"}], "name": "SYS_GEN__Composite_DAG_Package_48640dc2_c681_4407_8d38_acae12f43969", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "21f7139a-a6c9-4cfb-88ce-86783aed2268"}, "edge_type": "inherent", "type": "", "uuid": "cf1decac-e3f5-48fb-a247-3a279885db49", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "e8b27752-26e8-4982-9c62-34838a2ac31c"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__install_CRb_Package_48640dc2_c681_4407_8d38_acae12f43969", "uuid": "fba98768-d9d9-46e4-bec4-cc2eb6b79fed"}, "edge_type": "inherent", "type": "", "uuid": "a07c01b2-25a1-4f2a-9ef3-ee8ee9f47010", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "21f7139a-a6c9-4cfb-88ce-86783aed2268"}}], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "5ae67383-dcaf-4e49-b82e-170907203f80"}, {"target_any_local_reference": {"kind": "app_package", "name": "AWSSlavePackage", "uuid": "48640dc2-c681-4407-8d38-acae12f43969"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__install_CRb_Package_48640dc2_c681_4407_8d38_acae12f43969", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Package_48640dc2_c681_4407_8d38_acae12f43969", "uuid": "1b4182c2-e484-4048-94db-1a6fb20ce002"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "fba98768-d9d9-46e4-bec4-cc2eb6b79fed"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Slave", "uuid": "e96a9978-1ad8-4ae2-b7a3-cf9b174f864a"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__create_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "d54168c9_runbook", "uuid": "674d1ef9-2649-4c20-9cc6-29c73880dfa0"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "21f7139a-a6c9-4cfb-88ce-86783aed2268"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Slave", "uuid": "e96a9978-1ad8-4ae2-b7a3-cf9b174f864a"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__start_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "a027cde0_runbook", "uuid": "be7edeb3-8796-455e-ae89-aecebe6bf01d"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "e8b27752-26e8-4982-9c62-34838a2ac31c"}], "description": "", "name": "SYS_GEN__Runbook_Package_48640dc2_c681_4407_8d38_acae12f43969", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Package_48640dc2_c681_4407_8d38_acae12f43969", "uuid": "5ae67383-dcaf-4e49-b82e-170907203f80"}, "message_list": [], "variable_list": [], "uuid": "76661af1-022e-4068-a3b9-7cf477224e27"}, "message_list": [], "name": "action_create"}, {"description": "System action for uninstalling an application", "type": "system", "uuid": "71027afe-3345-431d-a3a8-c5a486a33ad5", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AWSSlavePackage", "uuid": "48640dc2-c681-4407-8d38-acae12f43969"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "PE_Uninstall_48640dc2_c681_4407_8d38_acae12f43969", "uuid": "ed35285a-1560-4ec2-aaed-71f989d47482"}], "name": "SYS_GEN__DAG_Package_48640dc2_c681_4407_8d38_acae12f43969", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "7d68bd75-e0a9-434f-95a4-685e1a7250b7"}, {"target_any_local_reference": {"kind": "app_package", "name": "AWSSlavePackage", "uuid": "48640dc2-c681-4407-8d38-acae12f43969"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "PE_Uninstall_48640dc2_c681_4407_8d38_acae12f43969", "state": "ACTIVE", "attrs": {"install_runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AWSSlavePackage", "uuid": "48640dc2-c681-4407-8d38-acae12f43969"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "PackageInstallTask", "uuid": "6c95919c-4521-4154-8043-916e53b96dcd"}], "name": "be281c77_dag", "state": "ACTIVE", "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "6a1be357-04ee-48ec-9df2-af8778e4adc2"}, {"target_any_local_reference": {"kind": "app_package", "name": "AWSSlavePackage", "uuid": "48640dc2-c681-4407-8d38-acae12f43969"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "PackageInstallTask", "state": "ACTIVE", "attrs": {"exit_status": [], "script": "#!/bin/bash\nset -ex\n\nsudo yum update -y\nmysql_repo_package=\"http://repo.mysql.com/mysql-community-release-el7.rpm\"\nsudo yum install -y $mysql_repo_package\nsudo yum update -y\nsudo yum install -y sshpass mysql-community-server.x86_64\n\nsudo systemctl start mysqld\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nUPDATE mysql.user SET Password=PASSWORD('@@{MYSQL_PASSWORD}@@') WHERE User='root';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n\n### Configure mysql\nsudo sed -i '/\\[mysqld\\]/a log-bin=mysql-bin' /etc/my.cnf\nsudo sed -i \"/\\[mysqld\\]/a server-id=10$((@@{calm_array_index}@@+1))\" /etc/my.cnf\nsudo sed -i \"/\\[mysqld\\]/a binlog-format=mixed\" /etc/my.cnf\n\necho \"#master=100\" | sudo tee -a  /etc/my.cnf\n\nserver_id=`sudo cat /etc/my.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat /etc/my.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '/\\[mysqld\\]/a read_only=1' /etc/my.cnf\nfi\n\nsudo systemctl restart mysqld\nsleep 2\n", "script_type": "sh", "type": "", "command_line_args": "", "login_credential_local_reference": {"kind": "app_credential", "name": "CENTOS", "uuid": "59a0a37b-50a9-4d49-9ade-f4a9098df745"}}, "timeout_secs": "", "type": "EXEC", "variable_list": [], "uuid": "6c95919c-4521-4154-8043-916e53b96dcd"}], "description": "", "name": "c2ab2da2_runbook", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "be281c77_dag", "uuid": "6a1be357-04ee-48ec-9df2-af8778e4adc2"}, "message_list": [], "variable_list": [], "uuid": "93ee8304-ee91-4c4a-b3df-c2104a6ee7d0"}, "type": "", "uninstall_runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AWSSlavePackage", "uuid": "48640dc2-c681-4407-8d38-acae12f43969"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "PackageUninstallTask", "uuid": "af0cc854-89f0-467c-903b-d4befb04067f"}], "name": "62f03f3b_dag", "state": "ACTIVE", "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "2af37fc9-7525-41bb-b11b-47a9ca25176a"}, {"target_any_local_reference": {"kind": "app_package", "name": "AWSSlavePackage", "uuid": "48640dc2-c681-4407-8d38-acae12f43969"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "PackageUninstallTask", "state": "ACTIVE", "attrs": {"exit_status": [], "script": "#!/bin/bash", "script_type": "sh", "type": "", "command_line_args": "", "login_credential_local_reference": {"kind": "app_credential", "name": "CENTOS", "uuid": "59a0a37b-50a9-4d49-9ade-f4a9098df745"}}, "timeout_secs": "", "type": "EXEC", "variable_list": [], "uuid": "af0cc854-89f0-467c-903b-d4befb04067f"}], "description": "", "name": "88bbbcc1_runbook", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "62f03f3b_dag", "uuid": "2af37fc9-7525-41bb-b11b-47a9ca25176a"}, "message_list": [], "variable_list": [], "uuid": "2db4aaa1-8914-4007-933c-e5db449f5293"}}, "timeout_secs": "", "type": "CUSTOM_PACKAGE_UNINSTALL", "variable_list": [], "uuid": "ed35285a-1560-4ec2-aaed-71f989d47482"}], "description": "", "name": "SYS_GEN__Runbook_Package_48640dc2_c681_4407_8d38_acae12f43969", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Package_48640dc2_c681_4407_8d38_acae12f43969", "uuid": "7d68bd75-e0a9-434f-95a4-685e1a7250b7"}, "message_list": [], "variable_list": [], "uuid": "149bb726-c050-4d8f-87ef-358f660b3c8c"}, "message_list": [], "name": "action_uninstall"}, {"description": "System action for deleting an application. Deletes physical machines as well", "type": "system", "uuid": "90351050-9ea6-4157-84b1-37dbac9f31d4", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AWSSlavePackage", "uuid": "48640dc2-c681-4407-8d38-acae12f43969"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "89dc12cd-c3eb-4c30-89e8-9a97879c7964"}, {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "0f7e7be4-f4f7-4a02-95e2-aaffb76f21e4"}, {"kind": "app_task", "name": "SYS_GEN__uninstall_CRb_Package_48640dc2_c681_4407_8d38_acae12f43969", "uuid": "c0065ea8-7831-4999-845e-179803ae858c"}], "name": "SYS_GEN__Composite_DAG_Package_48640dc2_c681_4407_8d38_acae12f43969", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "89dc12cd-c3eb-4c30-89e8-9a97879c7964"}, "edge_type": "inherent", "type": "", "uuid": "68b61c6a-000e-4346-b266-211430ec1291", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "0f7e7be4-f4f7-4a02-95e2-aaffb76f21e4"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "0f7e7be4-f4f7-4a02-95e2-aaffb76f21e4"}, "edge_type": "inherent", "type": "", "uuid": "1ee8e7b0-f9f6-4bbd-8a9d-66e16bf0b60e", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__uninstall_CRb_Package_48640dc2_c681_4407_8d38_acae12f43969", "uuid": "c0065ea8-7831-4999-845e-179803ae858c"}}], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "4700a9a0-06ad-4577-a268-3d89b1c8ac6f"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Slave", "uuid": "e96a9978-1ad8-4ae2-b7a3-cf9b174f864a"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__stop_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "4a2ad0be_runbook", "uuid": "769af1fb-afad-4878-be4f-500f9bdc8b7f"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "89dc12cd-c3eb-4c30-89e8-9a97879c7964"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Slave", "uuid": "e96a9978-1ad8-4ae2-b7a3-cf9b174f864a"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__delete_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "92247e35_runbook", "uuid": "8313c934-78a4-457c-8403-d1223a46c2c3"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "0f7e7be4-f4f7-4a02-95e2-aaffb76f21e4"}, {"target_any_local_reference": {"kind": "app_package", "name": "AWSSlavePackage", "uuid": "48640dc2-c681-4407-8d38-acae12f43969"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__uninstall_CRb_Package_48640dc2_c681_4407_8d38_acae12f43969", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Package_48640dc2_c681_4407_8d38_acae12f43969", "uuid": "149bb726-c050-4d8f-87ef-358f660b3c8c"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "c0065ea8-7831-4999-845e-179803ae858c"}], "description": "", "name": "SYS_GEN__Runbook_Package_48640dc2_c681_4407_8d38_acae12f43969", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Package_48640dc2_c681_4407_8d38_acae12f43969", "uuid": "4700a9a0-06ad-4577-a268-3d89b1c8ac6f"}, "message_list": [], "variable_list": [], "uuid": "ea147aa5-6d11-41fb-98b7-346a6eb49369"}, "message_list": [], "name": "action_delete"}, {"description": "System action for deleting an application. Does not delete physical machines", "type": "system", "uuid": "c3129fc8-6be7-49e3-a80a-528391317e9f", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AWSSlavePackage", "uuid": "48640dc2-c681-4407-8d38-acae12f43969"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "35c63184-8cc4-4c8e-91e2-bba8e1bfc620"}, {"kind": "app_task", "name": "SYS_GEN__Package_Element_Delete_48640dc2_c681_4407_8d38_acae12f43969", "uuid": "f81c1042-3e27-490d-bc4f-8fb2740bfca0"}], "name": "SYS_GEN__Composite_DAG_Package_48640dc2_c681_4407_8d38_acae12f43969", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "35c63184-8cc4-4c8e-91e2-bba8e1bfc620"}, "edge_type": "inherent", "type": "", "uuid": "97b12582-e82f-4789-b237-e5160ec6f1e8", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__Package_Element_Delete_48640dc2_c681_4407_8d38_acae12f43969", "uuid": "f81c1042-3e27-490d-bc4f-8fb2740bfca0"}}], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "332c49e9-9f3f-4852-a201-08a0f352ecbe"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Slave", "uuid": "e96a9978-1ad8-4ae2-b7a3-cf9b174f864a"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__soft_delete_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "689520c6-6efb-4d4a-a874-74418185d66d"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "35c63184-8cc4-4c8e-91e2-bba8e1bfc620"}, {"target_any_local_reference": {"kind": "app_package", "name": "AWSSlavePackage", "uuid": "48640dc2-c681-4407-8d38-acae12f43969"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Package_Element_Delete_48640dc2_c681_4407_8d38_acae12f43969", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "", "type": "SOFT_DELETE_ELEMENT", "variable_list": [], "uuid": "f81c1042-3e27-490d-bc4f-8fb2740bfca0"}], "description": "", "name": "SYS_GEN__Runbook_Package_48640dc2_c681_4407_8d38_acae12f43969", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Package_48640dc2_c681_4407_8d38_acae12f43969", "uuid": "332c49e9-9f3f-4852-a201-08a0f352ecbe"}, "message_list": [], "variable_list": [], "uuid": "04215004-6709-4d7a-98cc-b181fd03f14e"}, "message_list": [], "name": "action_soft_delete"}, {"description": "System action for starting an application", "type": "system", "uuid": "3bf3931c-b162-48c4-8d8c-f92ac9e168c6", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AWSSlavePackage", "uuid": "48640dc2-c681-4407-8d38-acae12f43969"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "308ddfcc-007f-4aa1-8286-78b29859b2e2"}], "name": "SYS_GEN__Composite_DAG_Package_48640dc2_c681_4407_8d38_acae12f43969", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "3a6d42f9-e215-47a2-98f2-4a39623b6479"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Slave", "uuid": "e96a9978-1ad8-4ae2-b7a3-cf9b174f864a"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__start_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "a027cde0_runbook", "uuid": "be7edeb3-8796-455e-ae89-aecebe6bf01d"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "308ddfcc-007f-4aa1-8286-78b29859b2e2"}], "description": "", "name": "SYS_GEN__Runbook_Package_48640dc2_c681_4407_8d38_acae12f43969", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Package_48640dc2_c681_4407_8d38_acae12f43969", "uuid": "3a6d42f9-e215-47a2-98f2-4a39623b6479"}, "message_list": [], "variable_list": [], "uuid": "8505bbe4-21e6-4166-a9d2-75dd8a49044b"}, "message_list": [], "name": "action_start"}, {"description": "System action for stopping an application", "type": "system", "uuid": "f2071e47-9d9e-4d24-9f70-798e0f98f3ec", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AWSSlavePackage", "uuid": "48640dc2-c681-4407-8d38-acae12f43969"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "uuid": "d35477d9-5503-4073-9cfb-7914ddcdf2af"}], "name": "SYS_GEN__Composite_DAG_Package_48640dc2_c681_4407_8d38_acae12f43969", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "783caeed-8789-4e11-afb6-bc7ed4027511"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Slave", "uuid": "e96a9978-1ad8-4ae2-b7a3-cf9b174f864a"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__stop_CRb_Service_e96a9978_1ad8_4ae2_b7a3_cf9b174f864a", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "4a2ad0be_runbook", "uuid": "769af1fb-afad-4878-be4f-500f9bdc8b7f"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "d35477d9-5503-4073-9cfb-7914ddcdf2af"}], "description": "", "name": "SYS_GEN__Runbook_Package_48640dc2_c681_4407_8d38_acae12f43969", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Package_48640dc2_c681_4407_8d38_acae12f43969", "uuid": "783caeed-8789-4e11-afb6-bc7ed4027511"}, "message_list": [], "variable_list": [], "uuid": "a927be93-d49f-4882-8a86-a74f42427870"}, "message_list": [], "name": "action_stop"}], "type": "DEB", "service_local_reference_list": [{"kind": "app_service", "name": "MySQL_Slave", "uuid": "e96a9978-1ad8-4ae2-b7a3-cf9b174f864a"}], "name": "AWSSlavePackage", "state": "ACTIVE", "version": "", "editables": {}, "message_list": [], "options": {"install_runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AWSSlavePackage", "uuid": "48640dc2-c681-4407-8d38-acae12f43969"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "PackageInstallTask", "uuid": "6c95919c-4521-4154-8043-916e53b96dcd"}], "name": "be281c77_dag", "state": "ACTIVE", "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "6a1be357-04ee-48ec-9df2-af8778e4adc2"}, {"target_any_local_reference": {"kind": "app_package", "name": "AWSSlavePackage", "uuid": "48640dc2-c681-4407-8d38-acae12f43969"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "PackageInstallTask", "state": "ACTIVE", "attrs": {"exit_status": [], "script": "#!/bin/bash\nset -ex\n\nsudo yum update -y\nmysql_repo_package=\"http://repo.mysql.com/mysql-community-release-el7.rpm\"\nsudo yum install -y $mysql_repo_package\nsudo yum update -y\nsudo yum install -y sshpass mysql-community-server.x86_64\n\nsudo systemctl start mysqld\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nUPDATE mysql.user SET Password=PASSWORD('@@{MYSQL_PASSWORD}@@') WHERE User='root';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n\n### Configure mysql\nsudo sed -i '/\\[mysqld\\]/a log-bin=mysql-bin' /etc/my.cnf\nsudo sed -i \"/\\[mysqld\\]/a server-id=10$((@@{calm_array_index}@@+1))\" /etc/my.cnf\nsudo sed -i \"/\\[mysqld\\]/a binlog-format=mixed\" /etc/my.cnf\n\necho \"#master=100\" | sudo tee -a  /etc/my.cnf\n\nserver_id=`sudo cat /etc/my.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat /etc/my.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '/\\[mysqld\\]/a read_only=1' /etc/my.cnf\nfi\n\nsudo systemctl restart mysqld\nsleep 2\n", "script_type": "sh", "type": "", "command_line_args": "", "login_credential_local_reference": {"kind": "app_credential", "name": "CENTOS", "uuid": "59a0a37b-50a9-4d49-9ade-f4a9098df745"}}, "timeout_secs": "", "type": "EXEC", "variable_list": [], "uuid": "6c95919c-4521-4154-8043-916e53b96dcd"}], "description": "", "name": "c2ab2da2_runbook", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "be281c77_dag", "uuid": "6a1be357-04ee-48ec-9df2-af8778e4adc2"}, "message_list": [], "variable_list": [], "uuid": "93ee8304-ee91-4c4a-b3df-c2104a6ee7d0"}, "type": "", "uninstall_runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AWSSlavePackage", "uuid": "48640dc2-c681-4407-8d38-acae12f43969"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "PackageUninstallTask", "uuid": "af0cc854-89f0-467c-903b-d4befb04067f"}], "name": "62f03f3b_dag", "state": "ACTIVE", "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "2af37fc9-7525-41bb-b11b-47a9ca25176a"}, {"target_any_local_reference": {"kind": "app_package", "name": "AWSSlavePackage", "uuid": "48640dc2-c681-4407-8d38-acae12f43969"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "PackageUninstallTask", "state": "ACTIVE", "attrs": {"exit_status": [], "script": "#!/bin/bash", "script_type": "sh", "type": "", "command_line_args": "", "login_credential_local_reference": {"kind": "app_credential", "name": "CENTOS", "uuid": "59a0a37b-50a9-4d49-9ade-f4a9098df745"}}, "timeout_secs": "", "type": "EXEC", "variable_list": [], "uuid": "af0cc854-89f0-467c-903b-d4befb04067f"}], "description": "", "name": "88bbbcc1_runbook", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "62f03f3b_dag", "uuid": "2af37fc9-7525-41bb-b11b-47a9ca25176a"}, "message_list": [], "variable_list": [], "uuid": "2db4aaa1-8914-4007-933c-e5db449f5293"}}, "variable_list": [], "uuid": "48640dc2-c681-4407-8d38-acae12f43969"}, {"description": "", "action_list": [{"description": "System action for installing an application", "type": "system", "uuid": "00e0d953-34e5-42e4-9af1-9d04172c89bb", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "CENTOS_MASTER", "uuid": "0dffd3e5-437e-4e28-82d1-9ead366703a5"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "Image Fetch task for VM", "uuid": "7456a01b-6a58-4bc4-b320-4f3825ff9ce1"}], "name": "SYS_GEN__DAG_Package_0dffd3e5_437e_4e28_82d1_9ead366703a5", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "12a72a59-76e2-4473-929f-db7e5e50962c"}, {"target_any_local_reference": {"kind": "app_package", "name": "CENTOS_MASTER", "uuid": "0dffd3e5-437e-4e28-82d1-9ead366703a5"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "Image Fetch task for VM", "state": "ACTIVE", "attrs": {"type": "", "name": "CentOS-7.4-MySQL-Master", "resources": {"image_type": "DISK_IMAGE", "checksum": {"checksum_algorithm": "", "type": "", "checksum_value": ""}, "source_uri": "http://download.nutanix.com/calm/CentOS-7-x86_64-GenericCloud.qcow2", "version": {"product_version": "", "type": "", "product_name": ""}, "architecture": "X86_64", "type": ""}, "description": ""}, "timeout_secs": "", "type": "SUBSTRATE_IMAGE_FETCH", "variable_list": [], "uuid": "7456a01b-6a58-4bc4-b320-4f3825ff9ce1"}], "description": "", "name": "SYS_GEN__Runbook_Package_0dffd3e5_437e_4e28_82d1_9ead366703a5", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Package_0dffd3e5_437e_4e28_82d1_9ead366703a5", "uuid": "12a72a59-76e2-4473-929f-db7e5e50962c"}, "message_list": [], "variable_list": [], "uuid": "1b273b7b-4766-4f5b-ac6e-dfdff1e6db86"}, "message_list": [], "name": "action_install"}, {"description": "System action for creating an application", "type": "system", "uuid": "7850d2d5-0afc-4deb-bbd8-4aed99e0d569", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "CENTOS_MASTER", "uuid": "0dffd3e5-437e-4e28-82d1-9ead366703a5"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__install_CRb_Package_0dffd3e5_437e_4e28_82d1_9ead366703a5", "uuid": "bd1af84b-dcb5-4752-a8ca-fab136d0a23f"}], "name": "SYS_GEN__Composite_DAG_Package_0dffd3e5_437e_4e28_82d1_9ead366703a5", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "744dc12b-d7a2-4bad-84aa-4365716ace67"}, {"target_any_local_reference": {"kind": "app_package", "name": "CENTOS_MASTER", "uuid": "0dffd3e5-437e-4e28-82d1-9ead366703a5"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__install_CRb_Package_0dffd3e5_437e_4e28_82d1_9ead366703a5", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Package_0dffd3e5_437e_4e28_82d1_9ead366703a5", "uuid": "1b273b7b-4766-4f5b-ac6e-dfdff1e6db86"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "bd1af84b-dcb5-4752-a8ca-fab136d0a23f"}], "description": "", "name": "SYS_GEN__Runbook_Package_0dffd3e5_437e_4e28_82d1_9ead366703a5", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Package_0dffd3e5_437e_4e28_82d1_9ead366703a5", "uuid": "744dc12b-d7a2-4bad-84aa-4365716ace67"}, "message_list": [], "variable_list": [], "uuid": "2159052c-d97b-4b94-b50a-b52c6f52317e"}, "message_list": [], "name": "action_create"}, {"description": "System action for uninstalling an application", "type": "system", "uuid": "835a13d6-3f10-4fd4-905e-ed29124ce0ee", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "CENTOS_MASTER", "uuid": "0dffd3e5-437e-4e28-82d1-9ead366703a5"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__DAG_Package_0dffd3e5_437e_4e28_82d1_9ead366703a5", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "6bf7d4de-be2a-42b9-a13a-f1cf416dd975"}], "description": "", "name": "SYS_GEN__Runbook_Package_0dffd3e5_437e_4e28_82d1_9ead366703a5", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Package_0dffd3e5_437e_4e28_82d1_9ead366703a5", "uuid": "6bf7d4de-be2a-42b9-a13a-f1cf416dd975"}, "message_list": [], "variable_list": [], "uuid": "cc741402-c6f3-48ca-a720-664439dcb3b8"}, "message_list": [], "name": "action_uninstall"}, {"description": "System action for deleting an application. Deletes physical machines as well", "type": "system", "uuid": "99149e6d-ce0c-4444-84c2-9193dac1c1ec", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "CENTOS_MASTER", "uuid": "0dffd3e5-437e-4e28-82d1-9ead366703a5"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__uninstall_CRb_Package_0dffd3e5_437e_4e28_82d1_9ead366703a5", "uuid": "ac699652-4c99-40e8-a2fa-1a8236b986c0"}], "name": "SYS_GEN__Composite_DAG_Package_0dffd3e5_437e_4e28_82d1_9ead366703a5", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "8d79d612-30bd-4fd8-bfe8-f95967c6a789"}, {"target_any_local_reference": {"kind": "app_package", "name": "CENTOS_MASTER", "uuid": "0dffd3e5-437e-4e28-82d1-9ead366703a5"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__uninstall_CRb_Package_0dffd3e5_437e_4e28_82d1_9ead366703a5", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Package_0dffd3e5_437e_4e28_82d1_9ead366703a5", "uuid": "cc741402-c6f3-48ca-a720-664439dcb3b8"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "ac699652-4c99-40e8-a2fa-1a8236b986c0"}], "description": "", "name": "SYS_GEN__Runbook_Package_0dffd3e5_437e_4e28_82d1_9ead366703a5", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Package_0dffd3e5_437e_4e28_82d1_9ead366703a5", "uuid": "8d79d612-30bd-4fd8-bfe8-f95967c6a789"}, "message_list": [], "variable_list": [], "uuid": "7b4fd5ab-e0b2-4fc6-87c8-787d0655c88b"}, "message_list": [], "name": "action_delete"}, {"description": "System action for deleting an application. Does not delete physical machines", "type": "system", "uuid": "c4c5c952-c656-4a3c-ad0c-f6baaa940bb7", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "CENTOS_MASTER", "uuid": "0dffd3e5-437e-4e28-82d1-9ead366703a5"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__Package_Element_Delete_0dffd3e5_437e_4e28_82d1_9ead366703a5", "uuid": "60e97205-5e15-4522-906e-d25f4a1d8b2e"}], "name": "SYS_GEN__Composite_DAG_Package_0dffd3e5_437e_4e28_82d1_9ead366703a5", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "98ec3bec-f07d-468d-98ac-5151bb494bb4"}, {"target_any_local_reference": {"kind": "app_package", "name": "CENTOS_MASTER", "uuid": "0dffd3e5-437e-4e28-82d1-9ead366703a5"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Package_Element_Delete_0dffd3e5_437e_4e28_82d1_9ead366703a5", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "", "type": "SOFT_DELETE_ELEMENT", "variable_list": [], "uuid": "60e97205-5e15-4522-906e-d25f4a1d8b2e"}], "description": "", "name": "SYS_GEN__Runbook_Package_0dffd3e5_437e_4e28_82d1_9ead366703a5", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Package_0dffd3e5_437e_4e28_82d1_9ead366703a5", "uuid": "98ec3bec-f07d-468d-98ac-5151bb494bb4"}, "message_list": [], "variable_list": [], "uuid": "a5f9598b-a3e1-4cc8-a146-7857088b4382"}, "message_list": [], "name": "action_soft_delete"}, {"description": "System action for starting an application", "type": "system", "uuid": "e9f5587f-c328-45f8-9fb0-b1727408a1a1", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "CENTOS_MASTER", "uuid": "0dffd3e5-437e-4e28-82d1-9ead366703a5"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Composite_DAG_Package_0dffd3e5_437e_4e28_82d1_9ead366703a5", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "730a9106-652b-4ff3-8cd1-cec87e233400"}], "description": "", "name": "SYS_GEN__Runbook_Package_0dffd3e5_437e_4e28_82d1_9ead366703a5", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Package_0dffd3e5_437e_4e28_82d1_9ead366703a5", "uuid": "730a9106-652b-4ff3-8cd1-cec87e233400"}, "message_list": [], "variable_list": [], "uuid": "401c638a-b02c-4238-af30-17786cffbe44"}, "message_list": [], "name": "action_start"}, {"description": "System action for stopping an application", "type": "system", "uuid": "d3f6656a-9260-415a-a211-8c24d12b51c4", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "CENTOS_MASTER", "uuid": "0dffd3e5-437e-4e28-82d1-9ead366703a5"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Composite_DAG_Package_0dffd3e5_437e_4e28_82d1_9ead366703a5", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "85810880-39d3-4b35-b00e-95fdeb7fba4b"}], "description": "", "name": "SYS_GEN__Runbook_Package_0dffd3e5_437e_4e28_82d1_9ead366703a5", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Package_0dffd3e5_437e_4e28_82d1_9ead366703a5", "uuid": "85810880-39d3-4b35-b00e-95fdeb7fba4b"}, "message_list": [], "variable_list": [], "uuid": "a393c226-e87e-44cb-ab62-9dd7d413c5e9"}, "message_list": [], "name": "action_stop"}], "type": "SUBSTRATE_IMAGE", "service_local_reference_list": [], "name": "CENTOS_MASTER", "state": "ACTIVE", "version": "", "editables": {}, "message_list": [], "options": {"type": "", "name": "CentOS-7.4-MySQL-Master", "resources": {"image_type": "DISK_IMAGE", "checksum": {"checksum_algorithm": "", "type": "", "checksum_value": ""}, "source_uri": "http://download.nutanix.com/calm/CentOS-7-x86_64-GenericCloud.qcow2", "version": {"product_version": "", "type": "", "product_name": ""}, "architecture": "X86_64", "type": ""}, "description": ""}, "variable_list": [], "uuid": "0dffd3e5-437e-4e28-82d1-9ead366703a5"}, {"description": "", "action_list": [{"description": "System action for installing an application", "type": "system", "uuid": "6bc3195d-ce20-46d9-a7f2-4461f2771b88", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "CENTOS_SLAVE", "uuid": "060ac4fc-f5e7-4049-bef8-28790bf8dea3"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "Image Fetch task for VM", "uuid": "921e92ae-9042-4c00-890c-f25fb6ccaa50"}], "name": "SYS_GEN__DAG_Package_060ac4fc_f5e7_4049_bef8_28790bf8dea3", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "dc31f42f-61fa-42ef-adf1-d7badb0613cc"}, {"target_any_local_reference": {"kind": "app_package", "name": "CENTOS_SLAVE", "uuid": "060ac4fc-f5e7-4049-bef8-28790bf8dea3"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "Image Fetch task for VM", "state": "ACTIVE", "attrs": {"type": "", "name": "CentOS-7.4-MySQL-Slave", "resources": {"image_type": "DISK_IMAGE", "checksum": {"checksum_algorithm": "", "type": "", "checksum_value": ""}, "source_uri": "http://download.nutanix.com/calm/CentOS-7-x86_64-GenericCloud.qcow2", "version": {"product_version": "", "type": "", "product_name": ""}, "architecture": "X86_64", "type": ""}, "description": ""}, "timeout_secs": "", "type": "SUBSTRATE_IMAGE_FETCH", "variable_list": [], "uuid": "921e92ae-9042-4c00-890c-f25fb6ccaa50"}], "description": "", "name": "SYS_GEN__Runbook_Package_060ac4fc_f5e7_4049_bef8_28790bf8dea3", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Package_060ac4fc_f5e7_4049_bef8_28790bf8dea3", "uuid": "dc31f42f-61fa-42ef-adf1-d7badb0613cc"}, "message_list": [], "variable_list": [], "uuid": "49114d41-666f-4763-bfef-b13d7a17f495"}, "message_list": [], "name": "action_install"}, {"description": "System action for creating an application", "type": "system", "uuid": "427e6ef9-281b-44ba-8d66-c400b4974ccb", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "CENTOS_SLAVE", "uuid": "060ac4fc-f5e7-4049-bef8-28790bf8dea3"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__install_CRb_Package_060ac4fc_f5e7_4049_bef8_28790bf8dea3", "uuid": "37367fa1-aa68-4d30-871f-5ffbfc9701bd"}], "name": "SYS_GEN__Composite_DAG_Package_060ac4fc_f5e7_4049_bef8_28790bf8dea3", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "9cb8b8d4-53ab-495f-8807-2e2bc2ee099b"}, {"target_any_local_reference": {"kind": "app_package", "name": "CENTOS_SLAVE", "uuid": "060ac4fc-f5e7-4049-bef8-28790bf8dea3"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__install_CRb_Package_060ac4fc_f5e7_4049_bef8_28790bf8dea3", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Package_060ac4fc_f5e7_4049_bef8_28790bf8dea3", "uuid": "49114d41-666f-4763-bfef-b13d7a17f495"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "37367fa1-aa68-4d30-871f-5ffbfc9701bd"}], "description": "", "name": "SYS_GEN__Runbook_Package_060ac4fc_f5e7_4049_bef8_28790bf8dea3", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Package_060ac4fc_f5e7_4049_bef8_28790bf8dea3", "uuid": "9cb8b8d4-53ab-495f-8807-2e2bc2ee099b"}, "message_list": [], "variable_list": [], "uuid": "eac3795a-776a-4399-9475-dcbbc8dad00b"}, "message_list": [], "name": "action_create"}, {"description": "System action for uninstalling an application", "type": "system", "uuid": "5eb53e2b-beaf-48d5-b9b7-179aaec6f452", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "CENTOS_SLAVE", "uuid": "060ac4fc-f5e7-4049-bef8-28790bf8dea3"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__DAG_Package_060ac4fc_f5e7_4049_bef8_28790bf8dea3", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "e09566bf-121b-4357-bfe9-557b084aefd5"}], "description": "", "name": "SYS_GEN__Runbook_Package_060ac4fc_f5e7_4049_bef8_28790bf8dea3", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Package_060ac4fc_f5e7_4049_bef8_28790bf8dea3", "uuid": "e09566bf-121b-4357-bfe9-557b084aefd5"}, "message_list": [], "variable_list": [], "uuid": "b80cb21c-e346-4a94-9a8c-8fcce4730cb5"}, "message_list": [], "name": "action_uninstall"}, {"description": "System action for deleting an application. Deletes physical machines as well", "type": "system", "uuid": "1dd130b0-5542-452b-87fc-ee11a49de758", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "CENTOS_SLAVE", "uuid": "060ac4fc-f5e7-4049-bef8-28790bf8dea3"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__uninstall_CRb_Package_060ac4fc_f5e7_4049_bef8_28790bf8dea3", "uuid": "2a093255-408e-4b9d-b200-205d121f31a5"}], "name": "SYS_GEN__Composite_DAG_Package_060ac4fc_f5e7_4049_bef8_28790bf8dea3", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "1f549d83-31c3-45f2-9218-b314423d55aa"}, {"target_any_local_reference": {"kind": "app_package", "name": "CENTOS_SLAVE", "uuid": "060ac4fc-f5e7-4049-bef8-28790bf8dea3"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__uninstall_CRb_Package_060ac4fc_f5e7_4049_bef8_28790bf8dea3", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Package_060ac4fc_f5e7_4049_bef8_28790bf8dea3", "uuid": "b80cb21c-e346-4a94-9a8c-8fcce4730cb5"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "2a093255-408e-4b9d-b200-205d121f31a5"}], "description": "", "name": "SYS_GEN__Runbook_Package_060ac4fc_f5e7_4049_bef8_28790bf8dea3", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Package_060ac4fc_f5e7_4049_bef8_28790bf8dea3", "uuid": "1f549d83-31c3-45f2-9218-b314423d55aa"}, "message_list": [], "variable_list": [], "uuid": "ee9bef02-2821-4170-8bee-393dc9d67867"}, "message_list": [], "name": "action_delete"}, {"description": "System action for deleting an application. Does not delete physical machines", "type": "system", "uuid": "2e1ba518-0142-430c-8571-5c805a8fdc48", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "CENTOS_SLAVE", "uuid": "060ac4fc-f5e7-4049-bef8-28790bf8dea3"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__Package_Element_Delete_060ac4fc_f5e7_4049_bef8_28790bf8dea3", "uuid": "85819196-9ef3-4e71-a125-105c045cc460"}], "name": "SYS_GEN__Composite_DAG_Package_060ac4fc_f5e7_4049_bef8_28790bf8dea3", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "182dc7a7-4578-4bbc-96ab-81f02185590b"}, {"target_any_local_reference": {"kind": "app_package", "name": "CENTOS_SLAVE", "uuid": "060ac4fc-f5e7-4049-bef8-28790bf8dea3"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Package_Element_Delete_060ac4fc_f5e7_4049_bef8_28790bf8dea3", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "", "type": "SOFT_DELETE_ELEMENT", "variable_list": [], "uuid": "85819196-9ef3-4e71-a125-105c045cc460"}], "description": "", "name": "SYS_GEN__Runbook_Package_060ac4fc_f5e7_4049_bef8_28790bf8dea3", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Package_060ac4fc_f5e7_4049_bef8_28790bf8dea3", "uuid": "182dc7a7-4578-4bbc-96ab-81f02185590b"}, "message_list": [], "variable_list": [], "uuid": "8e801ea1-becd-41e4-9ce7-3881bddc98a4"}, "message_list": [], "name": "action_soft_delete"}, {"description": "System action for starting an application", "type": "system", "uuid": "e1be743e-7a3c-4eb4-a026-c62b6757cbeb", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "CENTOS_SLAVE", "uuid": "060ac4fc-f5e7-4049-bef8-28790bf8dea3"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Composite_DAG_Package_060ac4fc_f5e7_4049_bef8_28790bf8dea3", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "a36c182d-d4bf-4909-9c82-0a92597ae328"}], "description": "", "name": "SYS_GEN__Runbook_Package_060ac4fc_f5e7_4049_bef8_28790bf8dea3", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Package_060ac4fc_f5e7_4049_bef8_28790bf8dea3", "uuid": "a36c182d-d4bf-4909-9c82-0a92597ae328"}, "message_list": [], "variable_list": [], "uuid": "611c2824-a06f-49ed-8b93-2c26a93289a9"}, "message_list": [], "name": "action_start"}, {"description": "System action for stopping an application", "type": "system", "uuid": "0a0d7c5c-4df5-47aa-9406-4055cf8d5769", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "CENTOS_SLAVE", "uuid": "060ac4fc-f5e7-4049-bef8-28790bf8dea3"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Composite_DAG_Package_060ac4fc_f5e7_4049_bef8_28790bf8dea3", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "f1279846-c142-4d49-9d8c-74616069ab65"}], "description": "", "name": "SYS_GEN__Runbook_Package_060ac4fc_f5e7_4049_bef8_28790bf8dea3", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Package_060ac4fc_f5e7_4049_bef8_28790bf8dea3", "uuid": "f1279846-c142-4d49-9d8c-74616069ab65"}, "message_list": [], "variable_list": [], "uuid": "6d487002-93b1-497c-9b07-90bd20b7e267"}, "message_list": [], "name": "action_stop"}], "type": "SUBSTRATE_IMAGE", "service_local_reference_list": [], "name": "CENTOS_SLAVE", "state": "ACTIVE", "version": "", "editables": {}, "message_list": [], "options": {"type": "", "name": "CentOS-7.4-MySQL-Slave", "resources": {"image_type": "DISK_IMAGE", "checksum": {"checksum_algorithm": "", "type": "", "checksum_value": ""}, "source_uri": "http://download.nutanix.com/calm/CentOS-7-x86_64-GenericCloud.qcow2", "version": {"product_version": "", "type": "", "product_name": ""}, "architecture": "X86_64", "type": ""}, "description": ""}, "variable_list": [], "uuid": "060ac4fc-f5e7-4049-bef8-28790bf8dea3"}]}, "name": "MySQL - Project"}, "spec": {"description": "Accessibility:\n* sudo mysql -u root -p[PASSWORD]  \n* default password [ nutanix/4u ]", "resources": {"service_definition_list": [{"singleton": false, "name": "MySQL_Master", "action_list": [{"critical": false, "type": "system", "description": "System action for creating an application", "name": "action_create", "runbook": {"variable_list": [], "task_definition_list": [{"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Master"}, "description": "", "child_tasks_local_reference_list": [{"kind": "app_task", "name": "ConfigureMaster"}, {"kind": "app_task", "name": "GetDBState"}], "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "ConfigureMaster"}, "edge_type": "user_defined", "type": "", "to_task_reference": {"kind": "app_task", "name": "GetDBState"}}], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "name": "a6df9f70_dag"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Master"}, "description": "", "child_tasks_local_reference_list": [], "attrs": {"exit_status": [], "script": "#!/bin/bash\nset -ex\n\n### Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\n\nserver_id=`sudo cat /etc/my.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat /etc/my.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\n#Run only on master\nif [ ${is_master} -eq 0 ]\nthen\nsudo sed -i \"/\\[mysqld\\]/a innodb_flush_log_at_trx_commit=1\" /etc/my.cnf\nsudo sed -i \"/\\[mysqld\\]/a sync_binlog=1\" /etc/my.cnf\n\nsudo mysql -u root -p${mysql_password}<<EOF\nGRANT REPLICATION SLAVE ON *.* to replica@'%' IDENTIFIED BY \"${mysql_password}\";\nFLUSH PRIVILEGES;\nEOF\n\nfi\n\nsudo touch /var/run/mysqld/mysqld.sock\nsudo chown mysql:mysql /var/run/mysqld/mysqld.sock\nsudo systemctl restart mysqld\n\nsleep 5", "script_type": "sh", "type": "", "command_line_args": "", "login_credential_local_reference": {"kind": "app_credential", "name": "CENTOS"}}, "timeout_secs": "", "type": "EXEC", "variable_list": [], "name": "ConfigureMaster"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Master"}, "description": "", "child_tasks_local_reference_list": [], "attrs": {"exit_status": [], "script": "#!/bin/bash\n\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\nmaster_ip=\"@@{address}@@\"\n\nserver_id=`sudo cat /etc/my.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat /etc/my.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\n\nif [ ${is_master} -eq 0 ]\nthen\n    while true\n    do\n      status=`sudo systemctl status mysql | grep Active: | awk ' { print $3 }' | sed 's#[(|)]##g'`\n  \t  [ $status = \"running\" ] && break\n      echo $status\n  \t  sleep 2\n    done\n    \n    MYSQL_BIN=$(sudo mysql -u root -p${mysql_password} -e 'show master status;' | grep mysql-bin | awk '{print $1}')\n\tMYSQL_POSITION=$(sudo mysql -u root -p${mysql_password} -e 'show master status;' | grep mysql-bin | awk '{print $2}')\n    \n    echo \"MYSQL_BIN=$MYSQL_BIN\"\n\techo \"MYSQL_POSITION=$MYSQL_POSITION\"\n    echo \"MYSQL_MASTER_IP=$master_ip\"\nfi\n", "eval_variables": ["MYSQL_BIN", "MYSQL_POSITION", "MYSQL_MASTER_IP"], "eval_scope": "local", "login_credential_local_reference": {"kind": "app_credential", "name": "CENTOS"}, "type": "", "script_type": "sh"}, "timeout_secs": "", "type": "SET_VARIABLE", "variable_list": [], "name": "GetDBState"}], "description": "", "main_task_local_reference": {"kind": "app_task", "name": "a6df9f70_dag"}, "name": "0a970522_runbook"}}, {"critical": false, "type": "system", "description": "System action for deleting an application. Deletes physical machines as well", "name": "action_delete", "runbook": {"variable_list": [], "task_definition_list": [{"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Master"}, "description": "", "child_tasks_local_reference_list": [], "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "name": "3f9277cd_dag"}], "description": "", "main_task_local_reference": {"kind": "app_task", "name": "3f9277cd_dag"}, "name": "5fd47ec3_runbook"}}, {"critical": false, "type": "system", "description": "System action for starting an application", "name": "action_start", "runbook": {"variable_list": [], "task_definition_list": [{"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Master"}, "description": "", "child_tasks_local_reference_list": [], "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "name": "32e9c292_dag"}], "description": "", "main_task_local_reference": {"kind": "app_task", "name": "32e9c292_dag"}, "name": "5ddb28d1_runbook"}}, {"critical": false, "type": "system", "description": "System action for stopping an application", "name": "action_stop", "runbook": {"variable_list": [], "task_definition_list": [{"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Master"}, "description": "", "child_tasks_local_reference_list": [], "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "name": "ce63573f_dag"}], "description": "", "main_task_local_reference": {"kind": "app_task", "name": "ce63573f_dag"}, "name": "0aefbca3_runbook"}}, {"critical": false, "type": "system", "description": "System action for restarting an application", "name": "action_restart", "runbook": {"variable_list": [], "task_definition_list": [{"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Master"}, "description": "", "child_tasks_local_reference_list": [], "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "name": "c4afa1a6_dag"}], "description": "", "main_task_local_reference": {"kind": "app_task", "name": "c4afa1a6_dag"}, "name": "7e709238_runbook"}}], "description": "", "port_list": [], "tier": "", "variable_list": [], "depends_on_list": []}, {"singleton": false, "name": "MySQL_Slave", "action_list": [{"critical": false, "type": "system", "description": "System action for creating an application", "name": "action_create", "runbook": {"variable_list": [], "task_definition_list": [{"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Slave"}, "description": "", "child_tasks_local_reference_list": [{"kind": "app_task", "name": "ConfigureSlaves"}], "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "name": "93f99bda_dag"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Slave"}, "description": "", "child_tasks_local_reference_list": [], "attrs": {"exit_status": [], "script": "#!/bin/bash\n\n\n### Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\nmaster_ip=\"@@{MySQL_Master.MYSQL_MASTER_IP}@@\"\nmaster_bin=\"@@{MySQL_Master.MYSQL_BIN}@@\"\nmaster_position=\"@@{MySQL_Master.MYSQL_POSITION}@@\"\n\nserver_id=`sudo cat /etc/my.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat /etc/my.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\n### Runs on slaves\nif [ ${is_master} -ne 0 ]\nthen\n  sudo mysql -u root -p${mysql_password} -e \"change master to master_host='${master_ip}',master_user='replica',master_password='${mysql_password}',master_log_file='${master_bin}',master_log_pos=${master_position};\"\n  sudo mysql -u root -p${mysql_password} -e 'start slave;'\n  sudo mysql -u root -p${mysql_password} -e 'show slave status\\G' | grep -A11 Slave_IO_State\nfi", "script_type": "sh", "type": "", "command_line_args": "", "login_credential_local_reference": {"kind": "app_credential", "name": "CENTOS"}}, "timeout_secs": "", "type": "EXEC", "variable_list": [], "name": "ConfigureSlaves"}], "description": "", "main_task_local_reference": {"kind": "app_task", "name": "93f99bda_dag"}, "name": "d54168c9_runbook"}}, {"critical": false, "type": "system", "description": "System action for deleting an application. Deletes physical machines as well", "name": "action_delete", "runbook": {"variable_list": [], "task_definition_list": [{"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Slave"}, "description": "", "child_tasks_local_reference_list": [], "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "name": "5066b603_dag"}], "description": "", "main_task_local_reference": {"kind": "app_task", "name": "5066b603_dag"}, "name": "92247e35_runbook"}}, {"critical": false, "type": "system", "description": "System action for starting an application", "name": "action_start", "runbook": {"variable_list": [], "task_definition_list": [{"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Slave"}, "description": "", "child_tasks_local_reference_list": [], "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "name": "abefdcaf_dag"}], "description": "", "main_task_local_reference": {"kind": "app_task", "name": "abefdcaf_dag"}, "name": "a027cde0_runbook"}}, {"critical": false, "type": "system", "description": "System action for stopping an application", "name": "action_stop", "runbook": {"variable_list": [], "task_definition_list": [{"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Slave"}, "description": "", "child_tasks_local_reference_list": [], "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "name": "097fa65d_dag"}], "description": "", "main_task_local_reference": {"kind": "app_task", "name": "097fa65d_dag"}, "name": "4a2ad0be_runbook"}}, {"critical": false, "type": "system", "description": "System action for restarting an application", "name": "action_restart", "runbook": {"variable_list": [], "task_definition_list": [{"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Slave"}, "description": "", "child_tasks_local_reference_list": [], "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "name": "e1f94389_dag"}], "description": "", "main_task_local_reference": {"kind": "app_task", "name": "e1f94389_dag"}, "name": "f2b2a076_runbook"}}], "description": "", "port_list": [], "tier": "", "variable_list": [], "depends_on_list": [{"kind": "app_service", "name": "MySQL_Master"}]}], "substrate_definition_list": [{"description": "", "action_list": [], "readiness_probe": {"connection_type": "SSH", "disable_readiness_probe": false, "timeout_secs": "60", "address": "@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@", "connection_port": 22, "login_credential_local_reference": {"kind": "app_credential", "name": "CENTOS"}}, "editables": {"readiness_probe": {"connection_port": true, "timeout_secs": true}, "create_spec": {"name": true, "resources": {"nic_list": {"0": {"subnet_reference": true}}, "num_vcpus_per_socket": true, "num_sockets": true, "memory_size_mib": true, "guest_customization": true, "disk_list": {"0": {"device_properties": {"disk_address": {}}}}}}}, "os_type": "Linux", "type": "AHV_VM", "create_spec": {"backup_policy": null, "type": "", "name": "MySQLMaster", "resources": {"nic_list": [{"nic_type": "NORMAL_NIC", "ip_endpoint_list": [], "network_function_chain_reference": null, "network_function_nic_type": "INGRESS", "mac_address": "", "subnet_reference": {"kind": "subnet", "type": "", "name": "", "uuid": "1aa99997-98f7-4cad-b3e6-558ca5a37e33"}, "type": ""}], "parent_reference": null, "guest_tools": null, "num_vcpus_per_socket": 1, "num_sockets": 2, "gpu_list": [], "memory_size_mib": 4096, "power_state": "ON", "hardware_clock_timezone": "", "guest_customization": {"cloud_init": {"meta_data": "", "type": "", "user_data": "#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{INSTANCE_PUBLIC_KEY}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']"}, "type": "", "sysprep": null}, "type": "", "boot_config": {"boot_device": {"type": "", "disk_address": {"adapter_type": "SCSI", "device_index": 0, "type": ""}}, "type": "", "mac_address": ""}, "disk_list": [{"data_source_reference": {"kind": "image", "type": "", "name": "CentOS", "uuid": "c14140d0-7fc6-4ff2-98ef-4c40c5fd0b8f"}, "type": "", "disk_size_mib": 0, "device_properties": {"type": "", "device_type": "DISK", "disk_address": {"adapter_type": "SCSI", "device_index": 0, "type": ""}}}]}, "availability_zone_reference": null}, "variable_list": [], "name": "AHVMaster"}, {"description": "", "action_list": [], "readiness_probe": {"connection_type": "SSH", "disable_readiness_probe": false, "timeout_secs": "60", "address": "@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@", "connection_port": 22, "login_credential_local_reference": {"kind": "app_credential", "name": "CENTOS"}}, "editables": {"readiness_probe": {"connection_port": true, "timeout_secs": true}, "create_spec": {"name": true, "resources": {"nic_list": {"0": {"subnet_reference": true}}, "num_vcpus_per_socket": true, "num_sockets": true, "memory_size_mib": true, "guest_customization": true, "disk_list": {"0": {"device_properties": {"disk_address": {}}}}}}}, "os_type": "Linux", "type": "AHV_VM", "create_spec": {"backup_policy": null, "type": "", "name": "MySQLSlaveVM", "resources": {"nic_list": [{"nic_type": "NORMAL_NIC", "ip_endpoint_list": [], "network_function_chain_reference": null, "network_function_nic_type": "INGRESS", "mac_address": "", "subnet_reference": {"kind": "subnet", "type": "", "name": "", "uuid": "1aa99997-98f7-4cad-b3e6-558ca5a37e33"}, "type": ""}], "parent_reference": null, "guest_tools": null, "num_vcpus_per_socket": 1, "num_sockets": 2, "gpu_list": [], "memory_size_mib": 4096, "power_state": "ON", "hardware_clock_timezone": "", "guest_customization": {"cloud_init": {"meta_data": "", "type": "", "user_data": "#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{INSTANCE_PUBLIC_KEY}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']"}, "type": "", "sysprep": null}, "type": "", "boot_config": null, "disk_list": [{"data_source_reference": {"kind": "image", "type": "", "name": "CentOS", "uuid": "c14140d0-7fc6-4ff2-98ef-4c40c5fd0b8f"}, "type": "", "disk_size_mib": 0, "device_properties": {"type": "", "device_type": "DISK", "disk_address": {"adapter_type": "SCSI", "device_index": 0, "type": ""}}}]}, "availability_zone_reference": null}, "variable_list": [], "name": "AHVSlave"}, {"description": "", "action_list": [], "readiness_probe": {"connection_type": "SSH", "disable_readiness_probe": false, "timeout_secs": "300", "address": "@@{public_ip_address}@@", "connection_port": 22, "login_credential_local_reference": {"kind": "app_credential", "name": "CENTOS"}}, "editables": {"readiness_probe": {"connection_port": true, "timeout_secs": true}, "create_spec": {"name": true, "resources": {"instance_profile_name": true, "availability_zone": true, "subnet_id": true, "key_name": true, "region": true, "instance_initiated_shutdown_behavior": true, "image_id": true, "instance_type": true, "security_group_list": true, "block_device_map": {"root_disk": {"size_gb": true}}, "associate_public_ip_address": true, "vpc_id": true, "tag_list": true}}}, "os_type": "Linux", "type": "AWS_VM", "create_spec": {"backup_policy": null, "type": "PROVISION_AWS_VM", "name": "MySQLMasterVM", "resources": {"instance_type": "t2.large", "instance_profile_name": "ecsInstanceRole", "availability_zone": "us-east-1a", "subnet_id": "subnet-9d1085b1", "key_name": "calm-blueprints", "region": "us-east-1", "instance_initiated_shutdown_behavior": "TERMINATE", "user_data": "", "image_id": "ami-1a69ed60", "associate_public_ip_address": true, "security_group_list": [{"type": "", "security_group_id": "sg-12a3f662"}], "block_device_map": {"data_disk_list": [], "type": "", "root_disk": {"size_gb": 8, "volume_type": "GP2", "device_name": "/dev/sdb", "iops": 1, "snapshot_id": "", "type": "", "delete_on_termination": true}}, "private_ip_address": "", "vpc_id": "vpc-ffd54d98", "tag_list": [], "type": ""}, "availability_zone_reference": null}, "variable_list": [], "name": "AWSMaster"}, {"description": "", "action_list": [], "readiness_probe": {"connection_type": "SSH", "disable_readiness_probe": false, "timeout_secs": "300", "address": "@@{public_ip_address}@@", "connection_port": 22, "login_credential_local_reference": {"kind": "app_credential", "name": "CENTOS"}}, "editables": {"readiness_probe": {"connection_port": true, "timeout_secs": true}, "create_spec": {"name": true, "resources": {"instance_profile_name": true, "availability_zone": true, "subnet_id": true, "key_name": true, "region": true, "instance_initiated_shutdown_behavior": true, "image_id": true, "instance_type": true, "security_group_list": true, "block_device_map": {"root_disk": {"size_gb": true}}, "associate_public_ip_address": true, "vpc_id": true, "tag_list": true}}}, "os_type": "Linux", "type": "AWS_VM", "create_spec": {"backup_policy": null, "type": "PROVISION_AWS_VM", "name": "MySQLSlaveVM", "resources": {"instance_type": "t2.large", "instance_profile_name": "ecsInstanceRole", "availability_zone": "us-east-1a", "subnet_id": "subnet-9d1085b1", "key_name": "calm-blueprints", "region": "us-east-1", "instance_initiated_shutdown_behavior": "TERMINATE", "user_data": "", "image_id": "ami-1a69ed60", "associate_public_ip_address": true, "security_group_list": [{"type": "", "security_group_id": "sg-12a3f662"}], "block_device_map": {"data_disk_list": [], "type": "", "root_disk": {"size_gb": 8, "volume_type": "GP2", "device_name": "/dev/sdb", "iops": 1, "snapshot_id": "", "type": "", "delete_on_termination": true}}, "private_ip_address": "", "vpc_id": "vpc-ffd54d98", "tag_list": [], "type": ""}, "availability_zone_reference": null}, "variable_list": [], "name": "AWSSlave"}], "credential_definition_list": [{"username": "root", "description": "", "secret": {"attrs": {"is_secret_modified": false, "secret_reference": {}}}, "editables": {"username": true, "secret": true}, "type": "PASSWORD", "name": "CENTOS"}], "package_definition_list": [{"description": "", "action_list": [], "service_local_reference_list": [{"kind": "app_service", "name": "MySQL_Master"}], "version": "", "type": "DEB", "options": {"install_runbook": {"variable_list": [], "task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AHVMasterPackage"}, "description": "", "child_tasks_local_reference_list": [{"kind": "app_task", "name": "PackageInstallTask"}], "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "name": "9cbec184_dag"}, {"target_any_local_reference": {"kind": "app_package", "name": "AHVMasterPackage"}, "description": "", "child_tasks_local_reference_list": [], "attrs": {"exit_status": [], "script": "#!/bin/bash\nset -ex\n\nsudo yum update -y\nmysql_repo_package=\"http://repo.mysql.com/mysql-community-release-el7.rpm\"\nsudo yum install -y $mysql_repo_package\nsudo yum update -y\nsudo yum install -y sshpass mysql-community-server.x86_64\n\nsudo systemctl start mysqld\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nUPDATE mysql.user SET Password=PASSWORD('@@{MYSQL_PASSWORD}@@') WHERE User='root';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n\n### Configure mysql\nsudo sed -i '/\\[mysqld\\]/a log-bin=mysql-bin' /etc/my.cnf\nsudo sed -i \"/\\[mysqld\\]/a server-id=100\" /etc/my.cnf\nsudo sed -i \"/\\[mysqld\\]/a binlog-format=mixed\" /etc/my.cnf\necho \"#master=100\" | sudo tee -a  /etc/my.cnf\n\nserver_id=`sudo cat /etc/my.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat /etc/my.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '/\\[mysqld\\]/a read_only=1' /etc/my.cnf\nfi\n\nsudo systemctl restart mysqld\nsleep 2\n", "script_type": "sh", "type": "", "command_line_args": "", "login_credential_local_reference": {"kind": "app_credential", "name": "CENTOS"}}, "timeout_secs": "", "type": "EXEC", "variable_list": [], "name": "PackageInstallTask"}], "description": "", "main_task_local_reference": {"kind": "app_task", "name": "9cbec184_dag"}, "name": "ee9a3de0_runbook"}, "type": "", "uninstall_runbook": {"variable_list": [], "task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AHVMasterPackage"}, "description": "", "child_tasks_local_reference_list": [{"kind": "app_task", "name": "PackageUninstallTask"}], "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "name": "7e474eb1_dag"}, {"target_any_local_reference": {"kind": "app_package", "name": "AHVMasterPackage"}, "description": "", "child_tasks_local_reference_list": [], "attrs": {"exit_status": [], "script": "#!/bin/bash", "script_type": "sh", "type": "", "command_line_args": "", "login_credential_local_reference": {"kind": "app_credential", "name": "CENTOS"}}, "timeout_secs": "", "type": "EXEC", "variable_list": [], "name": "PackageUninstallTask"}], "description": "", "main_task_local_reference": {"kind": "app_task", "name": "7e474eb1_dag"}, "name": "4235ede6_runbook"}}, "variable_list": [], "name": "AHVMasterPackage"}, {"description": "", "action_list": [], "service_local_reference_list": [{"kind": "app_service", "name": "MySQL_Slave"}], "version": "", "type": "DEB", "options": {"install_runbook": {"variable_list": [], "task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AHVSlavePackage"}, "description": "", "child_tasks_local_reference_list": [{"kind": "app_task", "name": "PackageInstallTask"}], "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "name": "35a5e492_dag"}, {"target_any_local_reference": {"kind": "app_package", "name": "AHVSlavePackage"}, "description": "", "child_tasks_local_reference_list": [], "attrs": {"exit_status": [], "script": "#!/bin/bash\nset -ex\n\nsudo yum update -y\nmysql_repo_package=\"http://repo.mysql.com/mysql-community-release-el7.rpm\"\nsudo yum install -y $mysql_repo_package\nsudo yum update -y\nsudo yum install -y sshpass mysql-community-server.x86_64\n\nsudo systemctl start mysqld\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nUPDATE mysql.user SET Password=PASSWORD('@@{MYSQL_PASSWORD}@@') WHERE User='root';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n\n### Configure mysql\nsudo sed -i '/\\[mysqld\\]/a log-bin=mysql-bin' /etc/my.cnf\nsudo sed -i \"/\\[mysqld\\]/a server-id=10$((@@{calm_array_index}@@+1))\" /etc/my.cnf\nsudo sed -i \"/\\[mysqld\\]/a binlog-format=mixed\" /etc/my.cnf\n\necho \"#master=100\" | sudo tee -a  /etc/my.cnf\n\nserver_id=`sudo cat /etc/my.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat /etc/my.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '/\\[mysqld\\]/a read_only=1' /etc/my.cnf\nfi\n\nsudo systemctl restart mysqld\nsleep 2\n\n", "script_type": "sh", "type": "", "command_line_args": "", "login_credential_local_reference": {"kind": "app_credential", "name": "CENTOS"}}, "timeout_secs": "", "type": "EXEC", "variable_list": [], "name": "PackageInstallTask"}], "description": "", "main_task_local_reference": {"kind": "app_task", "name": "35a5e492_dag"}, "name": "db3247c6_runbook"}, "type": "", "uninstall_runbook": {"variable_list": [], "task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AHVSlavePackage"}, "description": "", "child_tasks_local_reference_list": [{"kind": "app_task", "name": "PackageUninstallTask"}], "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "name": "53d74d7d_dag"}, {"target_any_local_reference": {"kind": "app_package", "name": "AHVSlavePackage"}, "description": "", "child_tasks_local_reference_list": [], "attrs": {"exit_status": [], "script": "#!/bin/bash", "script_type": "sh", "type": "", "command_line_args": "", "login_credential_local_reference": {"kind": "app_credential", "name": "CENTOS"}}, "timeout_secs": "", "type": "EXEC", "variable_list": [], "name": "PackageUninstallTask"}], "description": "", "main_task_local_reference": {"kind": "app_task", "name": "53d74d7d_dag"}, "name": "a4fbe7d2_runbook"}}, "variable_list": [], "name": "AHVSlavePackage"}, {"description": "", "action_list": [], "service_local_reference_list": [{"kind": "app_service", "name": "MySQL_Master"}], "version": "", "type": "DEB", "options": {"install_runbook": {"variable_list": [], "task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AWSMasterPackage"}, "description": "", "child_tasks_local_reference_list": [{"kind": "app_task", "name": "PackageInstallTask"}], "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "name": "20906fd3_dag"}, {"target_any_local_reference": {"kind": "app_package", "name": "AWSMasterPackage"}, "description": "", "child_tasks_local_reference_list": [], "attrs": {"exit_status": [], "script": "#!/bin/bash\nset -ex\n\nsudo yum update -y\nmysql_repo_package=\"http://repo.mysql.com/mysql-community-release-el7.rpm\"\nsudo yum install -y $mysql_repo_package\nsudo yum update -y\nsudo yum install -y sshpass mysql-community-server.x86_64\n\nsudo systemctl start mysqld\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nUPDATE mysql.user SET Password=PASSWORD('@@{MYSQL_PASSWORD}@@') WHERE User='root';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n\n### Configure mysql\nsudo sed -i '/\\[mysqld\\]/a log-bin=mysql-bin' /etc/my.cnf\nsudo sed -i \"/\\[mysqld\\]/a server-id=100\" /etc/my.cnf\nsudo sed -i \"/\\[mysqld\\]/a binlog-format=mixed\" /etc/my.cnf\necho \"#master=100\" | sudo tee -a  /etc/my.cnf\n\nserver_id=`sudo cat /etc/my.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat /etc/my.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '/\\[mysqld\\]/a read_only=1' /etc/my.cnf\nfi\n\nsudo systemctl restart mysqld\nsleep 2\n", "script_type": "sh", "type": "", "command_line_args": "", "login_credential_local_reference": {"kind": "app_credential", "name": "CENTOS"}}, "timeout_secs": "", "type": "EXEC", "variable_list": [], "name": "PackageInstallTask"}], "description": "", "main_task_local_reference": {"kind": "app_task", "name": "20906fd3_dag"}, "name": "8c0bb7c2_runbook"}, "type": "", "uninstall_runbook": {"variable_list": [], "task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AWSMasterPackage"}, "description": "", "child_tasks_local_reference_list": [{"kind": "app_task", "name": "PackageUninstallTask"}], "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "name": "102b4b68_dag"}, {"target_any_local_reference": {"kind": "app_package", "name": "AWSMasterPackage"}, "description": "", "child_tasks_local_reference_list": [], "attrs": {"exit_status": [], "script": "#!/bin/bash", "script_type": "sh", "type": "", "command_line_args": "", "login_credential_local_reference": {"kind": "app_credential", "name": "CENTOS"}}, "timeout_secs": "", "type": "EXEC", "variable_list": [], "name": "PackageUninstallTask"}], "description": "", "main_task_local_reference": {"kind": "app_task", "name": "102b4b68_dag"}, "name": "97a9a9af_runbook"}}, "variable_list": [], "name": "AWSMasterPackage"}, {"description": "", "action_list": [], "service_local_reference_list": [{"kind": "app_service", "name": "MySQL_Slave"}], "version": "", "type": "DEB", "options": {"install_runbook": {"variable_list": [], "task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AWSSlavePackage"}, "description": "", "child_tasks_local_reference_list": [{"kind": "app_task", "name": "PackageInstallTask"}], "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "name": "be281c77_dag"}, {"target_any_local_reference": {"kind": "app_package", "name": "AWSSlavePackage"}, "description": "", "child_tasks_local_reference_list": [], "attrs": {"exit_status": [], "script": "#!/bin/bash\nset -ex\n\nsudo yum update -y\nmysql_repo_package=\"http://repo.mysql.com/mysql-community-release-el7.rpm\"\nsudo yum install -y $mysql_repo_package\nsudo yum update -y\nsudo yum install -y sshpass mysql-community-server.x86_64\n\nsudo systemctl start mysqld\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nUPDATE mysql.user SET Password=PASSWORD('@@{MYSQL_PASSWORD}@@') WHERE User='root';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n\n### Configure mysql\nsudo sed -i '/\\[mysqld\\]/a log-bin=mysql-bin' /etc/my.cnf\nsudo sed -i \"/\\[mysqld\\]/a server-id=10$((@@{calm_array_index}@@+1))\" /etc/my.cnf\nsudo sed -i \"/\\[mysqld\\]/a binlog-format=mixed\" /etc/my.cnf\n\necho \"#master=100\" | sudo tee -a  /etc/my.cnf\n\nserver_id=`sudo cat /etc/my.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat /etc/my.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '/\\[mysqld\\]/a read_only=1' /etc/my.cnf\nfi\n\nsudo systemctl restart mysqld\nsleep 2\n", "script_type": "sh", "type": "", "command_line_args": "", "login_credential_local_reference": {"kind": "app_credential", "name": "CENTOS"}}, "timeout_secs": "", "type": "EXEC", "variable_list": [], "name": "PackageInstallTask"}], "description": "", "main_task_local_reference": {"kind": "app_task", "name": "be281c77_dag"}, "name": "c2ab2da2_runbook"}, "type": "", "uninstall_runbook": {"variable_list": [], "task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AWSSlavePackage"}, "description": "", "child_tasks_local_reference_list": [{"kind": "app_task", "name": "PackageUninstallTask"}], "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "name": "62f03f3b_dag"}, {"target_any_local_reference": {"kind": "app_package", "name": "AWSSlavePackage"}, "description": "", "child_tasks_local_reference_list": [], "attrs": {"exit_status": [], "script": "#!/bin/bash", "script_type": "sh", "type": "", "command_line_args": "", "login_credential_local_reference": {"kind": "app_credential", "name": "CENTOS"}}, "timeout_secs": "", "type": "EXEC", "variable_list": [], "name": "PackageUninstallTask"}], "description": "", "main_task_local_reference": {"kind": "app_task", "name": "62f03f3b_dag"}, "name": "88bbbcc1_runbook"}}, "variable_list": [], "name": "AWSSlavePackage"}, {"description": "", "action_list": [], "service_local_reference_list": [], "version": "", "type": "SUBSTRATE_IMAGE", "options": {"type": "", "name": "CentOS-7.4-MySQL-Master", "resources": {"image_type": "DISK_IMAGE", "checksum": {"checksum_algorithm": "", "type": "", "checksum_value": ""}, "source_uri": "http://download.nutanix.com/calm/CentOS-7-x86_64-GenericCloud.qcow2", "version": {"product_version": "", "type": "", "product_name": ""}, "architecture": "X86_64", "type": ""}, "description": ""}, "variable_list": [], "name": "CENTOS_MASTER"}, {"description": "", "action_list": [], "service_local_reference_list": [], "version": "", "type": "SUBSTRATE_IMAGE", "options": {"type": "", "name": "CentOS-7.4-MySQL-Slave", "resources": {"image_type": "DISK_IMAGE", "checksum": {"checksum_algorithm": "", "type": "", "checksum_value": ""}, "source_uri": "http://download.nutanix.com/calm/CentOS-7-x86_64-GenericCloud.qcow2", "version": {"product_version": "", "type": "", "product_name": ""}, "architecture": "X86_64", "type": ""}, "description": ""}, "variable_list": [], "name": "CENTOS_SLAVE"}], "app_profile_list": [{"deployment_create_list": [{"description": "", "action_list": [], "package_local_reference_list": [{"kind": "app_package", "name": "AHVMasterPackage"}], "max_replicas": "1", "substrate_local_reference": {"kind": "app_substrate", "name": "AHVMaster"}, "min_replicas": "1", "variable_list": [], "name": "9098b02b_deployment"}, {"name": "de329770_deployment", "action_list": [], "package_local_reference_list": [{"kind": "app_package", "name": "AHVSlavePackage"}], "editables": {"min_replicas": true}, "max_replicas": "2", "substrate_local_reference": {"kind": "app_substrate", "name": "AHVSlave"}, "min_replicas": "2", "variable_list": [], "description": ""}], "variable_list": [{"val_type": "STRING", "description": "", "value": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDMGAS/K0Mb/uwFXwD+hkjguy7VMZk2hpuhwPl9FUZwVBrURf/i9QMJ5/paPEZixu8VlRx7Inu4iun7rQfrnfeIYInmBwspXHYiTK3oHJAgZnrAHVEf1p6YaxLINlT1NI5yOAGPRWW6of8rBDBH1ObwU2+wcSx/1H0uIs3aZNLufr+Rh628ACxAum2Gt8AVRj6ua2BPFyt5VTdclyysAmeh1AiixNgOZXOz6y/i4TbzpY78I3isuKpxsUeXX6jxEMQol406jHDUF6njEOPIQG2zVZ3QJlTG9OlN+NiyZG9WkZz0VG/6M8ixxIHHI2dNwUbBFv2HUu+8X9LTLFq2O7KjX9Hp7uZKBAySHA3eKaKHIp2bZuU1bT5PRPkggngX86xg+T+OMNnutbAiMnRJ8+FvD5So+5TIx4b9GgxAxure3x2yRPT9lOiQOB+CVpJPxR0Rn9bOI+wiPnD0kAGvK/fHT+pqL4PM+hTnJtp9rrCRzIQApBx1263jEcYffhW2epZQRO+he5CMawFJ5TBe08om2AaDJ8GQdrpF6YA3W8DzHbmL3DPVVHdmqPLn10o+LX4gv5SdIIDVGdjKOc1BCnLTRmM28d5+sLDt/M+kvcQgf0y0yDjMVjGECZkt39hbm4ELMHzZtzYLmHNhBZxRqHeJ7qFTuv1kx88OW3Xc5mbBNQ== centos@nutanix.com", "label": "", "attrs": {"type": ""}, "editables": {"value": true}, "type": "LOCAL", "name": "INSTANCE_PUBLIC_KEY"}, {"val_type": "STRING", "description": "", "value": "", "label": "", "attrs": {"is_secret_modified": false, "secret_reference": {}, "type": ""}, "editables": {"value": true}, "type": "SECRET", "name": "MYSQL_PASSWORD"}], "description": "", "action_list": [{"critical": false, "type": "user", "description": "Take DB Backup. Specify absolute directory path for BACKUP_FILE_PATH", "name": "Backup", "runbook": {"variable_list": [{"val_type": "STRING", "description": "", "value": "", "label": "", "attrs": {"type": ""}, "editables": {"value": true}, "type": "LOCAL", "name": "BACKUP_FILE_PATH"}], "task_definition_list": [{"description": "", "child_tasks_local_reference_list": [{"kind": "app_task", "name": "DoDBBackup"}], "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "name": "3e7d744d_dag"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Master"}, "description": "", "child_tasks_local_reference_list": [], "attrs": {"exit_status": [], "script": "#!/bin/bash\n\n### Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\ndate_part=`date +%F`\nmkdir -p @@{BACKUP_FILE_PATH}@@\nsudo mysqldump -u root -p${mysql_password} --all-databases | sudo gzip -9 > @@{BACKUP_FILE_PATH}@@/db_dump_$date_part.sql.gz", "script_type": "sh", "type": "", "command_line_args": "", "login_credential_local_reference": {"kind": "app_credential", "name": "CENTOS"}}, "timeout_secs": "", "type": "EXEC", "variable_list": [], "name": "DoDBBackup"}], "description": "", "main_task_local_reference": {"kind": "app_task", "name": "3e7d744d_dag"}, "name": "c6cd4595_runbook"}}, {"critical": false, "type": "user", "description": "To restore DB from dump file. Specify absolute directory path for RESTORE_FILE_PATH", "name": "Restore", "runbook": {"variable_list": [{"val_type": "STRING", "description": "", "value": "", "label": "", "attrs": {"type": ""}, "editables": {"value": true}, "type": "LOCAL", "name": "RESTORE_FILE_PATH"}], "task_definition_list": [{"description": "", "child_tasks_local_reference_list": [{"kind": "app_task", "name": "DoDBRestore"}], "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "name": "458965d2_dag"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Master"}, "description": "", "child_tasks_local_reference_list": [], "attrs": {"exit_status": [], "script": "#!/bin/bash\n\n### Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\ndb_file=@@{RESTORE_FILE_PATH}@@\n\nsudo gunzip < $db_file | sudo mysql -u root -p${mysql_password} ", "script_type": "sh", "type": "", "command_line_args": "", "login_credential_local_reference": {"kind": "app_credential", "name": "CENTOS"}}, "timeout_secs": "", "type": "EXEC", "variable_list": [], "name": "DoDBRestore"}], "description": "", "main_task_local_reference": {"kind": "app_task", "name": "458965d2_dag"}, "name": "412d41ad_runbook"}}], "name": "Nutanix"}, {"deployment_create_list": [{"description": "", "action_list": [], "package_local_reference_list": [{"kind": "app_package", "name": "AWSMasterPackage"}], "max_replicas": "1", "substrate_local_reference": {"kind": "app_substrate", "name": "AWSMaster"}, "min_replicas": "1", "variable_list": [], "name": "62ee1671_deployment"}, {"name": "a7e03ed8_deployment", "action_list": [], "package_local_reference_list": [{"kind": "app_package", "name": "AWSSlavePackage"}], "editables": {"min_replicas": true}, "max_replicas": "2", "substrate_local_reference": {"kind": "app_substrate", "name": "AWSSlave"}, "min_replicas": "2", "variable_list": [], "description": ""}], "variable_list": [{"val_type": "STRING", "description": "", "value": "", "label": "", "attrs": {"is_secret_modified": false, "secret_reference": {}, "type": ""}, "editables": {"value": true}, "type": "SECRET", "name": "MYSQL_PASSWORD"}], "description": "", "action_list": [{"critical": false, "type": "user", "description": "Take DB Backup. Specify absolute directory path for BACKUP_FILE_PATH", "name": "Backup", "runbook": {"variable_list": [{"val_type": "STRING", "description": "", "value": "", "label": "", "attrs": {"type": ""}, "editables": {"value": true}, "type": "LOCAL", "name": "BACKUP_FILE_PATH"}], "task_definition_list": [{"description": "", "child_tasks_local_reference_list": [{"kind": "app_task", "name": "DoDBBackup"}], "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "name": "80ef9728_dag"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Master"}, "description": "", "child_tasks_local_reference_list": [], "attrs": {"exit_status": [], "script": "#!/bin/bash\n\n### Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\ndate_part=`date +%F`\nmkdir -p @@{BACKUP_FILE_PATH}@@\nsudo mysqldump -u root -p${mysql_password} --all-databases | sudo gzip -9 > @@{BACKUP_FILE_PATH}@@/db_dump_$date_part.sql.gz", "script_type": "sh", "type": "", "command_line_args": "", "login_credential_local_reference": {"kind": "app_credential", "name": "CENTOS"}}, "timeout_secs": "", "type": "EXEC", "variable_list": [], "name": "DoDBBackup"}], "description": "", "main_task_local_reference": {"kind": "app_task", "name": "80ef9728_dag"}, "name": "11eaa560_runbook"}}, {"critical": false, "type": "user", "description": "To restore DB from dump file. Specify absolute directory path for RESTORE_FILE_PATH", "name": "Restore", "runbook": {"variable_list": [{"val_type": "STRING", "description": "", "value": "", "label": "", "attrs": {"type": ""}, "editables": {"value": true}, "type": "LOCAL", "name": "RESTORE_FILE_PATH"}], "task_definition_list": [{"description": "", "child_tasks_local_reference_list": [{"kind": "app_task", "name": "DoDBRestore"}], "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "name": "6d512a54_dag"}, {"target_any_local_reference": {"kind": "app_service", "name": "MySQL_Master"}, "description": "", "child_tasks_local_reference_list": [], "attrs": {"exit_status": [], "script": "#!/bin/bash\n\n### Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\ndb_file=@@{RESTORE_FILE_PATH}@@\n\nsudo gunzip < $db_file | sudo mysql -u root -p${mysql_password} ", "script_type": "sh", "type": "", "command_line_args": "", "login_credential_local_reference": {"kind": "app_credential", "name": "CENTOS"}}, "timeout_secs": "", "type": "EXEC", "variable_list": [], "name": "DoDBRestore"}], "description": "", "main_task_local_reference": {"kind": "app_task", "name": "6d512a54_dag"}, "name": "9651af2f_runbook"}}], "name": "AWS"}], "default_credential_local_reference": {"kind": "app_credential", "name": "CENTOS"}, "client_attrs": {"MySQL_Slave": {"y": 400, "x": 480}, "MySQL_Master": {"y": 400, "x": 240}}}, "name": "MySQL - Project"}, "api_version": "3.0", "metadata": {"last_update_time": "1522231488242925", "creation_time": "1522231005284289", "kind": "blueprint", "spec_version": 7, "name": "MySQL - Project"}}